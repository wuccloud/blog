<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Markdownè¯­æ³•æ±‡æ€»</title>
      <link href="/2024/12/21/Markdown%E8%AF%AD%E6%B3%95%E6%B1%87%E6%80%BB/"/>
      <url>/2024/12/21/Markdown%E8%AF%AD%E6%B3%95%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<center>  <img src="https://img.shields.io/badge/Markdown-CheatSheet-blue?style=for-the-badge&logo=markdown" alt="Markdown CheatSheet Badge"/></center><h2 id="ğŸš€-Markdown-ç®€ä»‹"><a href="#ğŸš€-Markdown-ç®€ä»‹" class="headerlink" title="ğŸš€ Markdown ç®€ä»‹"></a>ğŸš€ Markdown ç®€ä»‹</h2><p>Markdown æ˜¯ä¸€ç§è½»é‡çº§æ ‡è®°è¯­è¨€ï¼Œå®ƒå…è®¸ä½ ä½¿ç”¨æ˜“è¯»æ˜“å†™çš„çº¯æ–‡æœ¬æ ¼å¼ç¼–å†™æ–‡æ¡£ï¼Œç„¶åè½¬æ¢æˆ HTML ç­‰æ ¼å¼ã€‚Markdown å¹¿æ³›åº”ç”¨äºåšå®¢ã€æ–‡æ¡£ã€ç¬”è®°ç­‰é¢†åŸŸï¼Œå› å…¶ç®€æ´é«˜æ•ˆè€Œå¤‡å—æ¬¢è¿ã€‚</p><h2 id="ğŸ“-åŸºç¡€è¯­æ³•"><a href="#ğŸ“-åŸºç¡€è¯­æ³•" class="headerlink" title="ğŸ“ åŸºç¡€è¯­æ³•"></a>ğŸ“ åŸºç¡€è¯­æ³•</h2><h3 id="1-æ ‡é¢˜"><a href="#1-æ ‡é¢˜" class="headerlink" title="1. æ ‡é¢˜"></a>1. æ ‡é¢˜</h3><p>ä½¿ç”¨ <code>#</code> ç¬¦å·è¡¨ç¤ºæ ‡é¢˜ï¼Œ<code>#</code> çš„æ•°é‡è¡¨ç¤ºæ ‡é¢˜çš„çº§åˆ«ã€‚</p><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="section"># ä¸€çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">## äºŒçº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">### ä¸‰çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">#### å››çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">##### äº”çº§æ ‡é¢˜</span></span><br><span class="line"><span class="section">###### å…­çº§æ ‡é¢˜</span></span><br></pre></td></tr></table></figure><h3 id="2-æ®µè½"><a href="#2-æ®µè½" class="headerlink" title="2. æ®µè½"></a>2. æ®µè½</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">æ®µè½ä¹‹é—´ä½¿ç”¨ç©ºè¡Œåˆ†éš”ã€‚</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸€ä¸ªæ®µè½ã€‚</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯å¦ä¸€ä¸ªæ®µè½ã€‚</span><br></pre></td></tr></table></figure><h3 id="3-æ¢è¡Œ"><a href="#3-æ¢è¡Œ" class="headerlink" title="3. æ¢è¡Œ"></a>3. æ¢è¡Œ</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">åœ¨è¡Œæœ«å°¾æ·»åŠ ä¸¤ä¸ªæˆ–å¤šä¸ªç©ºæ ¼ï¼Œç„¶åæŒ‰å›è½¦é”®å³å¯æ¢è¡Œã€‚</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ä¸€è¡Œæ–‡æœ¬ï¼Œ  </span><br><span class="line">è¿™æ˜¯ä¸‹ä¸€è¡Œæ–‡æœ¬ã€‚</span><br></pre></td></tr></table></figure><h3 id="4-å¼ºè°ƒ"><a href="#4-å¼ºè°ƒ" class="headerlink" title="4. å¼ºè°ƒ"></a>4. å¼ºè°ƒ</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ * æˆ– _ åŒ…è£¹æ–‡æœ¬è¡¨ç¤ºå¼ºè°ƒã€‚</span><br><span class="line"></span><br><span class="line"><span class="emphasis">*æ–œä½“æ–‡æœ¬*</span></span><br><span class="line"><span class="emphasis">_æ–œä½“æ–‡æœ¬_</span></span><br><span class="line"><span class="strong">**ç²—ä½“æ–‡æœ¬**</span></span><br><span class="line"><span class="strong">__ç²—ä½“æ–‡æœ¬__</span></span><br><span class="line"><span class="strong">**<span class="emphasis">*ç²—æ–œä½“æ–‡æœ¬*</span>**</span></span><br><span class="line"><span class="strong">__<span class="emphasis">_ç²—æ–œä½“æ–‡æœ¬_</span>__</span></span><br></pre></td></tr></table></figure><h3 id="5-åˆ é™¤çº¿"><a href="#5-åˆ é™¤çº¿" class="headerlink" title="5. åˆ é™¤çº¿"></a>5. åˆ é™¤çº¿</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ ~~ åŒ…è£¹æ–‡æœ¬è¡¨ç¤ºåˆ é™¤çº¿ã€‚</span><br><span class="line"></span><br><span class="line">~~è¿™æ˜¯åˆ é™¤çº¿æ–‡æœ¬~~</span><br></pre></td></tr></table></figure><h3 id="6-å¼•ç”¨"><a href="#6-å¼•ç”¨" class="headerlink" title="6. å¼•ç”¨"></a>6. å¼•ç”¨</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ &gt; ç¬¦å·è¡¨ç¤ºå¼•ç”¨ã€‚</span><br><span class="line"></span><br><span class="line"><span class="quote">&gt; è¿™æ˜¯ä¸€æ®µå¼•ç”¨æ–‡æœ¬</span></span><br><span class="line"><span class="quote">&gt;</span></span><br><span class="line"><span class="quote">&gt; è¿™æ˜¯å¼•ç”¨æ–‡æœ¬çš„ç¬¬äºŒè¡Œ</span></span><br></pre></td></tr></table></figure><h3 id="7-åˆ—è¡¨"><a href="#7-åˆ—è¡¨" class="headerlink" title="7. åˆ—è¡¨"></a>7. åˆ—è¡¨</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">æ— åºåˆ—è¡¨</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ <span class="emphasis">*ã€+ æˆ– - ç¬¦å·è¡¨ç¤ºæ— åºåˆ—è¡¨ã€‚</span></span><br><span class="line"><span class="emphasis"></span></span><br><span class="line"><span class="emphasis">*</span> é¡¹ç›® 1</span><br><span class="line"><span class="bullet">*</span> é¡¹ç›® 2</span><br><span class="line"><span class="bullet">*</span> é¡¹ç›® 3</span><br><span class="line"></span><br><span class="line"><span class="bullet">+</span> é¡¹ç›® A</span><br><span class="line"><span class="bullet">+</span> é¡¹ç›® B</span><br><span class="line"><span class="bullet">+</span> é¡¹ç›® C</span><br><span class="line"></span><br><span class="line"><span class="bullet">-</span> é€‰é¡¹ x</span><br><span class="line"><span class="bullet">-</span> é€‰é¡¹ y</span><br><span class="line"><span class="bullet">-</span> é€‰é¡¹ z</span><br><span class="line"></span><br><span class="line">æœ‰åºåˆ—è¡¨</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨æ•°å­—å’Œ . ç¬¦å·è¡¨ç¤ºæœ‰åºåˆ—è¡¨ã€‚</span><br><span class="line"></span><br><span class="line"><span class="bullet">1.</span> ç¬¬ä¸€é¡¹</span><br><span class="line"><span class="bullet">2.</span> ç¬¬äºŒé¡¹</span><br><span class="line"><span class="bullet">3.</span> ç¬¬ä¸‰é¡¹</span><br></pre></td></tr></table></figure><h3 id="8-ä»£ç "><a href="#8-ä»£ç " class="headerlink" title="8. ä»£ç "></a>8. ä»£ç </h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">è¡Œå†…ä»£ç </span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ \`` åŒ…è£¹ä»£ç è¡¨ç¤ºè¡Œå†…ä»£ç ã€‚</span><br><span class="line"></span><br><span class="line">è¿™æ˜¯ <span class="code">`è¡Œå†…ä»£ç `</span>ã€‚</span><br><span class="line"></span><br><span class="line">ä»£ç å—</span><br><span class="line"></span><br><span class="line">ä½¿ç”¨ \<span class="code">````` åŒ…è£¹ä»£ç å—ï¼Œå¯ä»¥æŒ‡å®šä»£ç è¯­è¨€ã€‚</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\`\`\`python</span></span><br><span class="line"><span class="code">print(&quot;Hello, world!&quot;)</span></span><br><span class="line"><span class="code">\`\`\`</span></span><br><span class="line"><span class="code"></span></span><br><span class="line"><span class="code">\`\`\`javascript</span></span><br><span class="line"><span class="code">console.log(&quot;Hello, world!&quot;);</span></span><br><span class="line"><span class="code">\`\`\`</span></span><br></pre></td></tr></table></figure><h3 id="9-åˆ†å‰²çº¿"><a href="#9-åˆ†å‰²çº¿" class="headerlink" title="9. åˆ†å‰²çº¿"></a>9. åˆ†å‰²çº¿</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ä½¿ç”¨ ---ã€<span class="strong">*** æˆ– ___ è¡¨ç¤ºåˆ†å‰²çº¿ã€‚</span></span><br><span class="line"><span class="strong"></span></span><br><span class="line"><span class="strong">---</span></span><br><span class="line"><span class="strong">**</span>*</span><br><span class="line"><span class="strong">__<span class="emphasis">_</span></span></span><br></pre></td></tr></table></figure><h2 id="ğŸ”—-é«˜çº§è¯­æ³•"><a href="#ğŸ”—-é«˜çº§è¯­æ³•" class="headerlink" title="ğŸ”— é«˜çº§è¯­æ³•"></a>ğŸ”— é«˜çº§è¯­æ³•</h2><h3 id="1-é“¾æ¥"><a href="#1-é“¾æ¥" class="headerlink" title="1. é“¾æ¥"></a>1. é“¾æ¥</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[<span class="string">é“¾æ¥æ–‡æœ¬</span>](<span class="link">é“¾æ¥åœ°å€</span>)</span><br><span class="line"></span><br><span class="line">[<span class="string">ç™¾åº¦</span>](<span class="link">https://www.baidu.com</span>)</span><br><span class="line"></span><br><span class="line">[<span class="string">å¸¦æ ‡é¢˜çš„é“¾æ¥</span>](<span class="link">https://www.google.com &quot;è°·æ­Œ&quot;</span>)</span><br></pre></td></tr></table></figure><h3 id="2-å›¾ç‰‡"><a href="#2-å›¾ç‰‡" class="headerlink" title="2. å›¾ç‰‡"></a>2. å›¾ç‰‡</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">![<span class="string">å›¾ç‰‡æè¿°</span>](<span class="link">å›¾ç‰‡é“¾æ¥</span>)</span><br><span class="line"></span><br><span class="line">![<span class="string">ç¤ºä¾‹å›¾ç‰‡</span>](<span class="link">https://via.placeholder.com/150</span>)</span><br></pre></td></tr></table></figure><h3 id="3-è¡¨æ ¼"><a href="#3-è¡¨æ ¼" class="headerlink" title="3. è¡¨æ ¼"></a>3. è¡¨æ ¼</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">| åˆ—1 | åˆ—2 | åˆ—3 |</span><br><span class="line">| --- | --- | --- |</span><br><span class="line">| æ•°æ®1 | æ•°æ®2 | æ•°æ®3 |</span><br><span class="line">| æ•°æ®A | æ•°æ®B | æ•°æ®C |</span><br><span class="line"></span><br><span class="line">è¡¨æ ¼å¯¹é½</span><br><span class="line"></span><br><span class="line">| å·¦å¯¹é½ | å±…ä¸­å¯¹é½ | å³å¯¹é½ |</span><br><span class="line">| :---- | :----: | ----: |</span><br><span class="line">| å·¦ | ä¸­ | å³ |</span><br><span class="line">| å·¦ | ä¸­ | å³ |</span><br></pre></td></tr></table></figure><h3 id="4-ä»»åŠ¡åˆ—è¡¨"><a href="#4-ä»»åŠ¡åˆ—è¡¨" class="headerlink" title="4. ä»»åŠ¡åˆ—è¡¨"></a>4. ä»»åŠ¡åˆ—è¡¨</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="bullet">-</span> [x] å·²å®Œæˆä»»åŠ¡</span><br><span class="line"><span class="bullet">-</span> [ ] æœªå®Œæˆä»»åŠ¡</span><br></pre></td></tr></table></figure><h3 id="5-è„šæ³¨"><a href="#5-è„šæ³¨" class="headerlink" title="5. è„šæ³¨"></a>5. è„šæ³¨</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">è¿™æ˜¯ä¸€ä¸ªå¸¦æœ‰è„šæ³¨çš„å¥å­[^1]ã€‚</span><br><span class="line"></span><br><span class="line">[<span class="symbol">^1</span>]: <span class="link">è¿™æ˜¯è„šæ³¨çš„å†…å®¹ã€‚</span></span><br></pre></td></tr></table></figure><h3 id="6-Emoji-è¡¨æƒ…"><a href="#6-Emoji-è¡¨æƒ…" class="headerlink" title="6. Emoji è¡¨æƒ…"></a>6. Emoji è¡¨æƒ…</h3><figure class="highlight markdown"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥ä½¿ç”¨ Unicode ç¼–ç æˆ–è€…ç®€çŸ­çš„åç§°æ¥æ’å…¥è¡¨æƒ…ã€‚</span><br><span class="line"></span><br><span class="line">ğŸ˜„ ğŸ‰ ğŸš€ ğŸ‘</span><br><span class="line">:smile: :tada: :rocket: :thumbsup:</span><br></pre></td></tr></table></figure><h3 id="7-HTML-æ ‡ç­¾"><a href="#7-HTML-æ ‡ç­¾" class="headerlink" title="7. HTML æ ‡ç­¾"></a>7. HTML æ ‡ç­¾</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">å¯ä»¥åœ¨ Markdown ä¸­ä½¿ç”¨ HTML æ ‡ç­¾ã€‚</span><br><span class="line"></span><br><span class="line">&lt;span style=&quot;color:red&quot;&gt;è¿™æ˜¯çº¢è‰²æ–‡æœ¬&lt;/span&gt;</span><br><span class="line">&lt;br&gt;</span><br><span class="line">&lt;center&gt;å±…ä¸­å†…å®¹&lt;/center&gt;</span><br></pre></td></tr></table></figure><h2 id="ğŸ’¡-æ‰©å±•è¯­æ³•"><a href="#ğŸ’¡-æ‰©å±•è¯­æ³•" class="headerlink" title="ğŸ’¡ æ‰©å±•è¯­æ³•"></a>ğŸ’¡ æ‰©å±•è¯­æ³•</h2><p>ä¸€äº› Markdown è§£æå™¨æ”¯æŒé¢å¤–çš„è¯­æ³•ï¼Œä¾‹å¦‚ï¼š</p><pre><code>TOC (Table of Contents): è‡ªåŠ¨ç”Ÿæˆç›®å½•ã€‚æ•°å­¦å…¬å¼: ä½¿ç”¨ LaTeX è¯­æ³•ç¼–å†™æ•°å­¦å…¬å¼ã€‚æµç¨‹å›¾ã€æ—¶åºå›¾ç­‰: ä½¿ç”¨ Mermaid ç­‰å·¥å…·ç»˜åˆ¶å›¾è¡¨ã€‚</code></pre><h2 id="ğŸ› ï¸-å·¥å…·æ¨è"><a href="#ğŸ› ï¸-å·¥å…·æ¨è" class="headerlink" title="ğŸ› ï¸ å·¥å…·æ¨è"></a>ğŸ› ï¸ å·¥å…·æ¨è</h2><pre><code>Typora: ä¸€æ¬¾ç®€æ´å¼ºå¤§çš„ Markdown ç¼–è¾‘å™¨ã€‚VS Code: ä½¿ç”¨ Markdown æ’ä»¶çš„å¼ºå¤§ä»£ç ç¼–è¾‘å™¨ã€‚Online Markdown Editor: åœ¨çº¿ Markdown ç¼–è¾‘å™¨ï¼Œæ–¹ä¾¿å¿«æ·ã€‚</code></pre><h2 id="ğŸ“š-å­¦ä¹ èµ„æº"><a href="#ğŸ“š-å­¦ä¹ èµ„æº" class="headerlink" title="ğŸ“š å­¦ä¹ èµ„æº"></a>ğŸ“š å­¦ä¹ èµ„æº</h2><pre><code>Markdown å®˜æ–¹æ•™ç¨‹Markdown æ•™ç¨‹</code></pre>]]></content>
      
      
      <categories>
          
          <category> MarkDownè¯­æ³• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> MarkDownè¯­æ³• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å·¥ä½œé—®é¢˜è®°å½•</title>
      <link href="/2024/12/21/%E5%B7%A5%E4%BD%9C%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/"/>
      <url>/2024/12/21/%E5%B7%A5%E4%BD%9C%E9%97%AE%E9%A2%98%E8%AE%B0%E5%BD%95/</url>
      
        <content type="html"><![CDATA[<h1 id="Net8-SqlServerçš„å‘"><a href="#Net8-SqlServerçš„å‘" class="headerlink" title=".Net8 + SqlServerçš„å‘"></a>.Net8 + SqlServerçš„å‘</h1><h2 id="é—®é¢˜æè¿°"><a href="#é—®é¢˜æè¿°" class="headerlink" title="é—®é¢˜æè¿°:"></a>é—®é¢˜æè¿°:</h2><p>SSLå‡ºé”™ï¼Œå·²æˆåŠŸä¸æœåŠ¡å™¨å»ºç«‹è¿æ¥ï¼Œä½†æ˜¯åœ¨ç™»å½•è¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ã€‚ (provider: SSL æä¾›ç¨‹åº, error: 0 - è¯ä¹¦é“¾æ˜¯ç”±ä¸å—ä¿¡ä»»çš„é¢å‘æœºæ„é¢å‘çš„)</p><h2 id="è§£å†³æ–¹æ¡ˆ"><a href="#è§£å†³æ–¹æ¡ˆ" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>æ•°æ®åº“è¿æ¥ä¸²å¢åŠ :Encrypt&#x3D;True;TrustServerCertificate&#x3D;True;</p><h1 id="Navicatè¿æ¥MySqlæŠ¥é”™"><a href="#Navicatè¿æ¥MySqlæŠ¥é”™" class="headerlink" title="Navicatè¿æ¥MySqlæŠ¥é”™"></a>Navicatè¿æ¥MySqlæŠ¥é”™</h1><h2 id="é—®é¢˜æè¿°-1"><a href="#é—®é¢˜æè¿°-1" class="headerlink" title="é—®é¢˜æè¿°:"></a>é—®é¢˜æè¿°:</h2><p>åœ¨ç”¨Navicatè¿æ¥éæœ¬åœ°çš„MysqlæœåŠ¡å™¨æ•°æ®åº“ï¼ŒæŠ¥1130é”™è¯¯</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ERROR <span class="number">1130</span>: Host <span class="number">192.168</span><span class="number">.3</span><span class="number">.100</span> <span class="keyword">is</span> <span class="keyword">not</span> allowed <span class="keyword">to</span> <span class="keyword">connect</span> <span class="keyword">to</span> this MySQL server</span><br></pre></td></tr></table></figure><h2 id="åŸå› åˆ†æ"><a href="#åŸå› åˆ†æ" class="headerlink" title="åŸå› åˆ†æ:"></a>åŸå› åˆ†æ:</h2><p>æ— æ³•ç»™è¿œç¨‹è¿æ¥çš„ç”¨æˆ·æƒé™é—®é¢˜</p><h2 id="è§£å†³æ–¹æ¡ˆ-1"><a href="#è§£å†³æ–¹æ¡ˆ-1" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>åœ¨æœ¬æœºç™»å…¥mysqlåï¼Œæ›´æ”¹ â€œmysqlâ€ æ•°æ®åº“é‡Œçš„ â€œuserâ€ è¡¨é‡Œçš„ â€œhostâ€ é¡¹ï¼Œä»â€localhostâ€æ”¹ç§°â€™%â€™ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>u root <span class="operator">-</span>p <span class="comment">--ä»¥æƒé™ç”¨æˆ·rootç™»å½•</span></span><br><span class="line">use mysql; <span class="comment">--é€‰æ‹©mysqlåº“</span></span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;host&#x27;</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>; <span class="comment">--æŸ¥çœ‹mysqlåº“ä¸­çš„userè¡¨çš„hostå€¼ï¼ˆå³å¯è¿›è¡Œè¿æ¥è®¿é—®çš„ä¸»æœº/IPåç§°ï¼‰</span></span><br><span class="line"><span class="keyword">update</span> <span class="keyword">user</span> <span class="keyword">set</span> host <span class="operator">=</span> <span class="string">&#x27;%&#x27;</span> <span class="keyword">where</span> <span class="keyword">user</span> <span class="operator">=</span><span class="string">&#x27;root&#x27;</span>; <span class="comment">--ä¿®æ”¹hostå€¼ï¼ˆä»¥é€šé…ç¬¦%çš„å†…å®¹å¢åŠ ä¸»æœº/IPåœ°å€ï¼‰ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ç›´æ¥å¢åŠ IPåœ°å€</span></span><br><span class="line">flush privileges;<span class="comment">--åˆ·æ–°MySQLçš„ç³»ç»Ÿæƒé™ç›¸å…³è¡¨</span></span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;host&#x27;</span> <span class="keyword">from</span> <span class="keyword">user</span> <span class="keyword">where</span> <span class="keyword">user</span><span class="operator">=</span><span class="string">&#x27;root&#x27;</span>; <span class="comment">--å†é‡æ–°æŸ¥çœ‹userè¡¨æ—¶ï¼Œæœ‰ä¿®æ”¹</span></span><br></pre></td></tr></table></figure><h1 id="DBeaverè¿æ¥MySqlæŠ¥é”™"><a href="#DBeaverè¿æ¥MySqlæŠ¥é”™" class="headerlink" title="DBeaverè¿æ¥MySqlæŠ¥é”™"></a>DBeaverè¿æ¥MySqlæŠ¥é”™</h1><h2 id="é—®é¢˜æè¿°-2"><a href="#é—®é¢˜æè¿°-2" class="headerlink" title="é—®é¢˜æè¿°:"></a>é—®é¢˜æè¿°:</h2><p>åœ¨ç”¨DBeaverè¿æ¥mysqlæ—¶ï¼ŒæŠ¥é”™ï¼šPublic Key Retrieval is not allowed</p><h2 id="è§£å†³æ–¹æ¡ˆ-2"><a href="#è§£å†³æ–¹æ¡ˆ-2" class="headerlink" title="è§£å†³æ–¹æ¡ˆ:"></a>è§£å†³æ–¹æ¡ˆ:</h2><p>åœ¨æ–°å»ºè¿æ¥çš„æ—¶å€™ï¼Œé©±åŠ¨å±æ€§é‡Œè®¾ç½® allowPublicKeyRetrieval çš„å€¼ä¸º true</p>]]></content>
      
      
      <categories>
          
          <category> å·¥ä½œé—®é¢˜è®°å½• </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å·¥ä½œé—®é¢˜è®°å½• </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è‡ªå®šä¹‰å®ä½“ç±»å°è£…</title>
      <link href="/2024/12/21/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%B0%81%E8%A3%85/"/>
      <url>/2024/12/21/%E8%87%AA%E5%AE%9A%E4%B9%89%E5%AE%9E%E4%BD%93%E7%B1%BB%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<h2 id="å®ä½“åŸºç±»æ¥å£"><a href="#å®ä½“åŸºç±»æ¥å£" class="headerlink" title="å®ä½“åŸºç±»æ¥å£"></a>å®ä½“åŸºç±»æ¥å£</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> å®ä½“åŸºç±»æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IEntity</span>&lt;<span class="title">TKey</span>&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä¸»é”®Id</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    TKey Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºåŸºç±»æ¥å£"><a href="#åˆ›å»ºåŸºç±»æ¥å£" class="headerlink" title="åˆ›å»ºåŸºç±»æ¥å£"></a>åˆ›å»ºåŸºç±»æ¥å£</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> åˆ›å»ºåŸºç±»æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICreatedAudit</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ›å»ºäºº</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="built_in">long</span>? CreatedUserId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ›å»ºæ—¶é—´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    DateTime? CreatedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç¼–è¾‘åŸºç±»æ¥å£"><a href="#ç¼–è¾‘åŸºç±»æ¥å£" class="headerlink" title="ç¼–è¾‘åŸºç±»æ¥å£"></a>ç¼–è¾‘åŸºç±»æ¥å£</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> æ›´æ–°åŸºç±»æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IUpdatedAudit</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ›´æ–°äºº</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="built_in">long</span>? UpdatedUserId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ›´æ–°æ—¶é—´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    DateTime? UpdatedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤åŸºç±»æ¥å£"><a href="#åˆ é™¤åŸºç±»æ¥å£" class="headerlink" title="åˆ é™¤åŸºç±»æ¥å£"></a>åˆ é™¤åŸºç±»æ¥å£</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> åˆ é™¤åŸºç±»æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">IDeletedAudit</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ é™¤äºº</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="built_in">long</span>? DeletedUserId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ é™¤æ—¶é—´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    DateTime? DeletedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ˜¯å¦åˆ é™¤ 0-å¦  1-æ˜¯</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="built_in">bool</span>? IsDeleted &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’åºåŸºç±»æ¥å£-å¯é€‰"><a href="#æ’åºåŸºç±»æ¥å£-å¯é€‰" class="headerlink" title="æ’åºåŸºç±»æ¥å£(å¯é€‰)"></a>æ’åºåŸºç±»æ¥å£(å¯é€‰)</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> æ’åºåŸºç±»æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ISortAudit</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ’åºå­—æ®µ æ•°å­—è¶Šå°è¶Šé å‰</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">int</span>? Seq &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç§Ÿæˆ·åŸºç±»æ¥å£-å¯é€‰"><a href="#ç§Ÿæˆ·åŸºç±»æ¥å£-å¯é€‰" class="headerlink" title="ç§Ÿæˆ·åŸºç±»æ¥å£(å¯é€‰)"></a>ç§Ÿæˆ·åŸºç±»æ¥å£(å¯é€‰)</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> ç§Ÿæˆ·åŸºç±»æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ITenantAudit</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ç§Ÿæˆ·Id</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="built_in">long</span>? TenantId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å…¬å…±å®ä½“åŸºç±»"><a href="#å…¬å…±å®ä½“åŸºç±»" class="headerlink" title="å…¬å…±å®ä½“åŸºç±»"></a>å…¬å…±å®ä½“åŸºç±»</h2><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> å®ä½“åŸºç±»</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BaseEntity</span>&lt;<span class="title">TKey</span>&gt; : <span class="title">IEntity</span>&lt;<span class="title">TKey</span>&gt;, <span class="title">ICreatedAudit</span>, <span class="title">IUpdatedAudit</span>, <span class="title">IDeletedAudit</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä¸»é”®</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">virtual</span> TKey Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å¤‡æ³¨</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span>? Description &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ›å»ºäºº</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">long</span>? CreatedUserId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ›å»ºæ—¶é—´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> DateTime? CreatedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä¿®æ”¹äºº</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">long</span>? UpdatedUserId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> ä¿®æ”¹æ—¶é—´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> DateTime? UpdatedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ é™¤äºº</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">long</span>? DeletedUserId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ é™¤æ—¶é—´</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> DateTime? DeletedDate &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ˜¯å¦åˆ é™¤</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">bool</span>? IsDeleted &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> Entityå°è£… </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Entity </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>EFCoreå…¥é—¨ å®æˆ˜æ•™ç¨‹</title>
      <link href="/2024/12/21/EFCore%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2024/12/21/EFCore%E5%85%A5%E9%97%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<h1 id="EFCoreå…¥é—¨-å®æˆ˜æ•™ç¨‹"><a href="#EFCoreå…¥é—¨-å®æˆ˜æ•™ç¨‹" class="headerlink" title="EFCoreå…¥é—¨ å®æˆ˜æ•™ç¨‹"></a>EFCoreå…¥é—¨ å®æˆ˜æ•™ç¨‹</h1><p>Entity Framework Core (EF Core) æ˜¯ä¸€ä¸ªè½»é‡çº§ã€å¯æ‰©å±•ä¸”è·¨å¹³å°çš„ ORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶ï¼Œç”¨äº .NET åº”ç”¨ç¨‹åºä¸­è¿›è¡Œæ•°æ®è®¿é—®ã€‚æœ¬æ–‡å°†å¸¦æ‚¨ä»é›¶å¼€å§‹ï¼Œé€šè¿‡å®é™…æ“ä½œæ­¥éª¤å’Œ VS2022 æˆªå›¾ï¼Œæ·±å…¥äº†è§£ EF Core çš„å„ç§ç”¨æ³•ï¼ŒåŒ…æ‹¬æ¨¡å‹åˆ›å»ºã€æ•°æ®æŸ¥è¯¢ã€æ•°æ®ä¿®æ”¹ã€è¿ç§»ã€é«˜çº§æŸ¥è¯¢ç­‰ã€‚</p><h2 id="ç¯å¢ƒå‡†å¤‡"><a href="#ç¯å¢ƒå‡†å¤‡" class="headerlink" title="ç¯å¢ƒå‡†å¤‡"></a>ç¯å¢ƒå‡†å¤‡</h2><p>åœ¨å¼€å§‹ä¹‹å‰ï¼Œè¯·ç¡®ä¿æ‚¨å·²å®‰è£…ä»¥ä¸‹è½¯ä»¶ï¼š</p><ul><li><strong>Visual Studio 2022</strong>ï¼šå»ºè®®å®‰è£…æœ€æ–°ç‰ˆæœ¬ï¼Œå¹¶ç¡®ä¿å·²å®‰è£… .NET å¼€å‘å·¥å…·ã€‚</li><li><strong>.NET SDK</strong>ï¼šç¡®ä¿å·²å®‰è£… .NET 6 æˆ–æ›´é«˜ç‰ˆæœ¬ã€‚</li><li><strong>æ•°æ®åº“</strong>ï¼šæœ¬æ–‡å°†ä½¿ç”¨ SQL Server ä½œä¸ºç¤ºä¾‹ï¼Œæ‚¨ä¹Ÿå¯ä»¥ä½¿ç”¨å…¶ä»–æ•°æ®åº“ï¼Œå¦‚ MySQLã€PostgreSQL ç­‰ã€‚</li></ul><h2 id="åˆ›å»ºé¡¹ç›®"><a href="#åˆ›å»ºé¡¹ç›®" class="headerlink" title="åˆ›å»ºé¡¹ç›®"></a>åˆ›å»ºé¡¹ç›®</h2><ol><li><p><strong>æ‰“å¼€ Visual Studio 2022</strong>ï¼Œç‚¹å‡»â€œåˆ›å»ºæ–°é¡¹ç›®â€ã€‚</p><p><img src="https://i.imgur.com/A0lH00J.png" alt="åˆ›å»ºæ–°é¡¹ç›®"></p></li><li><p>é€‰æ‹© â€œ<strong>æ§åˆ¶å°åº”ç”¨ç¨‹åº</strong>â€ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ã€‚</p><p><img src="https://i.imgur.com/1k9O70n.png" alt="é€‰æ‹©æ§åˆ¶å°åº”ç”¨ç¨‹åº"></p></li><li><p>è¾“å…¥é¡¹ç›®åç§°ï¼ˆä¾‹å¦‚â€œEFCoreDemoâ€ï¼‰ï¼Œå¹¶é€‰æ‹©é¡¹ç›®ä½ç½®ï¼Œç‚¹å‡»â€œä¸‹ä¸€æ­¥â€ã€‚</p><p><img src="https://i.imgur.com/9p7Q07Y.png" alt="é…ç½®æ–°é¡¹ç›®"></p></li><li><p>é€‰æ‹© â€œ.NET 6.0â€ æˆ–æ›´é«˜ç‰ˆæœ¬ï¼Œç‚¹å‡»â€œåˆ›å»ºâ€ã€‚</p><p><img src="https://i.imgur.com/78j9b98.png" alt="é€‰æ‹© .NET ç‰ˆæœ¬"></p></li></ol><h2 id="å®‰è£…-EF-Core-ç›¸å…³-NuGet-åŒ…"><a href="#å®‰è£…-EF-Core-ç›¸å…³-NuGet-åŒ…" class="headerlink" title="å®‰è£… EF Core ç›¸å…³ NuGet åŒ…"></a>å®‰è£… EF Core ç›¸å…³ NuGet åŒ…</h2><ol><li><p>åœ¨ Visual Studio 2022 ä¸­ï¼Œå³é”®ç‚¹å‡»é¡¹ç›®åç§°ï¼ˆâ€œEFCoreDemoâ€ï¼‰ï¼Œé€‰æ‹© â€œ<strong>ç®¡ç† NuGet ç¨‹åºåŒ…</strong>â€ã€‚</p><p><img src="https://i.imgur.com/m2Z91w8.png" alt="ç®¡ç† NuGet ç¨‹åºåŒ…"></p></li><li><p>åœ¨ â€œæµè§ˆâ€ é€‰é¡¹å¡ä¸­ï¼Œæœç´¢å¹¶å®‰è£…ä»¥ä¸‹ NuGet åŒ…ï¼š</p><ul><li><code>Microsoft.EntityFrameworkCore</code></li><li><code>Microsoft.EntityFrameworkCore.SqlServer</code> (å¦‚æœæ‚¨ä½¿ç”¨ SQL Server)</li><li><code>Microsoft.EntityFrameworkCore.Tools</code></li></ul><p><img src="https://i.imgur.com/j2B3t1P.png" alt="å®‰è£… NuGet åŒ…"></p><p>è¯·ç¡®ä¿å®‰è£…çš„ç‰ˆæœ¬ä¸æ‚¨çš„ .NET SDK ç‰ˆæœ¬å…¼å®¹ã€‚</p></li></ol><h2 id="åˆ›å»ºå®ä½“ç±»"><a href="#åˆ›å»ºå®ä½“ç±»" class="headerlink" title="åˆ›å»ºå®ä½“ç±»"></a>åˆ›å»ºå®ä½“ç±»</h2><p>å®ä½“ç±»ä»£è¡¨æ•°æ®åº“ä¸­çš„è¡¨ã€‚åœ¨é¡¹ç›®ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ â€œModelsâ€ï¼Œå¹¶åœ¨å…¶ä¸­åˆ›å»ºä»¥ä¸‹ä¸¤ä¸ªç±»ï¼š</p><ol><li><p><strong><code>Blog.cs</code></strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">EFCoreDemo.Models</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Blog</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Title &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Author &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> List&lt;Post&gt; Posts &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong><code>Post.cs</code></strong></p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">namespace</span> <span class="title">EFCoreDemo.Models</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Post</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Content &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> BlogId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> Blog Blog &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ol><h2 id="åˆ›å»ºæ•°æ®åº“ä¸Šä¸‹æ–‡"><a href="#åˆ›å»ºæ•°æ®åº“ä¸Šä¸‹æ–‡" class="headerlink" title="åˆ›å»ºæ•°æ®åº“ä¸Šä¸‹æ–‡"></a>åˆ›å»ºæ•°æ®åº“ä¸Šä¸‹æ–‡</h2><p>æ•°æ®åº“ä¸Šä¸‹æ–‡æ˜¯ EF Core çš„æ ¸å¿ƒï¼Œå®ƒä»£è¡¨ä¸æ•°æ®åº“çš„ä¼šè¯ã€‚åˆ›å»ºä¸€ä¸ªæ–°çš„ç±» <code>AppDbContext.cs</code>ï¼š</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> EFCoreDemo.Models;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">EFCoreDemo</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">AppDbContext</span> : <span class="title">DbContext</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">AppDbContext</span>(<span class="params">DbContextOptions&lt;AppDbContext&gt; options</span>) : <span class="title">base</span>(<span class="params">options</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;Blog&gt; Blogs &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        <span class="keyword">public</span> DbSet&lt;Post&gt; Posts &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é…ç½®æ•°æ®åº“è¿æ¥"><a href="#é…ç½®æ•°æ®åº“è¿æ¥" class="headerlink" title="é…ç½®æ•°æ®åº“è¿æ¥"></a>é…ç½®æ•°æ®åº“è¿æ¥</h2><p>åœ¨ Program.cs æ–‡ä»¶ä¸­é…ç½®æ•°æ®åº“è¿æ¥ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> EFCoreDemo;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.Hosting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> builder = Host.CreateDefaultBuilder(args);</span><br><span class="line"></span><br><span class="line">builder.ConfigureServices((hostContext, services) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    services.AddDbContext&lt;AppDbContext&gt;(options =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        options.UseSqlServer(<span class="string">&quot;Data Source=.;Initial Catalog=EFCoreDemoDB;Integrated Security=True;TrustServerCertificate=True;&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = builder.Build();</span><br><span class="line"><span class="comment">// ç¡®ä¿æ•°æ®åº“å­˜åœ¨</span></span><br><span class="line"><span class="keyword">using</span> (<span class="keyword">var</span> scope = host.Services.CreateScope())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> dbContext = scope.ServiceProvider.GetRequiredService&lt;AppDbContext&gt;();</span><br><span class="line">    dbContext.Database.EnsureCreated(); <span class="comment">// ç¡®ä¿æ•°æ®åº“å·²åˆ›å»º</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">host.Run();</span><br></pre></td></tr></table></figure><div class="tip success faa-horizontal animated"><p>æ³¨æ„: è¯·å°† Data Source, Initial Catalog ä¿®æ”¹ä¸ºæ‚¨å®é™…çš„ SQL Server è¿æ¥å­—ç¬¦ä¸²ã€‚</p></div><h2 id="åˆ›å»ºè¿ç§»"><a href="#åˆ›å»ºè¿ç§»" class="headerlink" title="åˆ›å»ºè¿ç§»"></a>åˆ›å»ºè¿ç§»</h2><h3 id="è¿ç§»å…è®¸æ‚¨å°†æ•°æ®åº“æ¶æ„ä¸å®ä½“ç±»ä¿æŒåŒæ­¥ã€‚"><a href="#è¿ç§»å…è®¸æ‚¨å°†æ•°æ®åº“æ¶æ„ä¸å®ä½“ç±»ä¿æŒåŒæ­¥ã€‚" class="headerlink" title="è¿ç§»å…è®¸æ‚¨å°†æ•°æ®åº“æ¶æ„ä¸å®ä½“ç±»ä¿æŒåŒæ­¥ã€‚"></a>è¿ç§»å…è®¸æ‚¨å°†æ•°æ®åº“æ¶æ„ä¸å®ä½“ç±»ä¿æŒåŒæ­¥ã€‚</h3><p>æ‰“å¼€ â€œç¨‹åºåŒ…ç®¡ç†å™¨æ§åˆ¶å°â€ ï¼ˆåœ¨ VS2022 ä¸­ï¼Œé€‰æ‹© â€œè§†å›¾â€ -&gt; â€œå…¶ä»–çª—å£â€ -&gt; â€œç¨‹åºåŒ…ç®¡ç†å™¨æ§åˆ¶å°â€ï¼‰ã€‚<br>æ‰“å¼€ç¨‹åºåŒ…ç®¡ç†å™¨æ§åˆ¶å°<br>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Add-Migration InitialCreate</span><br></pre></td></tr></table></figure><h3 id="è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„è¿ç§»æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«åˆ›å»ºæ•°æ®åº“æ¶æ„çš„å¿…è¦ä»£ç ã€‚"><a href="#è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„è¿ç§»æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«åˆ›å»ºæ•°æ®åº“æ¶æ„çš„å¿…è¦ä»£ç ã€‚" class="headerlink" title="è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„è¿ç§»æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«åˆ›å»ºæ•°æ®åº“æ¶æ„çš„å¿…è¦ä»£ç ã€‚"></a>è¿™å°†åˆ›å»ºä¸€ä¸ªæ–°çš„è¿ç§»æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«åˆ›å»ºæ•°æ®åº“æ¶æ„çš„å¿…è¦ä»£ç ã€‚</h3><p>è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Update-Database</span><br></pre></td></tr></table></figure><p>è¿™å°†å°†è¿ç§»åº”ç”¨åˆ°æ•°æ®åº“ï¼Œåˆ›å»ºè¡¨ã€‚</p><h2 id="æ·»åŠ æ•°æ®"><a href="#æ·»åŠ æ•°æ®" class="headerlink" title="æ·»åŠ æ•°æ®"></a>æ·»åŠ æ•°æ®</h2><p>åœ¨ Program.cs æ–‡ä»¶ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œæ’å…¥ä¸€äº›ç¤ºä¾‹æ•°æ®ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> EFCoreDemo;</span><br><span class="line"><span class="keyword">using</span> EFCoreDemo.Models;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.Hosting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> builder = Host.CreateDefaultBuilder(args);</span><br><span class="line"></span><br><span class="line">builder.ConfigureServices((hostContext, services) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    services.AddDbContext&lt;AppDbContext&gt;(options =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        options.UseSqlServer(<span class="string">&quot;Data Source=.;Initial Catalog=EFCoreDemoDB;Integrated Security=True;TrustServerCertificate=True;&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = builder.Build();</span><br><span class="line"><span class="comment">// ç¡®ä¿æ•°æ®åº“å­˜åœ¨</span></span><br><span class="line"><span class="keyword">using</span> (<span class="keyword">var</span> scope = host.Services.CreateScope())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> dbContext = scope.ServiceProvider.GetRequiredService&lt;AppDbContext&gt;();</span><br><span class="line">    dbContext.Database.EnsureCreated(); <span class="comment">// ç¡®ä¿æ•°æ®åº“å·²åˆ›å»º</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ ç¤ºä¾‹æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (!dbContext.Blogs.Any())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> blog = <span class="keyword">new</span> Blog &#123; Title = <span class="string">&quot;My First Blog&quot;</span>, Author = <span class="string">&quot;John Doe&quot;</span> &#125;;</span><br><span class="line">        <span class="keyword">var</span> post1 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my first post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        <span class="keyword">var</span> post2 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my second post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        dbContext.Blogs.Add(blog);</span><br><span class="line">        dbContext.Posts.AddRange(post1, post2);</span><br><span class="line">        dbContext.SaveChanges();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">host.Run();</span><br></pre></td></tr></table></figure><h2 id="æŸ¥è¯¢æ•°æ®"><a href="#æŸ¥è¯¢æ•°æ®" class="headerlink" title="æŸ¥è¯¢æ•°æ®"></a>æŸ¥è¯¢æ•°æ®</h2><p>åœ¨ Program.cs ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼ŒæŸ¥è¯¢å¹¶æ˜¾ç¤ºæ•°æ®ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> EFCoreDemo;</span><br><span class="line"><span class="keyword">using</span> EFCoreDemo.Models;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.Hosting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> builder = Host.CreateDefaultBuilder(args);</span><br><span class="line"></span><br><span class="line">builder.ConfigureServices((hostContext, services) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    services.AddDbContext&lt;AppDbContext&gt;(options =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        options.UseSqlServer(<span class="string">&quot;Data Source=.;Initial Catalog=EFCoreDemoDB;Integrated Security=True;TrustServerCertificate=True;&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = builder.Build();</span><br><span class="line"><span class="comment">// ç¡®ä¿æ•°æ®åº“å­˜åœ¨</span></span><br><span class="line"><span class="keyword">using</span> (<span class="keyword">var</span> scope = host.Services.CreateScope())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> dbContext = scope.ServiceProvider.GetRequiredService&lt;AppDbContext&gt;();</span><br><span class="line">    dbContext.Database.EnsureCreated(); <span class="comment">// ç¡®ä¿æ•°æ®åº“å·²åˆ›å»º</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ ç¤ºä¾‹æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (!dbContext.Blogs.Any())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> blog = <span class="keyword">new</span> Blog &#123; Title = <span class="string">&quot;My First Blog&quot;</span>, Author = <span class="string">&quot;John Doe&quot;</span> &#125;;</span><br><span class="line">        <span class="keyword">var</span> post1 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my first post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        <span class="keyword">var</span> post2 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my second post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        dbContext.Blogs.Add(blog);</span><br><span class="line">        dbContext.Posts.AddRange(post1, post2);</span><br><span class="line">        dbContext.SaveChanges();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> blogs = dbContext.Blogs.Include(b =&gt; b.Posts).ToList();</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> blog <span class="keyword">in</span> blogs)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Blog: <span class="subst">&#123;blog.Title&#125;</span> by <span class="subst">&#123;blog.Author&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> post <span class="keyword">in</span> blog.Posts)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;  - Post: <span class="subst">&#123;post.Content&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">host.Run();</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç ä½¿ç”¨ Include æ–¹æ³•åŠ è½½äº† Blog å®ä½“åŠå…¶å…³è”çš„ Posts å®ä½“ï¼Œç„¶åéå†å¹¶æ‰“å°äº†ç»“æœã€‚</p><h2 id="ä¿®æ”¹æ•°æ®"><a href="#ä¿®æ”¹æ•°æ®" class="headerlink" title="ä¿®æ”¹æ•°æ®"></a>ä¿®æ”¹æ•°æ®</h2><p>åœ¨ Program.cs ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œä¿®æ”¹ç°æœ‰æ•°æ®ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> EFCoreDemo;</span><br><span class="line"><span class="keyword">using</span> EFCoreDemo.Models;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.Hosting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> builder = Host.CreateDefaultBuilder(args);</span><br><span class="line"></span><br><span class="line">builder.ConfigureServices((hostContext, services) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    services.AddDbContext&lt;AppDbContext&gt;(options =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        options.UseSqlServer(<span class="string">&quot;Data Source=.;Initial Catalog=EFCoreDemoDB;Integrated Security=True;TrustServerCertificate=True;&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = builder.Build();</span><br><span class="line"><span class="comment">// ç¡®ä¿æ•°æ®åº“å­˜åœ¨</span></span><br><span class="line"><span class="keyword">using</span> (<span class="keyword">var</span> scope = host.Services.CreateScope())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> dbContext = scope.ServiceProvider.GetRequiredService&lt;AppDbContext&gt;();</span><br><span class="line">    dbContext.Database.EnsureCreated(); <span class="comment">// ç¡®ä¿æ•°æ®åº“å·²åˆ›å»º</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ ç¤ºä¾‹æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (!dbContext.Blogs.Any())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> blog = <span class="keyword">new</span> Blog &#123; Title = <span class="string">&quot;My First Blog&quot;</span>, Author = <span class="string">&quot;John Doe&quot;</span> &#125;;</span><br><span class="line">        <span class="keyword">var</span> post1 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my first post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        <span class="keyword">var</span> post2 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my second post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        dbContext.Blogs.Add(blog);</span><br><span class="line">        dbContext.Posts.AddRange(post1, post2);</span><br><span class="line">        dbContext.SaveChanges();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> blogs = dbContext.Blogs.Include(b =&gt; b.Posts).ToList();</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> blog <span class="keyword">in</span> blogs)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Blog: <span class="subst">&#123;blog.Title&#125;</span> by <span class="subst">&#123;blog.Author&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> post <span class="keyword">in</span> blog.Posts)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;  - Post: <span class="subst">&#123;post.Content&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> blogToUpdate = dbContext.Blogs.FirstOrDefault();</span><br><span class="line">    <span class="keyword">if</span> (blogToUpdate != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        blogToUpdate.Title = <span class="string">&quot;My Updated Blog Title&quot;</span>;</span><br><span class="line">        dbContext.SaveChanges();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Blog updated successfully.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">host.Run();</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç é¦–å…ˆæŸ¥è¯¢ç¬¬ä¸€ä¸ª Blog å®ä½“ï¼Œç„¶åæ›´æ–°å…¶ Title å±æ€§ï¼Œæœ€åè°ƒç”¨ SaveChanges æ–¹æ³•å°†æ›´æ”¹ä¿å­˜åˆ°æ•°æ®åº“ã€‚</p><h2 id="åˆ é™¤æ•°æ®"><a href="#åˆ é™¤æ•°æ®" class="headerlink" title="åˆ é™¤æ•°æ®"></a>åˆ é™¤æ•°æ®</h2><p>åœ¨ Program.cs ä¸­æ·»åŠ ä»¥ä¸‹ä»£ç ï¼Œåˆ é™¤æ•°æ®ï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> EFCoreDemo;</span><br><span class="line"><span class="keyword">using</span> EFCoreDemo.Models;</span><br><span class="line"><span class="keyword">using</span> Microsoft.EntityFrameworkCore;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.DependencyInjection;</span><br><span class="line"><span class="keyword">using</span> Microsoft.Extensions.Hosting;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> builder = Host.CreateDefaultBuilder(args);</span><br><span class="line"></span><br><span class="line">builder.ConfigureServices((hostContext, services) =&gt;</span><br><span class="line">&#123;</span><br><span class="line">    services.AddDbContext&lt;AppDbContext&gt;(options =&gt;</span><br><span class="line">    &#123;</span><br><span class="line">        options.UseSqlServer(<span class="string">&quot;Data Source=.;Initial Catalog=EFCoreDemoDB;Integrated Security=True;TrustServerCertificate=True;&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> host = builder.Build();</span><br><span class="line"><span class="comment">// ç¡®ä¿æ•°æ®åº“å­˜åœ¨</span></span><br><span class="line"><span class="keyword">using</span> (<span class="keyword">var</span> scope = host.Services.CreateScope())</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">var</span> dbContext = scope.ServiceProvider.GetRequiredService&lt;AppDbContext&gt;();</span><br><span class="line">    dbContext.Database.EnsureCreated(); <span class="comment">// ç¡®ä¿æ•°æ®åº“å·²åˆ›å»º</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æ·»åŠ ç¤ºä¾‹æ•°æ®</span></span><br><span class="line">    <span class="keyword">if</span> (!dbContext.Blogs.Any())</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> blog = <span class="keyword">new</span> Blog &#123; Title = <span class="string">&quot;My First Blog&quot;</span>, Author = <span class="string">&quot;John Doe&quot;</span> &#125;;</span><br><span class="line">        <span class="keyword">var</span> post1 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my first post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        <span class="keyword">var</span> post2 = <span class="keyword">new</span> Post &#123; Content = <span class="string">&quot;This is my second post&quot;</span>, Blog = blog &#125;;</span><br><span class="line">        dbContext.Blogs.Add(blog);</span><br><span class="line">        dbContext.Posts.AddRange(post1, post2);</span><br><span class="line">        dbContext.SaveChanges();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// æŸ¥è¯¢æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> blogs = dbContext.Blogs.Include(b =&gt; b.Posts).ToList();</span><br><span class="line">    <span class="keyword">foreach</span> (<span class="keyword">var</span> blog <span class="keyword">in</span> blogs)</span><br><span class="line">    &#123;</span><br><span class="line">        Console.WriteLine(<span class="string">$&quot;Blog: <span class="subst">&#123;blog.Title&#125;</span> by <span class="subst">&#123;blog.Author&#125;</span>&quot;</span>);</span><br><span class="line">        <span class="keyword">foreach</span> (<span class="keyword">var</span> post <span class="keyword">in</span> blog.Posts)</span><br><span class="line">        &#123;</span><br><span class="line">            Console.WriteLine(<span class="string">$&quot;  - Post: <span class="subst">&#123;post.Content&#125;</span>&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// ä¿®æ”¹æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> blogToUpdate = dbContext.Blogs.FirstOrDefault();</span><br><span class="line">    <span class="keyword">if</span> (blogToUpdate != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        blogToUpdate.Title = <span class="string">&quot;My Updated Blog Title&quot;</span>;</span><br><span class="line">        dbContext.SaveChanges();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Blog updated successfully.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// åˆ é™¤æ•°æ®</span></span><br><span class="line">    <span class="keyword">var</span> blogToDelete = dbContext.Blogs.FirstOrDefault();</span><br><span class="line">    <span class="keyword">if</span> (blogToDelete != <span class="literal">null</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        dbContext.Blogs.Remove(blogToDelete);</span><br><span class="line">        dbContext.SaveChanges();</span><br><span class="line">        Console.WriteLine(<span class="string">&quot;Blog deleted successfully.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">host.Run();</span><br></pre></td></tr></table></figure><p>è¿™æ®µä»£ç é¦–å…ˆæŸ¥è¯¢ç¬¬ä¸€ä¸ª Blog å®ä½“ï¼Œç„¶åä½¿ç”¨ Remove æ–¹æ³•å°†å…¶åˆ é™¤ï¼Œæœ€åè°ƒç”¨ SaveChanges æ–¹æ³•å°†æ›´æ”¹ä¿å­˜åˆ°æ•°æ®åº“ã€‚</p><h2 id="é«˜çº§æŸ¥è¯¢æŠ€å·§"><a href="#é«˜çº§æŸ¥è¯¢æŠ€å·§" class="headerlink" title="é«˜çº§æŸ¥è¯¢æŠ€å·§"></a>é«˜çº§æŸ¥è¯¢æŠ€å·§</h2><p>EF Core æä¾›äº†å¤šç§é«˜çº§æŸ¥è¯¢æŠ€å·§ï¼Œä¾‹å¦‚ï¼š</p><pre><code>Where å­å¥ï¼šç”¨äºè¿‡æ»¤æ•°æ®ã€‚OrderBy å’Œ OrderByDescendingï¼šç”¨äºæ’åºæ•°æ®ã€‚Skip å’Œ Takeï¼šç”¨äºåˆ†é¡µã€‚Selectï¼šç”¨äºé€‰æ‹©ç‰¹å®šçš„åˆ—ã€‚GroupByï¼šç”¨äºåˆ†ç»„ã€‚Joinï¼šç”¨äºè¿æ¥å¤šä¸ªè¡¨ã€‚</code></pre><p>ä»¥ä¸‹æ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå±•ç¤ºå¦‚ä½•ä½¿ç”¨ Where å’Œ OrderByï¼š</p><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é«˜çº§æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">var</span> filteredBlogs = dbContext.Blogs</span><br><span class="line">    .Where(b =&gt; b.Author.Contains(<span class="string">&quot;John&quot;</span>))</span><br><span class="line">    .OrderByDescending(b =&gt; b.Title)</span><br><span class="line">    .ToList();</span><br><span class="line"></span><br><span class="line">Console.WriteLine(<span class="string">&quot;\nFiltered and Sorted Blogs:&quot;</span>);</span><br><span class="line"><span class="keyword">foreach</span> (<span class="keyword">var</span> blog <span class="keyword">in</span> filteredBlogs)</span><br><span class="line">&#123;</span><br><span class="line">    Console.WriteLine(<span class="string">$&quot;  - Blog: <span class="subst">&#123;blog.Title&#125;</span> by <span class="subst">&#123;blog.Author&#125;</span>&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>é€šè¿‡æœ¬æ–‡ï¼Œæ‚¨å·²ç»æŒæ¡äº† EF Core çš„åŸºæœ¬ç”¨æ³•ï¼ŒåŒ…æ‹¬ï¼š</p><pre><code>åˆ›å»ºå®ä½“ç±»å’Œæ•°æ®åº“ä¸Šä¸‹æ–‡ã€‚é…ç½®æ•°æ®åº“è¿æ¥ã€‚åˆ›å»ºè¿ç§»å¹¶æ›´æ–°æ•°æ®åº“ã€‚æ·»åŠ ã€æŸ¥è¯¢ã€ä¿®æ”¹å’Œåˆ é™¤æ•°æ®ã€‚ä½¿ç”¨é«˜çº§æŸ¥è¯¢æŠ€å·§ã€‚</code></pre><p>EF Core æ˜¯ä¸€ä¸ªåŠŸèƒ½å¼ºå¤§çš„ ORM æ¡†æ¶ï¼Œå¯ä»¥å¸®åŠ©æ‚¨æ›´é«˜æ•ˆåœ°è¿›è¡Œæ•°æ®è®¿é—®ã€‚å»ºè®®æ‚¨ç»§ç»­æ·±å…¥å­¦ä¹  EF Core çš„æ›´å¤šåŠŸèƒ½ï¼Œä¾‹å¦‚ï¼š</p><pre><code>å…³ç³»æ˜ å°„ï¼šä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³ç³»ã€‚é…ç½®ï¼šä½¿ç”¨ Fluent API æˆ–æ•°æ®æ³¨é‡Šè¿›è¡Œé…ç½®ã€‚æ€§èƒ½ä¼˜åŒ–ï¼šä½¿ç”¨ç´¢å¼•ã€å»¶è¿ŸåŠ è½½ç­‰ã€‚äº‹åŠ¡ï¼šå¤„ç†æ•°æ®åº“äº‹åŠ¡ã€‚</code></pre>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> EF Core </tag>
            
            <tag> ORM </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>1Panelï¼šè½»å·§æ˜“ç”¨çš„æœåŠ¡å™¨é¢æ¿</title>
      <link href="/2024/12/21/1Panel%E9%9D%A2%E6%9D%BF/"/>
      <url>/2024/12/21/1Panel%E9%9D%A2%E6%9D%BF/</url>
      
        <content type="html"><![CDATA[<h1 id="1Panelï¼šè½»å·§æ˜“ç”¨çš„ç°ä»£åŒ–æœåŠ¡å™¨é¢æ¿æ–°é€‰æ‹©-æ·±å…¥æ¢ç´¢ä¸å®è·µ"><a href="#1Panelï¼šè½»å·§æ˜“ç”¨çš„ç°ä»£åŒ–æœåŠ¡å™¨é¢æ¿æ–°é€‰æ‹©-æ·±å…¥æ¢ç´¢ä¸å®è·µ" class="headerlink" title="1Panelï¼šè½»å·§æ˜“ç”¨çš„ç°ä»£åŒ–æœåŠ¡å™¨é¢æ¿æ–°é€‰æ‹© - æ·±å…¥æ¢ç´¢ä¸å®è·µ"></a>1Panelï¼šè½»å·§æ˜“ç”¨çš„ç°ä»£åŒ–æœåŠ¡å™¨é¢æ¿æ–°é€‰æ‹© - æ·±å…¥æ¢ç´¢ä¸å®è·µ</h1><p>åœ¨æœåŠ¡å™¨ç®¡ç†çš„ä¸–ç•Œé‡Œï¼Œé€‰æ‹©ä¸€ä¸ªåˆé€‚çš„é¢æ¿ï¼Œèƒ½å¤Ÿæå¤§åœ°æé«˜æ•ˆç‡å¹¶ç®€åŒ–å¤æ‚çš„æ“ä½œã€‚ä»Šå¤©ï¼Œæˆ‘ä»¬è¦æ·±å…¥æ¢è®¨ä¸€æ¬¾æ–°å…´çš„ã€è½»é‡çº§çš„å¼€æºæœåŠ¡å™¨é¢æ¿â€”â€” <strong>1Panel</strong>ã€‚å®ƒä»¥å…¶ç®€æ´çš„ç•Œé¢ã€å¼ºå¤§çš„åŠŸèƒ½ã€æ˜“ç”¨æ€§ä»¥åŠå¯¹ Docker çš„æ·±åº¦é›†æˆï¼Œå¸å¼•äº†è¶Šæ¥è¶Šå¤šçš„å¼€å‘è€…å’Œç³»ç»Ÿç®¡ç†å‘˜çš„é’çã€‚</p><p><img src="https://resource.fit2cloud.com/1panel/img/overview.png" alt="1Panel ä»ªè¡¨ç›˜æ¦‚è§ˆ"></p><h2 id="1Panel-çš„ç‹¬ç‰¹ä¹‹å¤„"><a href="#1Panel-çš„ç‹¬ç‰¹ä¹‹å¤„" class="headerlink" title="1Panel çš„ç‹¬ç‰¹ä¹‹å¤„"></a>1Panel çš„ç‹¬ç‰¹ä¹‹å¤„</h2><p>ä¸ä¼ ç»Ÿçš„æœåŠ¡å™¨é¢æ¿ä¸åŒï¼Œ1Panel çš„è®¾è®¡ç†å¿µæ›´æ³¨é‡ç°ä»£åŒ–å’Œè½»é‡åŒ–ã€‚å®ƒä¸ä»…ä»…æ˜¯ä¸€ä¸ªç®€å•çš„ç®¡ç†å·¥å…·ï¼Œæ›´æ˜¯ä¸€ä¸ªé«˜æ•ˆçš„ DevOps å¹³å°ã€‚ä»¥ä¸‹æ˜¯å…¶ä¸»è¦ç‰¹ç‚¹ï¼š</p><ul><li><strong>ç°ä»£åŒ– UI è®¾è®¡:</strong> 1Panel çš„ç•Œé¢é‡‡ç”¨äº†ç®€æ´çš„å¡ç‰‡å¼å¸ƒå±€ï¼Œè‰²å½©æ­é…èˆ’é€‚ï¼Œä¿¡æ¯å‘ˆç°æ¸…æ™°ï¼Œæ“ä½œé€»è¾‘ç›´è§‚ï¼Œå³ä½¿æ˜¯æ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ã€‚</li><li><strong>æè‡´è½»é‡:</strong> 1Panel èµ„æºå ç”¨æä½ï¼Œå³ä½¿åœ¨ä½é…ç½®çš„ VPS æˆ–äº‘æœåŠ¡å™¨ä¸Šä¹Ÿèƒ½æµç•…è¿è¡Œï¼Œè¿™å¯¹äºè¿½æ±‚æ€§èƒ½å’Œæˆæœ¬æ•ˆç›Šçš„ç”¨æˆ·æ¥è¯´éå¸¸é‡è¦ã€‚</li><li><strong>Docker åŸç”Ÿæ”¯æŒ:</strong> 1Panel æ·±åº¦é›†æˆäº† Docker å’Œ Docker Composeï¼Œå¯ä»¥ä¸€é”®éƒ¨ç½²å’Œç®¡ç† Docker å®¹å™¨ï¼Œè¿™å¯¹äºç°ä»£åº”ç”¨éƒ¨ç½²æ¥è¯´è‡³å…³é‡è¦ã€‚</li><li><strong>å¼ºå¤§çš„åº”ç”¨å•†åº—:</strong> å†…ç½®ä¸°å¯Œçš„åº”ç”¨å•†åº—ï¼Œå¯ä»¥ä¸€é”®å®‰è£…å„ç§å¸¸ç”¨åº”ç”¨ï¼ŒåŒ…æ‹¬ WordPressã€Nginxã€MySQLã€Redisã€GitLab ç­‰ï¼Œå¤§å¤§ç®€åŒ–äº†éƒ¨ç½²æµç¨‹ã€‚</li><li><strong>å¤šè¯­è¨€æ”¯æŒ:</strong> 1Panel æ”¯æŒå¤šç§è¯­è¨€ï¼Œæ»¡è¶³å…¨çƒä¸åŒç”¨æˆ·çš„éœ€æ±‚ã€‚</li><li><strong>å¼€æºå…è´¹:</strong> 1Panel æ˜¯ä¸€ä¸ªå®Œå…¨å¼€æºçš„é¡¹ç›®ï¼Œå¯ä»¥å…è´¹ä½¿ç”¨ï¼Œå¹¶ä¸”å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€æ±‚è¿›è¡Œå®šåˆ¶å’Œæ‰©å±•ã€‚</li><li><strong>æ’ä»¶ç³»ç»Ÿ:</strong> 1Panel æä¾›äº†æ’ä»¶ç³»ç»Ÿï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ‰©å±•å…¶åŠŸèƒ½ï¼Œæ»¡è¶³æ›´é«˜çº§çš„éœ€æ±‚ã€‚</li></ul><h2 id="1Panel-çš„æ ¸å¿ƒåŠŸèƒ½è¯¦è§£"><a href="#1Panel-çš„æ ¸å¿ƒåŠŸèƒ½è¯¦è§£" class="headerlink" title="1Panel çš„æ ¸å¿ƒåŠŸèƒ½è¯¦è§£"></a>1Panel çš„æ ¸å¿ƒåŠŸèƒ½è¯¦è§£</h2><p>1Panel æä¾›äº†ä¸°å¯Œçš„åŠŸèƒ½æ¨¡å—ï¼Œè¦†ç›–äº†æœåŠ¡å™¨ç®¡ç†çš„å„ä¸ªæ–¹é¢ï¼š</p><ul><li><strong>ç³»ç»Ÿç›‘æ§:</strong> å®æ—¶ç›‘æ§æœåŠ¡å™¨çš„ CPUã€å†…å­˜ã€ç£ç›˜ã€ç½‘ç»œç­‰èµ„æºä½¿ç”¨æƒ…å†µï¼Œå¹¶æä¾›è¯¦ç»†çš„å›¾è¡¨å’Œæ•°æ®åˆ†æã€‚</li><li><strong>ç½‘ç«™ç®¡ç†:</strong> å¯ä»¥è½»æ¾åˆ›å»ºå’Œç®¡ç†å¤šä¸ªç½‘ç«™ï¼Œæ”¯æŒè™šæ‹Ÿä¸»æœºã€HTTPS è¯ä¹¦è‡ªåŠ¨ç”³è¯·å’Œç»­ç­¾ã€åå‘ä»£ç†ç­‰åŠŸèƒ½ã€‚</li><li><strong>æ•°æ®åº“ç®¡ç†:</strong> æ”¯æŒ MySQLã€MariaDBã€PostgreSQL ç­‰å¤šç§æ•°æ®åº“çš„ç®¡ç†ï¼Œå¯ä»¥æ–¹ä¾¿åœ°åˆ›å»ºã€å¤‡ä»½ã€æ¢å¤å’Œç®¡ç†æ•°æ®åº“ã€‚</li><li><strong>æ–‡ä»¶ç®¡ç†:</strong> æä¾›å¼ºå¤§çš„åœ¨çº¿æ–‡ä»¶ç®¡ç†å™¨ï¼Œæ”¯æŒä¸Šä¼ ã€ä¸‹è½½ã€ç¼–è¾‘ã€å‹ç¼©ã€è§£å‹ç­‰æ“ä½œï¼Œæ–¹ä¾¿ç®¡ç†æœåŠ¡å™¨ä¸Šçš„æ–‡ä»¶ã€‚</li><li><strong>Docker ç®¡ç†:</strong> å¯ä»¥æ–¹ä¾¿åœ°éƒ¨ç½²ã€ç®¡ç†å’Œæ›´æ–° Docker å®¹å™¨ï¼Œæ”¯æŒ Docker Composeï¼Œå¯ä»¥ä¸€é”®éƒ¨ç½²å¤æ‚çš„å¤šå®¹å™¨åº”ç”¨ã€‚</li><li><strong>åº”ç”¨å•†åº—:</strong> æä¾›ä¸°å¯Œçš„åº”ç”¨å•†åº—ï¼Œå¯ä»¥ä¸€é”®å®‰è£…å„ç§å¸¸ç”¨åº”ç”¨ï¼Œç®€åŒ–éƒ¨ç½²æµç¨‹ï¼ŒèŠ‚çœå¤§é‡æ—¶é—´ã€‚</li><li><strong>å®‰å…¨ç®¡ç†:</strong> æä¾›é˜²ç«å¢™ã€SSH ç®¡ç†ã€å®‰å…¨ç­–ç•¥é…ç½®ç­‰åŠŸèƒ½ï¼Œä¿éšœæœåŠ¡å™¨çš„å®‰å…¨ã€‚</li><li><strong>å¤‡ä»½ä¸æ¢å¤:</strong> æä¾›æ•°æ®å¤‡ä»½å’Œæ¢å¤åŠŸèƒ½ï¼Œå¯ä»¥å®šæœŸå¤‡ä»½ç½‘ç«™ã€æ•°æ®åº“ç­‰é‡è¦æ•°æ®ï¼Œé˜²æ­¢æ•°æ®ä¸¢å¤±ã€‚</li><li><strong>è®¡åˆ’ä»»åŠ¡:</strong> å¯ä»¥è®¾ç½®å®šæ—¶ä»»åŠ¡ï¼Œä¾‹å¦‚å®šæœŸå¤‡ä»½æ•°æ®ã€æ¸…ç†æ—¥å¿—ç­‰ã€‚</li></ul><p><img src="https://1panel.cn/docs/img/app/appstore.png" alt="1Panel åº”ç”¨å•†åº—"></p><h2 id="å®‰è£…-1Panelï¼šç®€å•å¿«æ·"><a href="#å®‰è£…-1Panelï¼šç®€å•å¿«æ·" class="headerlink" title="å®‰è£… 1Panelï¼šç®€å•å¿«æ·"></a>å®‰è£… 1Panelï¼šç®€å•å¿«æ·</h2><p>1Panel çš„å®‰è£…è¿‡ç¨‹éå¸¸ç®€å•ï¼Œå®˜æ–¹æä¾›äº†è¯¦ç»†çš„å®‰è£…æ–‡æ¡£ã€‚ä»¥ä¸‹æ˜¯åœ¨ Linux ç³»ç»Ÿä¸Šçš„å®‰è£…æ­¥éª¤ï¼š</p><ol><li><p><strong>ç¡®ä¿ Docker å’Œ Docker Compose å·²å®‰è£…:</strong></p><p>å¦‚æœä½ çš„æœåŠ¡å™¨æ²¡æœ‰å®‰è£… Docker å’Œ Docker Composeï¼Œè¯·å…ˆå®‰è£…å®ƒä»¬ã€‚ä½ å¯ä»¥å‚è€ƒ Docker å®˜æ–¹æ–‡æ¡£è¿›è¡Œå®‰è£…ã€‚</p></li><li><p><strong>ä¸‹è½½å®‰è£…è„šæœ¬:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">curl -sSL https://resource.fit2cloud.com/1panel/install.sh -o install.sh</span><br></pre></td></tr></table></figure></li><li><p><strong>è¿è¡Œå®‰è£…è„šæœ¬:</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash install.sh</span><br></pre></td></tr></table></figure><p>å®‰è£…è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ä½ çš„ç³»ç»Ÿç¯å¢ƒï¼Œä¸‹è½½å¹¶å®‰è£… 1Panelã€‚å®‰è£…å®Œæˆåï¼Œä¼šæç¤ºä½ è®¿é—®é¢æ¿çš„åœ°å€å’Œåˆå§‹ç”¨æˆ·åå¯†ç ã€‚</p></li></ol><p><strong>æ³¨æ„:</strong> å®‰è£…è¿‡ç¨‹ä¸­è¯·ç¡®ä¿ä½ çš„ç³»ç»Ÿå·²ç»å®‰è£…äº†å¿…è¦çš„ä¾èµ–ï¼Œå¹¶æ ¹æ®æç¤ºè¿›è¡Œæ“ä½œã€‚</p><h2 id="1Panel-çš„åº”ç”¨åœºæ™¯"><a href="#1Panel-çš„åº”ç”¨åœºæ™¯" class="headerlink" title="1Panel çš„åº”ç”¨åœºæ™¯"></a>1Panel çš„åº”ç”¨åœºæ™¯</h2><p>1Panel çš„åº”ç”¨åœºæ™¯éå¸¸å¹¿æ³›ï¼Œé€‚åˆä»¥ä¸‹ç”¨æˆ·ï¼š</p><ul><li><strong>ä¸ªäººå¼€å‘è€…:</strong> å¿«é€Ÿéƒ¨ç½²å’Œç®¡ç†ä¸ªäººé¡¹ç›®ï¼Œä¾‹å¦‚ä¸ªäººåšå®¢ã€ç½‘ç«™ã€API æœåŠ¡ç­‰ã€‚</li><li><strong>å°å‹å›¢é˜Ÿ:</strong> æ­å»ºå’Œç®¡ç†å¼€å‘ç¯å¢ƒã€æµ‹è¯•ç¯å¢ƒã€ç”Ÿäº§ç¯å¢ƒã€‚</li><li><strong>Docker ç”¨æˆ·:</strong> æ–¹ä¾¿åœ°éƒ¨ç½²å’Œç®¡ç† Docker å®¹å™¨ï¼Œæ„å»ºå¾®æœåŠ¡æ¶æ„ã€‚</li><li><strong>æ•™è‚²æœºæ„:</strong> æ­å»ºåœ¨çº¿å­¦ä¹ å¹³å°ã€å®éªŒç¯å¢ƒã€‚</li><li><strong>å†…å®¹åˆ›ä½œè€…:</strong> éƒ¨ç½²ä¸ªäººåšå®¢ã€ç½‘ç«™ã€åœ¨çº¿å•†åº—ç­‰ã€‚</li><li><strong>ç³»ç»Ÿç®¡ç†å‘˜:</strong> ç®€åŒ–æœåŠ¡å™¨ç®¡ç†ï¼Œæé«˜è¿ç»´æ•ˆç‡ã€‚</li></ul><h2 id="å®é™…æ¡ˆä¾‹ï¼šä½¿ç”¨-1Panel-å¿«é€Ÿéƒ¨ç½²-WordPress"><a href="#å®é™…æ¡ˆä¾‹ï¼šä½¿ç”¨-1Panel-å¿«é€Ÿéƒ¨ç½²-WordPress" class="headerlink" title="å®é™…æ¡ˆä¾‹ï¼šä½¿ç”¨ 1Panel å¿«é€Ÿéƒ¨ç½² WordPress"></a>å®é™…æ¡ˆä¾‹ï¼šä½¿ç”¨ 1Panel å¿«é€Ÿéƒ¨ç½² WordPress</h2><p>ä¸ºäº†æ›´å¥½åœ°å±•ç¤º 1Panel çš„å¼ºå¤§åŠŸèƒ½ï¼Œæˆ‘ä»¬ä»¥éƒ¨ç½² WordPress ä¸ºä¾‹ï¼š</p><ol><li><p><strong>ç™»å½• 1Panel é¢æ¿:</strong><br>ä½¿ç”¨æµè§ˆå™¨è®¿é—®ä½ çš„æœåŠ¡å™¨ IP åœ°å€ï¼Œå¹¶ä½¿ç”¨åˆå§‹ç”¨æˆ·åå¯†ç ç™»å½• 1Panel é¢æ¿ã€‚</p></li><li><p><strong>æ‰“å¼€åº”ç”¨å•†åº—:</strong><br>åœ¨é¢æ¿çš„å·¦ä¾§å¯¼èˆªæ ä¸­ï¼Œç‚¹å‡» â€œåº”ç”¨å•†åº—â€ã€‚</p></li><li><p><strong>æœç´¢å¹¶å®‰è£… WordPress:</strong><br>åœ¨åº”ç”¨å•†åº—ä¸­æœç´¢ â€œWordPressâ€ï¼Œæ‰¾åˆ° WordPress åº”ç”¨å¹¶ç‚¹å‡» â€œå®‰è£…â€ã€‚</p></li><li><p><strong>é…ç½® WordPress:</strong><br>åœ¨å®‰è£…ç•Œé¢ï¼Œä½ éœ€è¦é…ç½® WordPress çš„æ•°æ®åº“ä¿¡æ¯ã€ç®¡ç†å‘˜è´¦å·ç­‰ã€‚</p></li><li><p><strong>å®Œæˆå®‰è£…:</strong><br>ç‚¹å‡» â€œå®‰è£…â€ æŒ‰é’®ï¼Œ1Panel ä¼šè‡ªåŠ¨ä¸‹è½½å¹¶å®‰è£… WordPressã€‚</p></li><li><p><strong>è®¿é—® WordPress:</strong><br>å®‰è£…å®Œæˆåï¼Œä½ å¯ä»¥é€šè¿‡æµè§ˆå™¨è®¿é—®ä½ çš„åŸŸåæˆ–æœåŠ¡å™¨ IP åœ°å€ï¼Œå³å¯çœ‹åˆ° WordPress ç½‘ç«™ã€‚</p></li></ol><p>æ•´ä¸ªè¿‡ç¨‹éå¸¸ç®€å•ï¼Œåªéœ€å‡ åˆ†é’Ÿå³å¯å®Œæˆ WordPress çš„éƒ¨ç½²ã€‚</p><p><img src="https://1panel.cn/docs/img/containers/setting.png" alt="1Panel Docker ç®¡ç†"></p><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><p>1Panel æ˜¯ä¸€æ¬¾åŠŸèƒ½å¼ºå¤§ã€æ˜“äºä½¿ç”¨çš„ç°ä»£åŒ–æœåŠ¡å™¨é¢æ¿ã€‚å®ƒä»¥å…¶è½»é‡çº§ã€Docker åŸç”Ÿæ”¯æŒã€ä¸°å¯Œçš„åº”ç”¨å•†åº—ç­‰ç‰¹ç‚¹ï¼Œä¸ºç”¨æˆ·æä¾›äº†æ›´å¥½çš„æœåŠ¡å™¨ç®¡ç†ä½“éªŒã€‚æ— è®ºä½ æ˜¯ä¸ªäººå¼€å‘è€…è¿˜æ˜¯ç³»ç»Ÿç®¡ç†å‘˜ï¼Œ1Panel éƒ½æ˜¯ä¸€ä¸ªå€¼å¾—å°è¯•çš„é€‰æ‹©ã€‚</p><h2 id="æ›´å¤šèµ„æº"><a href="#æ›´å¤šèµ„æº" class="headerlink" title="æ›´å¤šèµ„æº"></a>æ›´å¤šèµ„æº</h2><ul><li><strong>1Panel å®˜ç½‘:</strong> <a href="%E5%AE%98%E7%BD%91%E5%9C%B0%E5%9D%80">https://1panel.cn/</a></li><li><strong>1Panel GitHub:</strong> <a href="GitHub">https://github.com/1Panel-dev/1Panel/</a></li><li><strong>1Panel æ–‡æ¡£:</strong> <a href="%E5%AE%98%E6%96%B9%E6%96%87%E6%A1%A3">https://1panel.cn/docs/</a></li></ul>]]></content>
      
      
      <categories>
          
          <category> æœåŠ¡å™¨é¢æ¿ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> 1Panel </tag>
            
            <tag> Docker </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Cursorä¸­å…è´¹ä½“éªŒ Gemini-2.0-Flash-Expï¼šè¯¦ç»†æ•™ç¨‹</title>
      <link href="/2024/12/21/Cursor%E4%B8%AD%E5%85%8D%E8%B4%B9%E4%BD%93%E9%AA%8C%20Gemini-2.0-Flash-Exp/"/>
      <url>/2024/12/21/Cursor%E4%B8%AD%E5%85%8D%E8%B4%B9%E4%BD%93%E9%AA%8C%20Gemini-2.0-Flash-Exp/</url>
      
        <content type="html"><![CDATA[<h1 id="åœ¨-Cursor-ä¸­å…è´¹ä½“éªŒ-Gemini-2-0-Flash-Expï¼šè¯¦ç»†æ•™ç¨‹"><a href="#åœ¨-Cursor-ä¸­å…è´¹ä½“éªŒ-Gemini-2-0-Flash-Expï¼šè¯¦ç»†æ•™ç¨‹" class="headerlink" title="åœ¨ Cursor ä¸­å…è´¹ä½“éªŒ Gemini-2.0-Flash-Expï¼šè¯¦ç»†æ•™ç¨‹"></a>åœ¨ Cursor ä¸­å…è´¹ä½“éªŒ Gemini-2.0-Flash-Expï¼šè¯¦ç»†æ•™ç¨‹</h1><p>Cursor æ˜¯ä¸€æ¬¾åŸºäº AI çš„ä»£ç ç¼–è¾‘å™¨ï¼Œå®ƒé›†æˆäº†å¤šç§å¼ºå¤§çš„ AI æ¨¡å‹ï¼Œå¯ä»¥å¸®åŠ©å¼€å‘è€…æé«˜ç¼–ç æ•ˆç‡ã€‚å…¶ä¸­ï¼ŒGemini-2.0-Flash-Exp æ˜¯ Google æœ€æ–°æ¨å‡ºçš„ Gemini æ¨¡å‹çš„ä¸€ä¸ªå®éªŒç‰ˆæœ¬ï¼Œå…·æœ‰æ›´å¿«çš„å“åº”é€Ÿåº¦å’Œæ›´é«˜çš„å‡†ç¡®æ€§ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»å¦‚ä½•åœ¨ Cursor ä¸­å…è´¹ä½¿ç”¨ Gemini-2.0-Flash-Exp æ¨¡å‹ï¼Œè®©ä½ ä½“éªŒ AI ç¼–ç çš„å¼ºå¤§é­…åŠ›ã€‚æˆ‘ä»¬å°†ä»å®‰è£…é…ç½®åˆ°é«˜çº§ç”¨æ³•ã€æ€§èƒ½ä¼˜åŒ–ã€å®æˆ˜ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼Œæ·±å…¥æ¢è®¨å¦‚ä½•åˆ©ç”¨è¿™ä¸ªå·¥å…·æé«˜ä½ çš„å¼€å‘æ•ˆç‡ã€‚</p><h2 id="1-ä»€ä¹ˆæ˜¯-Gemini-2-0-Flash-Expï¼Ÿ"><a href="#1-ä»€ä¹ˆæ˜¯-Gemini-2-0-Flash-Expï¼Ÿ" class="headerlink" title="1. ä»€ä¹ˆæ˜¯ Gemini-2.0-Flash-Expï¼Ÿ"></a>1. ä»€ä¹ˆæ˜¯ Gemini-2.0-Flash-Expï¼Ÿ</h2><p>Gemini-2.0-Flash-Exp æ˜¯ Google æœ€æ–°æ¨å‡ºçš„ Gemini æ¨¡å‹çš„ä¸€ä¸ªå®éªŒç‰ˆæœ¬ï¼Œå®ƒä¸“æ³¨äºæä¾›æ›´å¿«çš„å“åº”é€Ÿåº¦ï¼ŒåŒæ—¶ä¿æŒè¾ƒé«˜çš„ä»£ç ç”Ÿæˆå’Œç†è§£èƒ½åŠ›ã€‚ä¸ä¹‹å‰çš„æ¨¡å‹ç›¸æ¯”ï¼ŒGemini-2.0-Flash-Exp åœ¨å¤„ç†ä»£ç è¡¥å…¨ã€ä»£ç ç”Ÿæˆã€ä»£ç è§£é‡Šã€ä»£ç é‡æ„ç­‰ä»»åŠ¡æ—¶æ›´åŠ é«˜æ•ˆï¼Œå¹¶ä¸”åœ¨å¤„ç†è¾ƒé•¿ä»£ç ç‰‡æ®µæ—¶è¡¨ç°æ›´ä½³ã€‚å®ƒçš„â€œFlashâ€ç‰¹æ€§æ„å‘³ç€å®ƒåœ¨å“åº”é€Ÿåº¦ä¸Šè¿›è¡Œäº†ä¼˜åŒ–ï¼Œè®©ä½ åœ¨ç¼–ç è¿‡ç¨‹ä¸­å‡ ä¹æ„Ÿè§‰ä¸åˆ°å»¶è¿Ÿã€‚å®ƒä¸ä»…èƒ½ç†è§£å¤šç§ç¼–ç¨‹è¯­è¨€ï¼Œè¿˜èƒ½å¤„ç†å¤æ‚çš„ä»£ç é€»è¾‘å’Œä¸Šä¸‹æ–‡ï¼Œå¹¶èƒ½æ ¹æ®ä½ çš„ä»£ç é£æ ¼è¿›è¡Œè°ƒæ•´ã€‚</p><h2 id="2-ä¸ºä»€ä¹ˆé€‰æ‹©-Cursorï¼Ÿ"><a href="#2-ä¸ºä»€ä¹ˆé€‰æ‹©-Cursorï¼Ÿ" class="headerlink" title="2. ä¸ºä»€ä¹ˆé€‰æ‹© Cursorï¼Ÿ"></a>2. ä¸ºä»€ä¹ˆé€‰æ‹© Cursorï¼Ÿ</h2><p>Cursor ä½œä¸ºä¸€æ¬¾ AI é©±åŠ¨çš„ä»£ç ç¼–è¾‘å™¨ï¼Œå…·æœ‰è¯¸å¤šä¼˜ç‚¹ï¼Œä½¿å…¶æˆä¸ºä½¿ç”¨ Gemini-2.0-Flash-Exp çš„ç†æƒ³é€‰æ‹©ï¼š</p><ul><li><strong>æ— ç¼é›†æˆ AIï¼š</strong> Cursor å°† AI åŠŸèƒ½æ— ç¼é›†æˆåˆ°ç¼–è¾‘å™¨ä¸­ï¼Œè®©ä½ åœ¨ç¼–ç è¿‡ç¨‹ä¸­éšæ—¶å¯ä»¥ä½¿ç”¨ AI è¾…åŠ©ï¼Œæ— éœ€åˆ‡æ¢å·¥å…·ï¼Œæå¤§æé«˜ç¼–ç æ•ˆç‡ã€‚</li><li><strong>å¤šç§ AI æ¨¡å‹æ”¯æŒï¼š</strong> é™¤äº† Gemini-2.0-Flash-Expï¼ŒCursor è¿˜æ”¯æŒå…¶ä»– AI æ¨¡å‹ï¼Œæ–¹ä¾¿ä½ æ ¹æ®éœ€è¦é€‰æ‹©ï¼Œçµæ´»åº”å¯¹ä¸åŒåœºæ™¯ï¼Œæ»¡è¶³ä¸åŒä»»åŠ¡çš„éœ€æ±‚ã€‚</li><li><strong>å…è´¹ä½¿ç”¨ï¼š</strong> éƒ¨åˆ†æ¨¡å‹ï¼ˆåŒ…æ‹¬ Gemini-2.0-Flash-Expï¼‰å¯ä»¥å…è´¹ä½¿ç”¨ï¼Œé™ä½äº†ä½¿ç”¨ AI çš„é—¨æ§›ï¼Œè®©æ›´å¤šå¼€å‘è€…ä½“éªŒ AI çš„ä¾¿åˆ©ï¼Œäº«å— AI å¸¦æ¥çš„é«˜æ•ˆå¼€å‘ä½“éªŒã€‚</li><li><strong>å¼ºå¤§çš„ä»£ç è¡¥å…¨ï¼š</strong> æä¾›æ™ºèƒ½çš„ä»£ç è¡¥å…¨ã€å‚æ•°æç¤ºå’Œé”™è¯¯æ£€æµ‹ï¼Œå‡å°‘ç¼–ç é”™è¯¯ï¼Œæé«˜ä»£ç è´¨é‡ï¼Œè®©ä»£ç æ›´åŠ å¥å£®å’Œå¯é ã€‚</li><li><strong>ä»£ç è§£é‡Šï¼š</strong> å¯ä»¥è§£é‡Šä»£ç çš„åŠŸèƒ½ã€é€»è¾‘å’Œæ½œåœ¨é—®é¢˜ï¼Œå¸®åŠ©ä½ æ›´å¥½åœ°ç†è§£ä»£ç ï¼ŒèŠ‚çœç†è§£ä»£ç çš„æ—¶é—´ï¼Œæé«˜ä»£ç é˜…è¯»æ•ˆç‡ã€‚</li><li><strong>ä»£ç é‡æ„ï¼š</strong> å¯ä»¥å¸®åŠ©ä½ è¿›è¡Œä»£ç é‡æ„å’Œä¼˜åŒ–ï¼Œæé«˜ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ï¼Œè®©ä»£ç æ›´æ˜“äºç»´æŠ¤å’Œæ‰©å±•ï¼Œé™ä½ç»´æŠ¤æˆæœ¬ã€‚</li><li><strong>æ˜“äºä½¿ç”¨ï¼š</strong> ç•Œé¢ç®€æ´ï¼Œæ“ä½œæ–¹ä¾¿ï¼Œå³ä½¿æ˜¯æ–°æ‰‹ä¹Ÿèƒ½å¿«é€Ÿä¸Šæ‰‹ï¼Œé™ä½å­¦ä¹ æˆæœ¬ï¼Œè®©å¼€å‘è€…ä¸“æ³¨äºä»£ç ç¼–å†™ã€‚</li><li><strong>è·¨å¹³å°æ”¯æŒï¼š</strong> æ”¯æŒ Windowsã€macOS å’Œ Linux ç­‰å¤šç§æ“ä½œç³»ç»Ÿï¼Œæ»¡è¶³ä¸åŒå¼€å‘è€…çš„éœ€æ±‚ï¼Œè®©å¼€å‘è€…åœ¨ä»»ä½•å¹³å°ä¸Šéƒ½èƒ½é«˜æ•ˆå·¥ä½œã€‚</li><li><strong>å¼ºå¤§çš„æœç´¢åŠŸèƒ½ï¼š</strong> æ”¯æŒå…¨æ–‡æœç´¢å’Œç¬¦å·æœç´¢ï¼Œå¿«é€Ÿå®šä½ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ï¼ŒèŠ‚çœæŸ¥æ‰¾ä»£ç çš„æ—¶é—´ã€‚</li><li><strong>ç‰ˆæœ¬æ§åˆ¶é›†æˆï¼š</strong> é›†æˆäº† Git ç­‰ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ–¹ä¾¿ä½ ç®¡ç†ä»£ç ç‰ˆæœ¬ï¼ŒååŒå¼€å‘ã€‚</li></ul><h2 id="3-å®‰è£…-Cursor"><a href="#3-å®‰è£…-Cursor" class="headerlink" title="3. å®‰è£… Cursor"></a>3. å®‰è£… Cursor</h2><p>é¦–å…ˆï¼Œä½ éœ€è¦ä¸‹è½½å¹¶å®‰è£… Cursor ä»£ç ç¼–è¾‘å™¨ã€‚ä½ å¯ä»¥ä» Cursor çš„å®˜æ–¹ç½‘ç«™ä¸‹è½½ï¼š<a href="https://cursor.sh/">https://cursor.sh/</a>ã€‚å®‰è£…è¿‡ç¨‹éå¸¸ç®€å•ï¼ŒæŒ‰ç…§æç¤ºæ“ä½œå³å¯ã€‚å®‰è£…å®Œæˆåï¼Œå¯åŠ¨ Cursorã€‚</p><h2 id="4-é…ç½®-Gemini-2-0-Flash-Exp"><a href="#4-é…ç½®-Gemini-2-0-Flash-Exp" class="headerlink" title="4. é…ç½® Gemini-2.0-Flash-Exp"></a>4. é…ç½® Gemini-2.0-Flash-Exp</h2><p>å®‰è£…å®Œæˆåï¼ŒæŒ‰ç…§ä»¥ä¸‹è¯¦ç»†æ­¥éª¤é…ç½® Gemini-2.0-Flash-Exp æ¨¡å‹ï¼š</p><ol><li><p><strong>æ‰“å¼€ Cursorï¼š</strong> å¯åŠ¨ Cursor ä»£ç ç¼–è¾‘å™¨ï¼Œç¡®ä¿ä½ å·²ç»æˆåŠŸå®‰è£…å¹¶æ‰“å¼€äº† Cursorã€‚</p></li><li><p><strong>æ‰“å¼€è®¾ç½®ï¼š</strong> ç‚¹å‡»å·¦ä¸‹è§’çš„ â€œè®¾ç½®â€ å›¾æ ‡ï¼ˆé½¿è½®å½¢çŠ¶ï¼‰ï¼Œè¿™å°†æ‰“å¼€ Cursor çš„è®¾ç½®é¡µé¢ã€‚</p></li><li><p><strong>é€‰æ‹© â€œAI Providerâ€ï¼š</strong> åœ¨è®¾ç½®é¡µé¢ä¸­ï¼Œæ‰¾åˆ° â€œAI Providerâ€ é€‰é¡¹ï¼Œé€šå¸¸ä½äº â€œEditorâ€ æˆ– â€œAIâ€ éƒ¨åˆ†ã€‚</p></li><li><p><strong>é€‰æ‹© â€œGoogle Geminiâ€ï¼š</strong> åœ¨ â€œAI Providerâ€ ä¸‹æ‹‰èœå•ä¸­ï¼Œé€‰æ‹© â€œGoogle Geminiâ€ã€‚å¦‚æœä½ æ²¡æœ‰çœ‹åˆ° â€œGoogle Geminiâ€ é€‰é¡¹ï¼Œè¯·æ£€æŸ¥ä½ çš„ Cursor ç‰ˆæœ¬æ˜¯å¦ä¸ºæœ€æ–°ã€‚</p></li><li><p><strong>é€‰æ‹© â€œGemini-2.0-Flash-Expâ€ï¼š</strong> åœ¨ â€œModelâ€ ä¸‹æ‹‰èœå•ä¸­ï¼Œé€‰æ‹© â€œGemini-2.0-Flash-Expâ€ã€‚å¦‚æœè¯¥é€‰é¡¹ä¸å¯ç”¨ï¼Œè¯·ç¡®ä¿ä½ çš„ Cursor ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ï¼Œå¹¶å°è¯•é‡å¯ Cursorã€‚</p><p><strong>æ³¨æ„ï¼š</strong> å¦‚æœä½ æ²¡æœ‰çœ‹åˆ° â€œGemini-2.0-Flash-Expâ€ é€‰é¡¹ï¼Œè¯·ç¡®ä¿ä½ çš„ Cursor ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ã€‚ä½ å¯ä»¥é€šè¿‡ â€œHelpâ€ -&gt; â€œCheck for Updatesâ€ æ¥æ£€æŸ¥æ›´æ–°ã€‚</p></li><li><p><strong>ä¿å­˜è®¾ç½®ï¼š</strong> å…³é—­è®¾ç½®é¡µé¢ï¼Œé…ç½®ä¼šè‡ªåŠ¨ä¿å­˜ã€‚ä½ æ— éœ€æ‰‹åŠ¨ç‚¹å‡»ä¿å­˜æŒ‰é’®ï¼ŒCursor ä¼šè‡ªåŠ¨ä¿å­˜ä½ çš„è®¾ç½®ã€‚</p></li></ol><h2 id="5-ä½¿ç”¨-Gemini-2-0-Flash-Expï¼šè¯¦ç»†ç”¨æ³•"><a href="#5-ä½¿ç”¨-Gemini-2-0-Flash-Expï¼šè¯¦ç»†ç”¨æ³•" class="headerlink" title="5. ä½¿ç”¨ Gemini-2.0-Flash-Expï¼šè¯¦ç»†ç”¨æ³•"></a>5. ä½¿ç”¨ Gemini-2.0-Flash-Expï¼šè¯¦ç»†ç”¨æ³•</h2><p>é…ç½®å®Œæˆåï¼Œä½ å°±å¯ä»¥å¼€å§‹ä½¿ç”¨ Gemini-2.0-Flash-Exp æ¨¡å‹äº†ã€‚ä»¥ä¸‹æ˜¯ä¸€äº›è¯¦ç»†çš„ä½¿ç”¨åœºæ™¯å’ŒæŠ€å·§ï¼š</p><h3 id="5-1-ä»£ç è¡¥å…¨ï¼šæ™ºèƒ½æç¤ºä¸å¿«é€Ÿç¼–ç "><a href="#5-1-ä»£ç è¡¥å…¨ï¼šæ™ºèƒ½æç¤ºä¸å¿«é€Ÿç¼–ç " class="headerlink" title="5.1 ä»£ç è¡¥å…¨ï¼šæ™ºèƒ½æç¤ºä¸å¿«é€Ÿç¼–ç "></a>5.1 ä»£ç è¡¥å…¨ï¼šæ™ºèƒ½æç¤ºä¸å¿«é€Ÿç¼–ç </h3><p>åœ¨ç¼–å†™ä»£ç æ—¶ï¼ŒGemini-2.0-Flash-Exp ä¼šæ ¹æ®ä¸Šä¸‹æ–‡æä¾›æ™ºèƒ½çš„ä»£ç è¡¥å…¨å»ºè®®ã€‚å®ƒä¸ä»…èƒ½è¡¥å…¨å˜é‡åã€å‡½æ•°åï¼Œè¿˜èƒ½è¡¥å…¨ä»£ç å—ã€å¾ªç¯ç»“æ„ã€ç±»å®šä¹‰ã€æ¥å£å®šä¹‰ç­‰ï¼Œè®©ä½ å¿«é€Ÿç¼–å†™ä»£ç ã€‚</p><ul><li><strong>ä½¿ç”¨æŠ€å·§ï¼š</strong> åœ¨è¾“å…¥ä»£ç æ—¶ï¼Œç•™æ„å¼¹å‡ºçš„ä»£ç æç¤ºï¼Œé€šå¸¸æŒ‰ <code>Tab</code> é”®æˆ– <code>Enter</code> é”®å³å¯æ¥å—å»ºè®®ã€‚</li><li><strong>é«˜çº§ç”¨æ³•ï¼š</strong> ä½ å¯ä»¥ä½¿ç”¨ <code>Ctrl + Space</code> ï¼ˆæˆ– <code>Cmd + Space</code> åœ¨ macOS ä¸Šï¼‰æ¥å¼ºåˆ¶è§¦å‘ä»£ç è¡¥å…¨æç¤ºã€‚ä½ è¿˜å¯ä»¥é€šè¿‡è¾“å…¥éƒ¨åˆ†ä»£ç ï¼Œç„¶åæŒ‰ <code>Tab</code> é”®æ¥å¿«é€Ÿç”Ÿæˆä»£ç ç‰‡æ®µã€‚Cursor è¿˜ä¼šæ ¹æ®ä½ çš„ä»£ç é£æ ¼è¿›è¡Œä»£ç è¡¥å…¨ï¼Œè®©ä»£ç é£æ ¼ä¿æŒä¸€è‡´ã€‚</li></ul><h3 id="5-2-ä»£ç ç”Ÿæˆï¼šä»æè¿°åˆ°ä»£ç "><a href="#5-2-ä»£ç ç”Ÿæˆï¼šä»æè¿°åˆ°ä»£ç " class="headerlink" title="5.2 ä»£ç ç”Ÿæˆï¼šä»æè¿°åˆ°ä»£ç "></a>5.2 ä»£ç ç”Ÿæˆï¼šä»æè¿°åˆ°ä»£ç </h3><p>ä½ å¯ä»¥é€šè¿‡ç®€å•çš„æè¿°ï¼Œè®© Gemini-2.0-Flash-Exp ç”Ÿæˆä»£ç ç‰‡æ®µã€‚ä¾‹å¦‚ï¼Œä½ å¯ä»¥è¾“å…¥ <code>// åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œè®¡ç®—ä¸¤ä¸ªæ•°çš„å’Œ</code>ï¼Œå®ƒä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„ä»£ç ã€‚</p><ul><li><strong>ä½¿ç”¨æŠ€å·§ï¼š</strong> å°½é‡æä¾›æ¸…æ™°å’Œè¯¦ç»†çš„æè¿°ï¼Œä¾‹å¦‚ï¼Œä½ å¯ä»¥è¯´æ˜ä»£ç çš„åŠŸèƒ½ã€è¾“å…¥å’Œè¾“å‡ºã€ä»¥åŠå¼‚å¸¸å¤„ç†ã€è¾¹ç•Œæ¡ä»¶ç­‰ã€‚</li><li><strong>é«˜çº§ç”¨æ³•ï¼š</strong> ä½ å¯ä»¥ä½¿ç”¨è‡ªç„¶è¯­è¨€è¿›è¡Œæ›´å¤æ‚çš„æè¿°ï¼Œä¾‹å¦‚ <code>// åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ª JSON å­—ç¬¦ä¸²ï¼Œè§£æ JSON å¹¶è¿”å›ä¸€ä¸ªå­—å…¸ï¼Œå¹¶å¤„ç†è§£æå¤±è´¥çš„æƒ…å†µ</code>ã€‚ä½ è¿˜å¯ä»¥æŒ‡å®šä»£ç çš„é£æ ¼å’Œæ ¼å¼ï¼Œä¾‹å¦‚ <code>// ç”¨ Python åˆ›å»ºä¸€ä¸ªç±»ï¼Œå®ç°å•ä¾‹æ¨¡å¼ï¼Œå¹¶æ·»åŠ æ–‡æ¡£æ³¨é‡Š</code>ã€‚ä½ è¿˜å¯ä»¥è¦æ±‚å®ƒç”Ÿæˆç‰¹å®šè¯­è¨€çš„ä»£ç ï¼Œä¾‹å¦‚ <code>// ç”¨ JavaScript åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œå®ç°æ•°ç»„å»é‡</code>ã€‚</li></ul><h3 id="5-3-ä»£ç è§£é‡Šï¼šæ·±å…¥ç†è§£ä»£ç é€»è¾‘"><a href="#5-3-ä»£ç è§£é‡Šï¼šæ·±å…¥ç†è§£ä»£ç é€»è¾‘" class="headerlink" title="5.3 ä»£ç è§£é‡Šï¼šæ·±å…¥ç†è§£ä»£ç é€»è¾‘"></a>5.3 ä»£ç è§£é‡Šï¼šæ·±å…¥ç†è§£ä»£ç é€»è¾‘</h3><p>é€‰æ‹©ä¸€æ®µä»£ç ï¼Œå³é”®ç‚¹å‡»ï¼Œç„¶åé€‰æ‹© â€œExplain Codeâ€ï¼ŒGemini-2.0-Flash-Exp ä¼šè§£é‡Šè¿™æ®µä»£ç çš„åŠŸèƒ½å’Œé€»è¾‘ã€‚è¿™å¯¹äºç†è§£åˆ«äººçš„ä»£ç æˆ–è€…å›é¡¾è‡ªå·±ä¹‹å‰çš„ä»£ç éå¸¸æœ‰å¸®åŠ©ã€‚</p><ul><li><strong>ä½¿ç”¨æŠ€å·§ï¼š</strong> é€‰æ‹©ä½ éœ€è¦è§£é‡Šçš„ä»£ç æ®µï¼Œå³é”®ç‚¹å‡»ï¼Œé€‰æ‹© â€œExplain Codeâ€ã€‚</li><li><strong>é«˜çº§ç”¨æ³•ï¼š</strong> ä½ å¯ä»¥é€‰ä¸­è¾ƒå¤§æ®µçš„ä»£ç ï¼ŒGemini-2.0-Flash-Exp ä¼šé€æ­¥è§£é‡Šä»£ç çš„å„ä¸ªéƒ¨åˆ†ï¼Œå¹¶ç»™å‡ºä»£ç çš„æ‰§è¡Œæµç¨‹ã€å…³é”®é€»è¾‘ã€ä»¥åŠæ½œåœ¨çš„æ€§èƒ½ç“¶é¢ˆã€‚ä½ è¿˜å¯ä»¥è¦æ±‚å®ƒè§£é‡Šä»£ç çš„å¤æ‚åº¦å’Œæ—¶é—´ç©ºé—´å¤æ‚åº¦ã€‚</li></ul><h3 id="5-4-ä»£ç é‡æ„ï¼šä¼˜åŒ–ä»£ç ç»“æ„"><a href="#5-4-ä»£ç é‡æ„ï¼šä¼˜åŒ–ä»£ç ç»“æ„" class="headerlink" title="5.4 ä»£ç é‡æ„ï¼šä¼˜åŒ–ä»£ç ç»“æ„"></a>5.4 ä»£ç é‡æ„ï¼šä¼˜åŒ–ä»£ç ç»“æ„</h3><p>é€‰æ‹©ä¸€æ®µä»£ç ï¼Œå³é”®ç‚¹å‡»ï¼Œç„¶åé€‰æ‹© â€œRefactor Codeâ€ï¼ŒGemini-2.0-Flash-Exp ä¼šæä¾›ä»£ç é‡æ„å»ºè®®ã€‚è¿™å¯ä»¥å¸®åŠ©ä½ ä¼˜åŒ–ä»£ç ç»“æ„ï¼Œæé«˜ä»£ç è´¨é‡å’Œå¯ç»´æŠ¤æ€§ã€‚</p><ul><li><strong>ä½¿ç”¨æŠ€å·§ï¼š</strong> é€‰æ‹©ä½ éœ€è¦é‡æ„çš„ä»£ç æ®µï¼Œå³é”®ç‚¹å‡»ï¼Œé€‰æ‹© â€œRefactor Codeâ€ã€‚</li><li><strong>é«˜çº§ç”¨æ³•ï¼š</strong> ä½ å¯ä»¥é€‰æ‹©ä¸åŒçš„é‡æ„é€‰é¡¹ï¼Œä¾‹å¦‚æå–å‡½æ•°ã€é‡å‘½åå˜é‡ã€æå–å¸¸é‡ã€ç®€åŒ–æ¡ä»¶è¡¨è¾¾å¼ã€åˆ é™¤é‡å¤ä»£ç ã€ä½¿ç”¨è®¾è®¡æ¨¡å¼ç­‰ã€‚ä½ è¿˜å¯ä»¥æ ¹æ® AI çš„å»ºè®®ï¼Œæ‰‹åŠ¨è°ƒæ•´é‡æ„åçš„ä»£ç ï¼Œå¹¶è¿›è¡Œä»£ç æµ‹è¯•ã€‚</li></ul><h3 id="5-5-ä»£ç é”™è¯¯æ£€æµ‹ï¼šåŠæ—¶å‘ç°é—®é¢˜ï¼ˆç»­ï¼‰"><a href="#5-5-ä»£ç é”™è¯¯æ£€æµ‹ï¼šåŠæ—¶å‘ç°é—®é¢˜ï¼ˆç»­ï¼‰" class="headerlink" title="5.5 ä»£ç é”™è¯¯æ£€æµ‹ï¼šåŠæ—¶å‘ç°é—®é¢˜ï¼ˆç»­ï¼‰"></a>5.5 ä»£ç é”™è¯¯æ£€æµ‹ï¼šåŠæ—¶å‘ç°é—®é¢˜ï¼ˆç»­ï¼‰</h3><p>Gemini-2.0-Flash-Exp å¯ä»¥å¸®åŠ©ä½ æ£€æµ‹ä»£ç ä¸­çš„é”™è¯¯å’Œæ½œåœ¨é—®é¢˜ã€‚å®ƒä¼šåœ¨ä½ ç¼–å†™ä»£ç æ—¶ç»™å‡ºæç¤ºï¼Œå¸®åŠ©ä½ åŠæ—¶å‘ç°å¹¶è§£å†³é—®é¢˜ã€‚</p><pre><code>ä½¿ç”¨æŠ€å·§ï¼š ç•™æ„ç¼–è¾‘å™¨ä¸­å‡ºç°çš„é”™è¯¯æç¤ºï¼Œæ ¹æ®æç¤ºè¿›è¡Œä¿®æ”¹ã€‚é«˜çº§ç”¨æ³•ï¼š ä½ å¯ä»¥ä½¿ç”¨ Cursor çš„ä»£ç åˆ†æåŠŸèƒ½ï¼ŒæŸ¥çœ‹ä»£ç ä¸­çš„æ½œåœ¨é—®é¢˜ï¼Œä¾‹å¦‚æœªä½¿ç”¨çš„å˜é‡ã€æ½œåœ¨çš„å†…å­˜æ³„æ¼ã€å¯èƒ½çš„ç©ºæŒ‡é’ˆå¼‚å¸¸ã€ç±»å‹ä¸åŒ¹é…ç­‰ã€‚ä½ è¿˜å¯ä»¥è®© AI åŠ©æ‰‹è§£é‡Šé”™è¯¯ä¿¡æ¯ï¼Œå¹¶æä¾›ä¿®å¤å»ºè®®ã€‚</code></pre><h3 id="5-6-èŠå¤©åŠŸèƒ½ï¼šä¸-AI-åŠ©æ‰‹å¯¹è¯ï¼ˆç»­ï¼‰"><a href="#5-6-èŠå¤©åŠŸèƒ½ï¼šä¸-AI-åŠ©æ‰‹å¯¹è¯ï¼ˆç»­ï¼‰" class="headerlink" title="5.6 èŠå¤©åŠŸèƒ½ï¼šä¸ AI åŠ©æ‰‹å¯¹è¯ï¼ˆç»­ï¼‰"></a>5.6 èŠå¤©åŠŸèƒ½ï¼šä¸ AI åŠ©æ‰‹å¯¹è¯ï¼ˆç»­ï¼‰</h3><p>Cursor è¿˜æä¾›äº†èŠå¤©åŠŸèƒ½ï¼Œä½ å¯ä»¥ç›´æ¥ä¸ AI åŠ©æ‰‹å¯¹è¯ï¼Œæå‡ºé—®é¢˜ã€è·å–å¸®åŠ©ã€æˆ–è€…è¿›è¡Œä»£ç è®¨è®ºã€‚</p><pre><code>ä½¿ç”¨æŠ€å·§ï¼š åœ¨ç¼–è¾‘å™¨ä¸­æ‰“å¼€èŠå¤©çª—å£ï¼Œè¾“å…¥ä½ çš„é—®é¢˜æˆ–éœ€æ±‚ã€‚ä½ å¯ä»¥ä½¿ç”¨è‡ªç„¶è¯­è¨€æé—®ï¼Œä¾‹å¦‚â€œè¿™æ®µä»£ç æœ‰ä»€ä¹ˆé—®é¢˜ï¼Ÿâ€æˆ–è€…â€œå¦‚ä½•ä¼˜åŒ–è¿™æ®µä»£ç çš„æ€§èƒ½ï¼Ÿâ€é«˜çº§ç”¨æ³•ï¼š ä½ å¯ä»¥å‘ AI åŠ©æ‰‹è¯·æ±‚ä»£ç ç¤ºä¾‹ã€è§£é‡Šä»£ç é€»è¾‘ã€æˆ–è€…å¸®åŠ©ä½ è§£å†³ç¼–ç é—®é¢˜ã€‚ä½ è¿˜å¯ä»¥è®© AI åŠ©æ‰‹ä¸ºä½ ç”Ÿæˆæµ‹è¯•ç”¨ä¾‹ã€æ–‡æ¡£æ³¨é‡Šã€ä»£ç ç‰‡æ®µã€æˆ–è€…è¿›è¡Œä»£ç å®¡æŸ¥ã€‚ä½ è¿˜å¯ä»¥è®© AI åŠ©æ‰‹å¸®ä½ ç†è§£å¤æ‚çš„ä»£ç åº“ï¼Œæˆ–è€…å­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ã€‚</code></pre><h3 id="5-7-ä»£ç æ ¼å¼åŒ–ï¼šä¿æŒä»£ç é£æ ¼ä¸€è‡´ï¼ˆç»­ï¼‰"><a href="#5-7-ä»£ç æ ¼å¼åŒ–ï¼šä¿æŒä»£ç é£æ ¼ä¸€è‡´ï¼ˆç»­ï¼‰" class="headerlink" title="5.7 ä»£ç æ ¼å¼åŒ–ï¼šä¿æŒä»£ç é£æ ¼ä¸€è‡´ï¼ˆç»­ï¼‰"></a>5.7 ä»£ç æ ¼å¼åŒ–ï¼šä¿æŒä»£ç é£æ ¼ä¸€è‡´ï¼ˆç»­ï¼‰</h3><p>Cursor æä¾›äº†ä»£ç æ ¼å¼åŒ–åŠŸèƒ½ï¼Œå¯ä»¥è‡ªåŠ¨æ ¼å¼åŒ–ä½ çš„ä»£ç ï¼Œä¿æŒä»£ç é£æ ¼ä¸€è‡´ã€‚</p><pre><code>ä½¿ç”¨æŠ€å·§ï¼š é€‰æ‹©ä½ éœ€è¦æ ¼å¼åŒ–çš„ä»£ç æ®µï¼Œå³é”®ç‚¹å‡»ï¼Œé€‰æ‹© &quot;Format Code&quot;ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨å¿«æ·é”®æ¥å¿«é€Ÿæ ¼å¼åŒ–ä»£ç ã€‚é«˜çº§ç”¨æ³•ï¼š ä½ å¯ä»¥åœ¨ Cursor çš„è®¾ç½®ä¸­é…ç½®ä»£ç æ ¼å¼åŒ–çš„è§„åˆ™ï¼Œä¾‹å¦‚ç¼©è¿›å¤§å°ã€æ¢è¡Œæ–¹å¼ã€ç©ºæ ¼ä½¿ç”¨ç­‰ã€‚ä½ å¯ä»¥æ ¹æ®ä½ çš„ä»£ç é£æ ¼åå¥½è¿›è¡Œè‡ªå®šä¹‰é…ç½®ã€‚</code></pre><h3 id="5-8-ç‰ˆæœ¬æ§åˆ¶é›†æˆï¼šååŒå¼€å‘æ›´é«˜æ•ˆ"><a href="#5-8-ç‰ˆæœ¬æ§åˆ¶é›†æˆï¼šååŒå¼€å‘æ›´é«˜æ•ˆ" class="headerlink" title="5.8 ç‰ˆæœ¬æ§åˆ¶é›†æˆï¼šååŒå¼€å‘æ›´é«˜æ•ˆ"></a>5.8 ç‰ˆæœ¬æ§åˆ¶é›†æˆï¼šååŒå¼€å‘æ›´é«˜æ•ˆ</h3><p>Cursor é›†æˆäº† Git ç­‰ç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿï¼Œæ–¹ä¾¿ä½ ç®¡ç†ä»£ç ç‰ˆæœ¬ï¼ŒååŒå¼€å‘ã€‚</p><pre><code>ä½¿ç”¨æŠ€å·§ï¼š åœ¨ Cursor ä¸­åˆå§‹åŒ– Git ä»“åº“ï¼Œæˆ–è€…å…‹éš†å·²æœ‰çš„ Git ä»“åº“ã€‚ä½ å¯ä»¥ä½¿ç”¨ Cursor çš„ Git ç•Œé¢è¿›è¡Œæäº¤ã€æ‹‰å–ã€æ¨é€ã€åˆ†æ”¯ç®¡ç†ç­‰æ“ä½œã€‚é«˜çº§ç”¨æ³•ï¼š ä½ å¯ä»¥ä½¿ç”¨ Cursor çš„ Git å†å²æŸ¥çœ‹åŠŸèƒ½ï¼ŒæŸ¥çœ‹ä»£ç çš„ä¿®æ”¹å†å²ã€‚ä½ è¿˜å¯ä»¥ä½¿ç”¨ Cursor çš„ä»£ç æ¯”è¾ƒåŠŸèƒ½ï¼Œæ¯”è¾ƒä¸åŒç‰ˆæœ¬ä¹‹é—´çš„ä»£ç å·®å¼‚ã€‚</code></pre><h2 id="6-æ€§èƒ½ä¼˜åŒ–ï¼šè®©-Gemini-2-0-Flash-Exp-æ›´æµç•…"><a href="#6-æ€§èƒ½ä¼˜åŒ–ï¼šè®©-Gemini-2-0-Flash-Exp-æ›´æµç•…" class="headerlink" title="6. æ€§èƒ½ä¼˜åŒ–ï¼šè®© Gemini-2.0-Flash-Exp æ›´æµç•…"></a>6. æ€§èƒ½ä¼˜åŒ–ï¼šè®© Gemini-2.0-Flash-Exp æ›´æµç•…</h2><p>è™½ç„¶ Gemini-2.0-Flash-Exp å·²ç»å¾ˆå¿«ï¼Œä½†ä½ è¿˜å¯ä»¥é€šè¿‡ä¸€äº›æ–¹æ³•æ¥ä¼˜åŒ–å…¶æ€§èƒ½ï¼š</p><pre><code>ä¿æŒ Cursor æœ€æ–°ï¼š ç¡®ä¿ä½ çš„ Cursor ç‰ˆæœ¬æ˜¯æœ€æ–°çš„ï¼Œè¿™æ ·å¯ä»¥è·å¾—æœ€æ–°çš„æ€§èƒ½ä¼˜åŒ–å’Œä¿®å¤ã€‚å…³é—­ä¸å¿…è¦çš„æ’ä»¶ï¼š å¦‚æœä½ å®‰è£…äº†å…¶ä»–æ’ä»¶ï¼Œå¹¶ä¸”è¿™äº›æ’ä»¶ä¸å¸¸ç”¨ï¼Œå¯ä»¥å°è¯•å…³é—­å®ƒä»¬ï¼Œä»¥å‡å°‘ Cursor çš„èµ„æºå ç”¨ã€‚é™åˆ¶ AI çš„ä½¿ç”¨èŒƒå›´ï¼š å¦‚æœä½ åªéœ€è¦ä½¿ç”¨ AI è¿›è¡Œä»£ç è¡¥å…¨ï¼Œå¯ä»¥å…³é—­å…¶ä»– AI åŠŸèƒ½ï¼Œä¾‹å¦‚ä»£ç è§£é‡Šå’Œä»£ç é‡æ„ï¼Œä»¥å‡å°‘ AI çš„è®¡ç®—é‡ã€‚ä½¿ç”¨æ›´å¿«çš„ç½‘ç»œï¼š ä¸€ä¸ªç¨³å®šçš„ã€é«˜é€Ÿçš„ç½‘ç»œè¿æ¥å¯ä»¥æé«˜ AI çš„å“åº”é€Ÿåº¦ã€‚æ¸…ç†ç¼“å­˜ï¼š å®šæœŸæ¸…ç† Cursor çš„ç¼“å­˜ï¼Œå¯ä»¥å‡å°‘ Cursor çš„èµ„æºå ç”¨ï¼Œæé«˜è¿è¡Œé€Ÿåº¦ã€‚åˆç†ä½¿ç”¨ AI åŠŸèƒ½ï¼š ä¸è¦è¿‡åº¦ä¾èµ– AIï¼Œåœ¨éœ€è¦çš„æ—¶å€™æ‰ä½¿ç”¨ AI åŠŸèƒ½ï¼Œè¿™æ ·å¯ä»¥å‡å°‘ AI çš„è®¡ç®—é‡ï¼Œæé«˜å“åº”é€Ÿåº¦ã€‚</code></pre><h2 id="7-å®æˆ˜ç¤ºä¾‹ï¼šä½¿ç”¨-Gemini-2-0-Flash-Exp-è§£å†³å®é™…é—®é¢˜"><a href="#7-å®æˆ˜ç¤ºä¾‹ï¼šä½¿ç”¨-Gemini-2-0-Flash-Exp-è§£å†³å®é™…é—®é¢˜" class="headerlink" title="7. å®æˆ˜ç¤ºä¾‹ï¼šä½¿ç”¨ Gemini-2.0-Flash-Exp è§£å†³å®é™…é—®é¢˜"></a>7. å®æˆ˜ç¤ºä¾‹ï¼šä½¿ç”¨ Gemini-2.0-Flash-Exp è§£å†³å®é™…é—®é¢˜</h2><p>ä¸ºäº†è®©ä½ æ›´å¥½åœ°ç†è§£ Gemini-2.0-Flash-Exp çš„ä½¿ç”¨ï¼Œè¿™é‡Œæä¾›ä¸€äº›å®æˆ˜ç¤ºä¾‹ï¼š</p><h3 id="7-1-ç¤ºä¾‹-1ï¼šå¿«é€Ÿç”Ÿæˆ-API-è¯·æ±‚ä»£ç "><a href="#7-1-ç¤ºä¾‹-1ï¼šå¿«é€Ÿç”Ÿæˆ-API-è¯·æ±‚ä»£ç " class="headerlink" title="7.1 ç¤ºä¾‹ 1ï¼šå¿«é€Ÿç”Ÿæˆ API è¯·æ±‚ä»£ç "></a>7.1 ç¤ºä¾‹ 1ï¼šå¿«é€Ÿç”Ÿæˆ API è¯·æ±‚ä»£ç </h3><p>å‡è®¾ä½ éœ€è¦ä½¿ç”¨ JavaScript å‘é€ä¸€ä¸ª HTTP è¯·æ±‚ï¼Œä½ å¯ä»¥è¾“å…¥ä»¥ä¸‹æè¿°ï¼š</p><p>&#x2F;&#x2F; ä½¿ç”¨ fetch API å‘é€ä¸€ä¸ª POST è¯·æ±‚åˆ° &#x2F;api&#x2F;usersï¼Œè¯·æ±‚ä½“æ˜¯ä¸€ä¸ª JSON å¯¹è±¡ï¼ŒåŒ…å« name å’Œ email å­—æ®µ</p><p>Gemini-2.0-Flash-Exp ä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„ JavaScript ä»£ç ï¼ŒåŒ…æ‹¬è®¾ç½®è¯·æ±‚å¤´å’Œå¤„ç†å“åº”ã€‚</p><h3 id="7-2-ç¤ºä¾‹-2ï¼šå¿«é€Ÿå®ç°æ•°æ®å¤„ç†å‡½æ•°"><a href="#7-2-ç¤ºä¾‹-2ï¼šå¿«é€Ÿå®ç°æ•°æ®å¤„ç†å‡½æ•°" class="headerlink" title="7.2 ç¤ºä¾‹ 2ï¼šå¿«é€Ÿå®ç°æ•°æ®å¤„ç†å‡½æ•°"></a>7.2 ç¤ºä¾‹ 2ï¼šå¿«é€Ÿå®ç°æ•°æ®å¤„ç†å‡½æ•°</h3><p>å‡è®¾ä½ éœ€è¦ä½¿ç”¨ Python å¯¹ä¸€ä¸ªåˆ—è¡¨è¿›è¡Œæ’åºï¼Œä½ å¯ä»¥è¾“å…¥ä»¥ä¸‹æè¿°ï¼š</p><h1 id="åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼Œå¯¹åˆ—è¡¨è¿›è¡Œå‡åºæ’åºï¼Œå¹¶è¿”å›æ’åºåçš„åˆ—è¡¨"><a href="#åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼Œå¯¹åˆ—è¡¨è¿›è¡Œå‡åºæ’åºï¼Œå¹¶è¿”å›æ’åºåçš„åˆ—è¡¨" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼Œå¯¹åˆ—è¡¨è¿›è¡Œå‡åºæ’åºï¼Œå¹¶è¿”å›æ’åºåçš„åˆ—è¡¨"></a>åˆ›å»ºä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªæ•´æ•°åˆ—è¡¨ï¼Œå¯¹åˆ—è¡¨è¿›è¡Œå‡åºæ’åºï¼Œå¹¶è¿”å›æ’åºåçš„åˆ—è¡¨</h1><p>Gemini-2.0-Flash-Exp ä¼šè‡ªåŠ¨ç”Ÿæˆç›¸åº”çš„ Python ä»£ç ï¼ŒåŒ…æ‹¬ä½¿ç”¨ sorted å‡½æ•°è¿›è¡Œæ’åºã€‚</p><h3 id="7-3-ç¤ºä¾‹-3ï¼šå¿«é€Ÿç”Ÿæˆå•å…ƒæµ‹è¯•ä»£ç "><a href="#7-3-ç¤ºä¾‹-3ï¼šå¿«é€Ÿç”Ÿæˆå•å…ƒæµ‹è¯•ä»£ç " class="headerlink" title="7.3 ç¤ºä¾‹ 3ï¼šå¿«é€Ÿç”Ÿæˆå•å…ƒæµ‹è¯•ä»£ç "></a>7.3 ç¤ºä¾‹ 3ï¼šå¿«é€Ÿç”Ÿæˆå•å…ƒæµ‹è¯•ä»£ç </h3><p>å‡è®¾ä½ æœ‰ä¸€ä¸ªå‡½æ•°ï¼Œä½ éœ€è¦ä¸ºè¿™ä¸ªå‡½æ•°ç¼–å†™å•å…ƒæµ‹è¯•ä»£ç ï¼Œä½ å¯ä»¥é€‰æ‹©è¿™ä¸ªå‡½æ•°ï¼Œç„¶åä½¿ç”¨ ç”Ÿæˆæµ‹è¯•ä»£ç  åŠŸèƒ½ï¼ŒGemini-2.0-Flash-Exp ä¼šè‡ªåŠ¨ä¸ºä½ ç”Ÿæˆæµ‹è¯•ä»£ç æ¡†æ¶ã€‚</p><h2 id="8-æœ€ä½³å®è·µï¼šå……åˆ†åˆ©ç”¨-Gemini-2-0-Flash-Exp"><a href="#8-æœ€ä½³å®è·µï¼šå……åˆ†åˆ©ç”¨-Gemini-2-0-Flash-Exp" class="headerlink" title="8. æœ€ä½³å®è·µï¼šå……åˆ†åˆ©ç”¨ Gemini-2.0-Flash-Exp"></a>8. æœ€ä½³å®è·µï¼šå……åˆ†åˆ©ç”¨ Gemini-2.0-Flash-Exp</h2><pre><code>æ¸…æ™°çš„æè¿°ï¼š åœ¨ä½¿ç”¨ä»£ç ç”ŸæˆåŠŸèƒ½æ—¶ï¼Œå°½é‡æä¾›æ¸…æ™°å’Œè¯¦ç»†çš„æè¿°ï¼ŒåŒ…æ‹¬ä»£ç çš„åŠŸèƒ½ã€è¾“å…¥ã€è¾“å‡ºã€å¼‚å¸¸å¤„ç†ç­‰ã€‚é€æ­¥ç”Ÿæˆï¼š ä¸è¦å°è¯•ä¸€æ¬¡æ€§ç”Ÿæˆæ‰€æœ‰ä»£ç ï¼Œå¯ä»¥é€æ­¥ç”Ÿæˆä»£ç ç‰‡æ®µï¼Œå¹¶è¿›è¡Œæµ‹è¯•å’ŒéªŒè¯ã€‚ä»£ç å®¡æŸ¥ï¼š ä¸è¦å®Œå…¨ä¾èµ– AI ç”Ÿæˆçš„ä»£ç ï¼Œè¦è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œç¡®ä¿ä»£ç çš„è´¨é‡å’Œå®‰å…¨æ€§ã€‚æŒç»­å­¦ä¹ ï¼š æŒç»­å­¦ä¹ æ–°çš„ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ï¼Œä»¥ä¾¿æ›´å¥½åœ°åˆ©ç”¨ AI å·¥å…·ã€‚åé¦ˆ AIï¼š å¦‚æœ AI ç”Ÿæˆçš„ä»£ç ä¸ç¬¦åˆä½ çš„é¢„æœŸï¼Œå¯ä»¥åé¦ˆç»™ AIï¼Œè®© AI å­¦ä¹ å’Œæ”¹è¿›ã€‚ç»„åˆä½¿ç”¨ï¼š å°† AI å·¥å…·ä¸å…¶ä»–å¼€å‘å·¥å…·ç»“åˆä½¿ç”¨ï¼Œä¾‹å¦‚è°ƒè¯•å™¨ã€ä»£ç åˆ†æå·¥å…·ã€ç‰ˆæœ¬æ§åˆ¶å·¥å…·ç­‰ï¼Œå¯ä»¥æé«˜å¼€å‘æ•ˆç‡ã€‚</code></pre><h2 id="9-å¸¸è§é—®é¢˜å’Œè§£ç­”ï¼ˆç»­ï¼‰"><a href="#9-å¸¸è§é—®é¢˜å’Œè§£ç­”ï¼ˆç»­ï¼‰" class="headerlink" title="9. å¸¸è§é—®é¢˜å’Œè§£ç­”ï¼ˆç»­ï¼‰"></a>9. å¸¸è§é—®é¢˜å’Œè§£ç­”ï¼ˆç»­ï¼‰</h2><pre><code>Qï¼šä¸ºä»€ä¹ˆ Gemini-2.0-Flash-Exp çš„å“åº”é€Ÿåº¦æœ‰æ—¶å€™ä¼šå˜æ…¢ï¼Ÿ    Aï¼š å“åº”é€Ÿåº¦å¯èƒ½ä¼šå—åˆ°ç½‘ç»œè¿æ¥ã€æœåŠ¡å™¨è´Ÿè½½ã€ä»£ç å¤æ‚åº¦å’Œä»£ç é•¿åº¦ç­‰å› ç´ çš„å½±å“ã€‚å¯ä»¥å°è¯•ä¼˜åŒ–ç½‘ç»œè¿æ¥ã€å‡å°‘ä»£ç å¤æ‚åº¦ã€æˆ–è€…åˆ†æ®µç”Ÿæˆä»£ç ã€‚Qï¼šGemini-2.0-Flash-Exp ç”Ÿæˆçš„ä»£ç æ˜¯å¦å®‰å…¨ï¼Ÿ    Aï¼š è™½ç„¶ Gemini-2.0-Flash-Exp å¯ä»¥ç”Ÿæˆé«˜è´¨é‡çš„ä»£ç ï¼Œä½†ä»ç„¶éœ€è¦è¿›è¡Œä»£ç å®¡æŸ¥ï¼Œç¡®ä¿ä»£ç çš„å®‰å…¨æ€§ã€‚Qï¼šCursor æ˜¯å¦æ”¯æŒå…¶ä»– AI æ¨¡å‹ï¼Ÿ    Aï¼š æ˜¯çš„ï¼ŒCursor æ”¯æŒå¤šç§ AI æ¨¡å‹ï¼Œä½ å¯ä»¥åœ¨è®¾ç½®ä¸­é€‰æ‹©ä¸åŒçš„æ¨¡å‹ã€‚</code></pre><h2 id="10-æ€»ç»“"><a href="#10-æ€»ç»“" class="headerlink" title="10. æ€»ç»“"></a>10. æ€»ç»“</h2><p>é€šè¿‡æœ¬æ–‡çš„è¯¦ç»†æ•™ç¨‹ï¼Œä½ å·²ç»å­¦ä¼šäº†å¦‚ä½•åœ¨ Cursor ä»£ç ç¼–è¾‘å™¨ä¸­å…è´¹ä½¿ç”¨ Gemini-2.0-Flash-Exp æ¨¡å‹ã€‚å¸Œæœ›ä½ èƒ½å¤Ÿå……åˆ†åˆ©ç”¨è¿™ä¸ªå¼ºå¤§çš„å·¥å…·ï¼Œæé«˜ç¼–ç æ•ˆç‡ï¼Œäº«å— AI å¸¦æ¥çš„ä¾¿åˆ©ã€‚è®°ä½ï¼ŒAI æ˜¯ä½ çš„åŠ©æ‰‹ï¼Œè€Œä¸æ˜¯ä½ çš„æ›¿ä»£å“ï¼Œè¦å……åˆ†å‘æŒ¥ä½ çš„åˆ›é€ åŠ›å’Œç¼–ç èƒ½åŠ›ï¼Œå°† AI å·¥å…·èå…¥ä½ çš„å·¥ä½œæµç¨‹ï¼Œè®©ä½ çš„å¼€å‘å·¥ä½œæ›´åŠ é«˜æ•ˆå’Œæ„‰å¿«ã€‚</p>]]></content>
      
      
      <categories>
          
          <category> AIä»£ç åŠ©æ‰‹ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Cursor </tag>
            
            <tag> Gemini-2.0-Flash-Exp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»0åˆ°1å®ç°é€šç”¨ç®¡ç†æƒé™(äºŒ)</title>
      <link href="/2024/12/21/%E4%BB%8E0%E5%88%B01%E5%AE%9E%E7%8E%B0%E9%80%9A%E7%94%A8%E7%AE%A1%E7%90%86%E6%9D%83%E9%99%90(%E4%BA%8C)/"/>
      <url>/2024/12/21/%E4%BB%8E0%E5%88%B01%E5%AE%9E%E7%8E%B0%E9%80%9A%E7%94%A8%E7%AE%A1%E7%90%86%E6%9D%83%E9%99%90(%E4%BA%8C)/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ-äºŒ-ï¼šæ•°æ®åº“è®¾è®¡ä¸å®ä½“ç±»"><a href="#ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ-äºŒ-ï¼šæ•°æ®åº“è®¾è®¡ä¸å®ä½“ç±»" class="headerlink" title="ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ (äºŒ)ï¼šæ•°æ®åº“è®¾è®¡ä¸å®ä½“ç±»"></a>ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ (äºŒ)ï¼šæ•°æ®åº“è®¾è®¡ä¸å®ä½“ç±»</h1><p><strong>I. å¯¼è¨€</strong></p><ul><li>1.1 å›é¡¾ç¬¬ä¸€ç¯‡ï¼š<ul><li>1.1.1 ç®€è¦å›é¡¾ç¬¬ä¸€ç¯‡ä¸­å®šä¹‰çš„æƒé™ç®¡ç†æ ¸å¿ƒæ¦‚å¿µå’ŒæŠ€æœ¯é€‰å‹ã€‚</li><li>1.1.2 é‡ç‚¹å›é¡¾ç¬¬ä¸€ç¯‡ä¸­è®¾è®¡çš„æ•°æ®åº“è¡¨ç»“æ„ã€‚</li></ul></li><li>1.2 æœ¬æ–‡çš„ç›®æ ‡ï¼š<ul><li>1.2.1 åŸºäºç¬¬ä¸€ç¯‡çš„æ•°æ®åº“è®¾è®¡ï¼Œæä¾›å®Œæ•´çš„ SQL è¯­å¥ï¼Œç”¨äºåˆ›å»ºæ•°æ®åº“è¡¨ã€‚</li><li>1.2.2 ä¸ºæ¯ä¸ªæ•°æ®åº“è¡¨ç”Ÿæˆå¯¹åº”çš„ C# å®ä½“ç±»ï¼Œå¹¶ä½¿ç”¨ SqlSugar ç‰¹æ€§è¿›è¡Œæ˜ å°„ã€‚</li><li>1.2.3 ä¸ºåç»­çš„æ•°æ®åº“æ“ä½œå¥ å®šåŸºç¡€ã€‚</li></ul></li><li>1.3 é€‚ç”¨è¯»è€…ï¼š<ul><li>1.3.1 æ­£åœ¨å­¦ä¹ å¦‚ä½•æ„å»ºæƒé™ç®¡ç†ç³»ç»Ÿçš„å¼€å‘è€…ã€‚</li><li>1.3.2 éœ€è¦äº†è§£æ•°æ®åº“è¡¨ç»“æ„è®¾è®¡å’Œå®ä½“ç±»æ˜ å°„çš„å¼€å‘è€…ã€‚</li><li>1.3.3 æ­£åœ¨ä½¿ç”¨ Net8ã€WebApi å’Œ SqlSugar çš„å¼€å‘è€…ã€‚</li></ul></li></ul><p><strong>II. æ•°æ®åº“è¡¨ç»“æ„ä¸ SQL è¯­å¥</strong></p><ul><li>2.1 ç”¨æˆ·è¡¨ (Users)<ul><li>2.1.1 è¡¨ç»“æ„ï¼š<ul><li><code>Id</code> (INT, ä¸»é”®, è‡ªå¢)</li><li><code>Username</code> (VARCHAR(50), NOT NULL, å”¯ä¸€)</li><li><code>Password</code> (VARCHAR(255), NOT NULL)</li><li><code>Email</code> (VARCHAR(100), NOT NULL, å”¯ä¸€)</li><li><code>CreateTime</code> (DATETIME, NOT NULL)</li><li><code>UpdateTime</code> (DATETIME)</li></ul></li><li>2.1.2 SQL è¯­å¥ï¼š<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Users (</span><br><span class="line">    Id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">    Username <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">    Password <span class="type">VARCHAR</span>(<span class="number">255</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    Email <span class="type">VARCHAR</span>(<span class="number">100</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">    CreateTime DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    UpdateTime DATETIME</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul></li><li>2.2 è§’è‰²è¡¨ (Roles)<ul><li>2.2.1 è¡¨ç»“æ„ï¼š<ul><li><code>Id</code> (INT, ä¸»é”®, è‡ªå¢)</li><li><code>Name</code> (VARCHAR(50), NOT NULL, å”¯ä¸€)</li><li><code>Description</code> (VARCHAR(255))</li><li><code>CreateTime</code> (DATETIME, NOT NULL)</li><li><code>UpdateTime</code> (DATETIME)</li></ul></li><li>2.2.2 SQL è¯­å¥ï¼š<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Roles (</span><br><span class="line">    Id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">    Name <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">    Description <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    CreateTime DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    UpdateTime DATETIME</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul></li><li>2.3 æƒé™è¡¨ (Permissions)<ul><li>2.3.1 è¡¨ç»“æ„ï¼š<ul><li><code>Id</code> (INT, ä¸»é”®, è‡ªå¢)</li><li><code>Name</code> (VARCHAR(50), NOT NULL, å”¯ä¸€)</li><li><code>Code</code> (VARCHAR(50), NOT NULL, å”¯ä¸€)</li><li><code>Description</code> (VARCHAR(255))</li><li><code>CreateTime</code> (DATETIME, NOT NULL)</li><li><code>UpdateTime</code> (DATETIME)</li></ul></li><li>2.3.2 SQL è¯­å¥ï¼š<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Permissions (</span><br><span class="line">    Id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">    Name <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">    Code <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span> <span class="keyword">UNIQUE</span>,</span><br><span class="line">    Description <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    CreateTime DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    UpdateTime DATETIME</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul></li><li>2.4 ç”¨æˆ·è§’è‰²å…³ç³»è¡¨ (UserRoles)<ul><li>2.4.1 è¡¨ç»“æ„ï¼š<ul><li><code>UserId</code> (INT, å¤–é”®, NOT NULL)</li><li><code>RoleId</code> (INT, å¤–é”®, NOT NULL)</li><li><code>CreateTime</code> (DATETIME, NOT NULL)</li><li>è”åˆä¸»é”®ï¼š(UserId, RoleId)</li></ul></li><li>2.4.2 SQL è¯­å¥ï¼š<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> UserRoles (</span><br><span class="line">    UserId <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    RoleId <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    CreateTime DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (UserId, RoleId),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (UserId) <span class="keyword">REFERENCES</span> Users(Id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (RoleId) <span class="keyword">REFERENCES</span> Roles(Id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul></li><li>2.5 è§’è‰²æƒé™å…³ç³»è¡¨ (RolePermissions)<ul><li>2.5.1 è¡¨ç»“æ„ï¼š<ul><li><code>RoleId</code> (INT, å¤–é”®, NOT NULL)</li><li><code>PermissionId</code> (INT, å¤–é”®, NOT NULL)</li><li><code>CreateTime</code> (DATETIME, NOT NULL)</li><li>è”åˆä¸»é”®ï¼š(RoleId, PermissionId)</li></ul></li><li>2.5.2 SQL è¯­å¥ï¼š<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> RolePermissions (</span><br><span class="line">    RoleId <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    PermissionId <span class="type">INT</span> <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    CreateTime DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    <span class="keyword">PRIMARY</span> KEY (RoleId, PermissionId),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (RoleId) <span class="keyword">REFERENCES</span> Roles(Id),</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (PermissionId) <span class="keyword">REFERENCES</span> Permissions(Id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul></li><li>2.6 èœå•è¡¨ (Menus)<ul><li>2.6.1 è¡¨ç»“æ„ï¼š<ul><li><code>Id</code> (INT, ä¸»é”®, è‡ªå¢)</li><li><code>Name</code> (VARCHAR(50), NOT NULL)</li><li><code>Url</code> (VARCHAR(255))</li><li><code>Icon</code> (VARCHAR(50))</li><li><code>ParentId</code> (INT, å…è®¸ä¸ºç©º, å¤–é”®)</li><li><code>Sort</code> (INT)</li><li><code>CreateTime</code> (DATETIME, NOT NULL)</li><li><code>UpdateTime</code> (DATETIME)</li></ul></li><li>2.6.2 SQL è¯­å¥ï¼š<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> Menus (</span><br><span class="line">    Id <span class="type">INT</span> <span class="keyword">PRIMARY</span> KEY AUTO_INCREMENT,</span><br><span class="line">    Name <span class="type">VARCHAR</span>(<span class="number">50</span>) <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    Url <span class="type">VARCHAR</span>(<span class="number">255</span>),</span><br><span class="line">    Icon <span class="type">VARCHAR</span>(<span class="number">50</span>),</span><br><span class="line">    ParentId <span class="type">INT</span>,</span><br><span class="line">    Sort <span class="type">INT</span>,</span><br><span class="line">    CreateTime DATETIME <span class="keyword">NOT</span> <span class="keyword">NULL</span>,</span><br><span class="line">    UpdateTime DATETIME,</span><br><span class="line">    <span class="keyword">FOREIGN</span> KEY (ParentId) <span class="keyword">REFERENCES</span> Menus(Id)</span><br><span class="line">);</span><br></pre></td></tr></table></figure></li></ul></li></ul><p><strong>III. C# å®ä½“ç±»</strong></p><ul><li><p>3.1 ç”¨æˆ·å®ä½“ç±» (User.cs)</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> SqlSugar;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">YourProject.Entities</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">SugarTable(<span class="string">&quot;Users&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">User</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, IsIdentity = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Username&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Username &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Password&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Password &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">         [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Email&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Email &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;CreateTime&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime CreateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;UpdateTime&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime? UpdateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>3.2 è§’è‰²å®ä½“ç±» (Role.cs)</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> SqlSugar;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">YourProject.Entities</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">SugarTable(<span class="string">&quot;Roles&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Role</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, IsIdentity = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Name&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Description&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span>? Description &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;CreateTime&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime CreateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;UpdateTime&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime? UpdateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">```       </span><br><span class="line">*   <span class="number">3.3</span> æƒé™å®ä½“ç±» (Permission.cs)</span><br><span class="line">```csharp</span><br><span class="line"><span class="keyword">using</span> SqlSugar;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">YourProject.Entities</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">SugarTable(<span class="string">&quot;Permissions&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Permission</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, IsIdentity = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Name&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Code&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Code &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Description&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span>? Description &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;CreateTime&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime CreateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;UpdateTime&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime? UpdateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>3.4 ç”¨æˆ·è§’è‰²å…³ç³»å®ä½“ç±» (UserRole.cs)</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> SqlSugar;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">YourProject.Entities</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">SugarTable(<span class="string">&quot;UserRoles&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">UserRole</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, ColumnName = <span class="string">&quot;UserId&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> UserId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, ColumnName = <span class="string">&quot;RoleId&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> RoleId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;CreateTime&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime CreateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">         [<span class="meta">Navigate(NavigateType.OneToOne, nameof(UserId))</span>]</span><br><span class="line">        <span class="keyword">public</span> User User &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">Navigate(NavigateType.OneToOne, nameof(RoleId))</span>]</span><br><span class="line">        <span class="keyword">public</span> Role Role &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>3.5 è§’è‰²æƒé™å…³ç³»å®ä½“ç±» (RolePermission.cs)</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> SqlSugar;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">YourProject.Entities</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">SugarTable(<span class="string">&quot;RolePermissions&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RolePermission</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, ColumnName = <span class="string">&quot;RoleId&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> RoleId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, ColumnName = <span class="string">&quot;PermissionId&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> PermissionId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;CreateTime&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime CreateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">Navigate(NavigateType.OneToOne, nameof(RoleId))</span>]</span><br><span class="line">        <span class="keyword">public</span> Role Role &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">Navigate(NavigateType.OneToOne, nameof(PermissionId))</span>]</span><br><span class="line">        <span class="keyword">public</span> Permission Permission &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>3.6 èœå•å®ä½“ç±» (Menu.cs)</p><figure class="highlight csharp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> SqlSugar;</span><br><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">YourProject.Entities</span></span><br><span class="line">&#123;</span><br><span class="line">    [<span class="meta">SugarTable(<span class="string">&quot;Menus&quot;</span>)</span>]</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">Menu</span></span><br><span class="line">    &#123;</span><br><span class="line">        [<span class="meta">SugarColumn(IsPrimaryKey = true, IsIdentity = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span> Id &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Name&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span> Name &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Url&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span>? Url &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">         [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Icon&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">string</span>? Icon &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;ParentId&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span>? ParentId &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;Sort&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> <span class="built_in">int</span>? Sort &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;CreateTime&quot;</span>)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime CreateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">        [<span class="meta">SugarColumn(ColumnName = <span class="string">&quot;UpdateTime&quot;</span>, IsNullable = true)</span>]</span><br><span class="line">        <span class="keyword">public</span> DateTime? UpdateTime &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">Navigate(NavigateType.OneToOne, nameof(ParentId))</span>]</span><br><span class="line">        <span class="keyword">public</span> Menu? ParentMenu &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">        [<span class="meta">Navigate(NavigateType.OneToMany, nameof(ParentId))</span>]</span><br><span class="line">        <span class="keyword">public</span> List&lt;Menu&gt;? Children &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p><strong>IV. æ€»ç»“</strong></p><ul><li>4.1 æœ¬ç« å›é¡¾ï¼š<ul><li>4.1.1 æ€»ç»“æœ¬ç« çš„ä¸»è¦å†…å®¹ï¼ŒåŒ…æ‹¬æ•°æ®åº“è¡¨çš„ SQL è¯­å¥å’Œå¯¹åº”çš„ C# å®ä½“ç±»ã€‚</li><li>4.1.2 å¼ºè°ƒäº† SqlSugar çš„ç‰¹æ€§å¦‚ä½•è¿›è¡Œè¡¨ç»“æ„å’Œå®ä½“ç±»çš„æ˜ å°„ã€‚</li></ul></li><li>4.2 ä¸‹ä¸€ç« é¢„å‘Šï¼š<ul><li>4.2.1 é¢„å‘Šä¸‹ä¸€ç¯‡æ–‡ç« çš„å†…å®¹ï¼Œä¾‹å¦‚å¦‚ä½•ä½¿ç”¨è¿™äº›å®ä½“ç±»è¿›è¡Œæ•°æ®åº“æ“ä½œå’Œå®ç°ç”¨æˆ·æ³¨å†Œã€ç™»å½•å’Œæƒé™éªŒè¯ç­‰åŠŸèƒ½ã€‚</li><li>4.2.2 è¯´æ˜ä¸‹ä¸€ç« å°†å¦‚ä½•ä½¿ç”¨ SqlSugar è¿æ¥æ•°æ®åº“ï¼Œå¹¶è¿›è¡Œ CRUD æ“ä½œã€‚</li><li>4.2.3 é¼“åŠ±è¯»è€…ç»§ç»­é˜…è¯»ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚</li></ul></li></ul><p><strong>å¤‡æ³¨ï¼š</strong></p><ul><li>è¯·æ ¹æ®ä½ çš„å®é™…é¡¹ç›®å‘½åç©ºé—´è°ƒæ•´ä»£ç ä¸­çš„ <code>YourProject.Entities</code>ã€‚</li><li>SQL è¯­å¥é€‚ç”¨äº MySQL æ•°æ®åº“ï¼Œå¦‚æœä½¿ç”¨å…¶ä»–æ•°æ®åº“ï¼Œè¯·æ ¹æ®éœ€è¦è¿›è¡Œè°ƒæ•´ã€‚</li><li><code>[Navigate]</code> ç‰¹æ€§ç”¨äºå®šä¹‰å¯¼èˆªå±æ€§ï¼Œæ–¹ä¾¿è¿›è¡Œå…³è”æŸ¥è¯¢ã€‚</li><li>å®ä½“ç±»ä¸­çš„å±æ€§ä½¿ç”¨äº†å¯ç©ºç±»å‹<code>string?</code> <code>int?</code> <code>DateTime?</code>ï¼Œè¿™ä¸æ•°æ®åº“è¡¨ç»“æ„ä¸­çš„å¯ç©ºå­—æ®µå¯¹åº”ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Net8 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Net8 </tag>
            
            <tag> WebApi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä»0åˆ°1å®ç°é€šç”¨ç®¡ç†æƒé™(ä¸€)</title>
      <link href="/2024/12/21/%E4%BB%8E0%E5%88%B01%E5%AE%9E%E7%8E%B0%E9%80%9A%E7%94%A8%E7%AE%A1%E7%90%86%E6%9D%83%E9%99%90(%E4%B8%80)/"/>
      <url>/2024/12/21/%E4%BB%8E0%E5%88%B01%E5%AE%9E%E7%8E%B0%E9%80%9A%E7%94%A8%E7%AE%A1%E7%90%86%E6%9D%83%E9%99%90(%E4%B8%80)/</url>
      
        <content type="html"><![CDATA[<h1 id="ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ-ä¸€-ï¼šåŸºç¡€ç¯‡"><a href="#ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ-ä¸€-ï¼šåŸºç¡€ç¯‡" class="headerlink" title="ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ (ä¸€)ï¼šåŸºç¡€ç¯‡"></a>ä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ (ä¸€)ï¼šåŸºç¡€ç¯‡</h1><p><strong>I. å¯¼è¨€</strong></p><ul><li>1.1 ä¸ºä»€ä¹ˆéœ€è¦æƒé™ç®¡ç†ï¼Ÿ<ul><li>1.1.1 ç°ä»£åº”ç”¨çš„å®‰å…¨æŒ‘æˆ˜ï¼šæ•°æ®æ³„éœ²ã€æœªæˆæƒè®¿é—®ç­‰é£é™©ã€‚</li><li>1.1.2 æƒé™ç®¡ç†çš„æ ¸å¿ƒä»·å€¼ï¼šä¿æŠ¤æ•æ„Ÿæ•°æ®ã€æ§åˆ¶ç”¨æˆ·è¡Œä¸ºã€æ»¡è¶³åˆè§„è¦æ±‚ã€‚</li><li>1.1.3 é€šç”¨æƒé™ç³»ç»Ÿçš„ä¼˜åŠ¿ï¼šå¯å¤ç”¨æ€§ã€æ˜“ç»´æŠ¤æ€§ã€é™ä½å¼€å‘æˆæœ¬ã€‚</li></ul></li><li>1.2 æœ¬æ–‡çš„ç›®æ ‡ï¼š<ul><li>1.2.1 è¯¦ç»†ä»‹ç»å¦‚ä½•ä»é›¶å¼€å§‹æ„å»ºä¸€ä¸ªé€šç”¨çš„ç®¡ç†æƒé™ç³»ç»Ÿã€‚</li><li>1.2.2 ä½¿ç”¨ Net8ã€WebApi å’Œ SqlSugar è¿™ä¸‰ä¸ªæŠ€æœ¯ï¼Œå¹¶è§£é‡Šé€‰æ‹©åŸå› ã€‚</li><li>1.2.3 å¼ºè°ƒè¿™æ˜¯ç³»åˆ—æ–‡ç« çš„å¼€ç¯‡ï¼Œä¸ºåç»­æ·±å…¥å†…å®¹å¥ å®šåŸºç¡€ã€‚</li></ul></li><li>1.3 è°é€‚åˆé˜…è¯»ï¼Ÿ<ul><li>1.3.1 å¯¹æƒé™ç®¡ç†åŸç†å’Œå®è·µæ„Ÿå…´è¶£çš„å¼€å‘è€…ã€‚</li><li>1.3.2 ç†Ÿæ‚‰ .NET æŠ€æœ¯æ ˆï¼Œå¸Œæœ›æå‡åç«¯å¼€å‘èƒ½åŠ›çš„å¼€å‘è€…ã€‚</li><li>1.3.3 å¸Œæœ›è‡ªå·±åŠ¨æ‰‹æ„å»ºæƒé™ç³»ç»Ÿï¼Œæå‡é¡¹ç›®å®‰å…¨æ€§çš„å¼€å‘è€…ã€‚</li></ul></li></ul><p><strong>II. æƒé™ç®¡ç†çš„æ ¸å¿ƒæ¦‚å¿µ</strong></p><ul><li>2.1 æƒé™ç®¡ç†çš„åŸºæœ¬è¦ç´ ï¼š<ul><li>2.1.1 <strong>ç”¨æˆ· (User)ï¼š</strong> ç³»ç»Ÿä¸­æ‰§è¡Œæ“ä½œçš„ä¸ªä½“ï¼ŒåŒ…å«åŸºæœ¬ä¿¡æ¯å’Œèº«ä»½å‡­è¯ã€‚</li><li>2.1.2 <strong>è§’è‰² (Role)ï¼š</strong> ä¸€ç»„æƒé™çš„é›†åˆï¼Œç”¨äºç®€åŒ–æƒé™åˆ†é…å’Œç®¡ç†ã€‚</li><li>2.1.3 <strong>æƒé™ (Permission)ï¼š</strong> å…è®¸ç”¨æˆ·æ‰§è¡Œçš„å…·ä½“æ“ä½œï¼Œä¾‹å¦‚ï¼šè¯»å–æ•°æ®ã€ä¿®æ”¹æ•°æ®ã€åˆ é™¤æ•°æ®ç­‰ã€‚</li><li>2.1.4 <strong>èµ„æº (Resource)ï¼š</strong> éœ€è¦ä¿æŠ¤çš„å¯¹è±¡ï¼Œä¾‹å¦‚ï¼šAPI æ¥å£ã€é¡µé¢ã€æ•°æ®è®°å½•ã€ä¸šåŠ¡æµç¨‹ç­‰ã€‚</li><li>2.1.5 <strong>æ“ä½œ (Operation)ï¼š</strong> å¯¹èµ„æºçš„å…·ä½“æ“ä½œè¡Œä¸ºï¼Œä¾‹å¦‚ï¼šGETã€POSTã€PUTã€DELETE ç­‰ã€‚</li></ul></li><li>2.2 å¸¸è§çš„æƒé™æ§åˆ¶æ–¹æ³•ï¼š<ul><li>2.2.1 <strong>åŸºäºè§’è‰²çš„è®¿é—®æ§åˆ¶ (RBAC)ï¼š</strong><ul><li>è¯¦ç»†è§£é‡Š RBAC çš„åŸç†å’Œä¼˜åŠ¿ã€‚</li><li>ä¸¾ä¾‹è¯´æ˜ç”¨æˆ·ã€è§’è‰²å’Œæƒé™ä¹‹é—´çš„å…³ç³»ã€‚</li><li>RBAC çš„é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚</li></ul></li><li>2.2.2 <strong>åŸºäºå±æ€§çš„è®¿é—®æ§åˆ¶ (ABAC)ï¼š</strong><ul><li>è¯¦ç»†è§£é‡Š ABAC çš„åŸç†å’Œä¼˜åŠ¿ã€‚</li><li>ä¸¾ä¾‹è¯´æ˜å¦‚ä½•æ ¹æ®ç”¨æˆ·ã€èµ„æºå’Œç¯å¢ƒå±æ€§è¿›è¡Œæƒé™åˆ¤æ–­ã€‚</li><li>ABAC çš„é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚</li></ul></li><li>2.2.3 <strong>è®¿é—®æ§åˆ¶åˆ—è¡¨ (ACL)ï¼š</strong><ul><li>è¯¦ç»†è§£é‡Š ACL çš„åŸç†å’Œä¼˜åŠ¿ã€‚</li><li>ä¸¾ä¾‹è¯´æ˜å¦‚ä½•ä½¿ç”¨ ACL ç®¡ç†èµ„æºè®¿é—®æƒé™ã€‚</li><li>ACL çš„é€‚ç”¨åœºæ™¯å’Œå±€é™æ€§ã€‚</li></ul></li></ul></li><li>2.3 æœ¬æ–‡é€‰æ‹©çš„æƒé™æ¨¡å‹ï¼š<ul><li>2.3.1 ä¸ºä»€ä¹ˆé€‰æ‹© RBAC æ¨¡å‹ï¼Ÿ<ul><li>RBAC æ¨¡å‹çš„æ˜“ç”¨æ€§ã€å¯æ‰©å±•æ€§å’Œé€‚ç”¨æ€§ã€‚</li><li>RBAC æ¨¡å‹å¦‚ä½•æ»¡è¶³å¸¸è§çš„æƒé™ç®¡ç†éœ€æ±‚ã€‚</li></ul></li><li>2.3.2 RBAC æ¨¡å‹åœ¨å®é™…é¡¹ç›®ä¸­çš„åº”ç”¨åœºæ™¯ï¼š<ul><li>ä¸¾ä¾‹è¯´æ˜ RBAC æ¨¡å‹åœ¨ä¸åŒç±»å‹çš„åº”ç”¨ä¸­çš„åº”ç”¨ã€‚</li></ul></li></ul></li><li>2.4 æƒé™ç®¡ç†çš„åŸºæœ¬æµç¨‹ï¼š<ul><li>2.4.1 ç”¨æˆ·ç™»å½•ä¸èº«ä»½éªŒè¯ï¼š<ul><li>è¯¦ç»†è¯´æ˜ç”¨æˆ·å¦‚ä½•ç™»å½•ç³»ç»Ÿå¹¶éªŒè¯èº«ä»½ã€‚</li><li>å¸¸ç”¨çš„èº«ä»½éªŒè¯æ–¹æ³•ï¼šç”¨æˆ·åå¯†ç ã€JWTã€OAuth ç­‰ã€‚</li></ul></li><li>2.4.2 æƒé™éªŒè¯ï¼š<ul><li>ç³»ç»Ÿå¦‚ä½•éªŒè¯ç”¨æˆ·æ˜¯å¦æœ‰æƒè®¿é—®æŸä¸ªèµ„æºã€‚</li><li>æƒé™éªŒè¯çš„å¸¸è§æµç¨‹ï¼šè·å–ç”¨æˆ·è§’è‰²ã€è·å–è§’è‰²æƒé™ã€åˆ¤æ–­æ˜¯å¦å…è®¸è®¿é—®ã€‚</li></ul></li><li>2.4.3 æƒé™æˆæƒï¼š<ul><li>ç³»ç»Ÿå¦‚ä½•æˆæƒç”¨æˆ·æ‰§è¡Œç‰¹å®šæ“ä½œã€‚</li><li>æƒé™æˆæƒçš„æ–¹å¼ï¼šå…è®¸è®¿é—®ã€æ‹’ç»è®¿é—®ã€éƒ¨åˆ†è®¿é—®ç­‰ã€‚</li></ul></li></ul></li></ul><p><strong>III. æŠ€æœ¯æ ˆé€‰æ‹©</strong></p><ul><li>3.1 ä¸ºä»€ä¹ˆé€‰æ‹© .NET 8ï¼Ÿ<ul><li>3.1.1 .NET 8 çš„æ€§èƒ½ä¼˜åŠ¿ï¼šæ›´é«˜çš„ååé‡ã€æ›´ä½çš„å»¶è¿Ÿã€‚</li><li>3.1.2 .NET 8 çš„è·¨å¹³å°èƒ½åŠ›ï¼šæ”¯æŒ Windowsã€Linuxã€macOS ç­‰æ“ä½œç³»ç»Ÿã€‚</li><li>3.1.3 .NET 8 çš„æ–°ç‰¹æ€§ï¼šC# 12ã€ASP.NET Core 8 ç­‰æ–°åŠŸèƒ½ã€‚</li><li>3.1.4 .NET 8 å¦‚ä½•æå‡ WebApi å¼€å‘çš„æ•ˆç‡å’Œæ€§èƒ½ã€‚</li></ul></li><li>3.2 ä¸ºä»€ä¹ˆé€‰æ‹© WebApiï¼Ÿ<ul><li>3.2.1 WebApi å¦‚ä½•å¸®åŠ©æ„å»º RESTful APIï¼Œå®ç°å‰åç«¯åˆ†ç¦»ã€‚</li><li>3.2.2 WebApi åœ¨æƒé™ç®¡ç†ç³»ç»Ÿä¸­çš„å…·ä½“ä½œç”¨ï¼šæä¾› API æ¥å£ã€å¤„ç†è¯·æ±‚ã€è¿”å›æ•°æ®ã€‚</li><li>3.2.3 WebApi çš„ä¼˜åŠ¿ï¼šå¯æ‰©å±•æ€§ã€æ˜“ç»´æŠ¤æ€§ã€è·¨å¹³å°æ€§ã€‚</li></ul></li><li>3.3 ä¸ºä»€ä¹ˆé€‰æ‹© SqlSugarï¼Ÿ<ul><li>3.3.1 SqlSugar ä½œä¸º ORM æ¡†æ¶çš„æ˜“ç”¨æ€§ï¼šä»£ç ç®€æ´ã€å¼€å‘æ•ˆç‡é«˜ã€‚</li><li>3.3.2 SqlSugar çš„å¼ºå¤§åŠŸèƒ½ï¼šæ”¯æŒå¤šç§æ•°æ®åº“ã€æ”¯æŒå¤æ‚æŸ¥è¯¢ã€æ”¯æŒäº‹åŠ¡ã€‚</li><li>3.3.3 SqlSugar å¦‚ä½•ç®€åŒ–æ•°æ®åº“æ“ä½œå’Œå®ä½“æ˜ å°„ï¼Œé™ä½å¼€å‘éš¾åº¦ã€‚</li></ul></li><li>3.4 æŠ€æœ¯æ ˆæ€»ç»“ï¼š<ul><li>3.4.1 Net8 + WebApi + SqlSugar çš„ç»„åˆä¼˜åŠ¿ï¼šé«˜æ€§èƒ½ã€é«˜æ•ˆç‡ã€æ˜“ç»´æŠ¤ã€‚</li><li>3.4.2 è¿™ä¸ªæŠ€æœ¯æ ˆå¦‚ä½•æ»¡è¶³æƒé™ç®¡ç†ç³»ç»Ÿçš„éœ€æ±‚ï¼šå®ç°ç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€æƒé™ç®¡ç†ã€èµ„æºç®¡ç†ç­‰åŠŸèƒ½ã€‚</li></ul></li></ul><p><strong>IV. æ•°æ®åº“è®¾è®¡</strong></p><ul><li>4.1 æ•°æ®åº“è¡¨ç»“æ„ï¼š<ul><li>4.1.1 <strong>ç”¨æˆ·è¡¨ (Users)ï¼š</strong><ul><li>è¯¦ç»†è¯´æ˜ç”¨æˆ·è¡¨çš„å­—æ®µï¼šIdã€Usernameã€Passwordã€Emailã€CreateTimeã€UpdateTime ç­‰ã€‚</li><li>è¯´æ˜å­—æ®µçš„æ•°æ®ç±»å‹ã€çº¦æŸå’Œç´¢å¼•ã€‚</li></ul></li><li>4.1.2 <strong>è§’è‰²è¡¨ (Roles)ï¼š</strong><ul><li>è¯¦ç»†è¯´æ˜è§’è‰²è¡¨çš„å­—æ®µï¼šIdã€Nameã€Descriptionã€CreateTimeã€UpdateTime ç­‰ã€‚</li><li>è¯´æ˜å­—æ®µçš„æ•°æ®ç±»å‹ã€çº¦æŸå’Œç´¢å¼•ã€‚</li></ul></li><li>4.1.3 <strong>æƒé™è¡¨ (Permissions)ï¼š</strong><ul><li>è¯¦ç»†è¯´æ˜æƒé™è¡¨çš„å­—æ®µï¼šIdã€Nameã€Codeã€Descriptionã€CreateTimeã€UpdateTime ç­‰ã€‚</li><li>è¯´æ˜å­—æ®µçš„æ•°æ®ç±»å‹ã€çº¦æŸå’Œç´¢å¼•ã€‚</li></ul></li><li>4.1.4 <strong>ç”¨æˆ·è§’è‰²å…³ç³»è¡¨ (UserRoles)ï¼š</strong><ul><li>è¯¦ç»†è¯´æ˜ç”¨æˆ·è§’è‰²å…³ç³»è¡¨çš„å­—æ®µï¼šUserIdã€RoleIdã€CreateTime ç­‰ã€‚</li><li>è¯´æ˜å­—æ®µçš„æ•°æ®ç±»å‹ã€çº¦æŸå’Œç´¢å¼•ã€‚</li></ul></li><li>4.1.5 <strong>è§’è‰²æƒé™å…³ç³»è¡¨ (RolePermissions)ï¼š</strong><ul><li>è¯¦ç»†è¯´æ˜è§’è‰²æƒé™å…³ç³»è¡¨çš„å­—æ®µï¼šRoleIdã€PermissionIdã€CreateTime ç­‰ã€‚</li><li>è¯´æ˜å­—æ®µçš„æ•°æ®ç±»å‹ã€çº¦æŸå’Œç´¢å¼•ã€‚</li></ul></li><li>4.1.6 <strong>èœå•è¡¨ (Menus)ï¼š</strong><ul><li>è¯¦ç»†è¯´æ˜èœå•è¡¨çš„å­—æ®µï¼šIdã€Nameã€Urlã€Iconã€ParentIdã€Sortã€CreateTimeã€UpdateTime ç­‰ã€‚</li><li>è¯´æ˜å­—æ®µçš„æ•°æ®ç±»å‹ã€çº¦æŸå’Œç´¢å¼•ã€‚</li></ul></li></ul></li><li>4.2 è¡¨ç»“æ„ç»†èŠ‚ï¼š<ul><li>4.2.1 è¯¦ç»†è¯´æ˜æ¯ä¸ªè¡¨ä¸­çš„å­—æ®µï¼ŒåŒ…æ‹¬ä¸»é”®ã€å¤–é”®ã€æ•°æ®ç±»å‹ã€é•¿åº¦ã€çº¦æŸã€ç´¢å¼•ç­‰ã€‚</li><li>4.2.2 è¯´æ˜ä¸ºä»€ä¹ˆé€‰æ‹©è¿™äº›å­—æ®µï¼Œä»¥åŠå­—æ®µçš„ç”¨é€”ã€‚</li></ul></li><li>4.3 æ•°æ®åº“å…³ç³»å›¾ï¼š<ul><li>4.3.1 ä½¿ç”¨ ER å›¾æ¸…æ™°å±•ç¤ºè¡¨ä¹‹é—´çš„å…³ç³»ï¼ŒåŒ…æ‹¬ä¸€å¯¹ä¸€ã€ä¸€å¯¹å¤šã€å¤šå¯¹å¤šå…³ç³»ã€‚</li><li>4.3.2 è¯´æ˜è¡¨ä¹‹é—´çš„å…³è”å…³ç³»ï¼Œä»¥åŠå¦‚ä½•é€šè¿‡å…³ç³»è¿›è¡Œæ•°æ®æŸ¥è¯¢ã€‚</li></ul></li><li>4.4 SqlSugar å®ä½“æ˜ å°„ï¼š<ul><li>4.4.1 ä»‹ç»å¦‚ä½•ä½¿ç”¨ SqlSugar å°†æ•°æ®åº“è¡¨æ˜ å°„åˆ° C# å®ä½“ç±»<ul><li>å±•ç¤º C# å®ä½“ç±»çš„ä»£ç ç¤ºä¾‹ï¼ŒåŒ…æ‹¬å±æ€§å’Œç‰¹æ€§ã€‚</li><li>è¯´æ˜å¦‚ä½•ä½¿ç”¨ SqlSugar çš„ç‰¹æ€§è¿›è¡Œè¡¨åã€åˆ—åã€ä¸»é”®ã€å¤–é”®ç­‰æ˜ å°„ã€‚</li><li>è§£é‡Šå¦‚ä½•å¤„ç†ä¸€å¯¹å¤šã€å¤šå¯¹å¤šç­‰å¤æ‚å…³ç³»æ˜ å°„ã€‚</li></ul></li><li>4.4.2 å®ä½“ç±»çš„ä»£ç ç”Ÿæˆï¼š<ul><li>ä»‹ç»å¦‚ä½•ä½¿ç”¨ SqlSugar çš„ä»£ç ç”Ÿæˆå·¥å…·å¿«é€Ÿç”Ÿæˆå®ä½“ç±»ã€‚</li><li>è¯´æ˜å¦‚ä½•æ ¹æ®æ•°æ®åº“è¡¨ç»“æ„è‡ªåŠ¨ç”Ÿæˆ C# ä»£ç ã€‚</li></ul></li></ul></li></ul><p><strong>V. åˆæ­¥å®ç°ï¼šç”¨æˆ·ç™»å½•å’Œæƒé™éªŒè¯</strong></p><ul><li>5.1 ç”¨æˆ·æ³¨å†Œä¸ç™»å½•ï¼š<ul><li>5.1.1 åˆ›å»ºç”¨æˆ·æ³¨å†Œ API æ¥å£ï¼š<ul><li>è¯¦ç»†è¯´æ˜æ³¨å†Œæ¥å£çš„è¯·æ±‚å‚æ•°å’Œè¿”å›ç»“æœã€‚</li><li>å±•ç¤ºå¦‚ä½•ä½¿ç”¨ WebApi æ§åˆ¶å™¨å¤„ç†æ³¨å†Œè¯·æ±‚ã€‚</li><li>è¯´æ˜å¦‚ä½•å¯¹ç”¨æˆ·å¯†ç è¿›è¡ŒåŠ å¯†å­˜å‚¨ã€‚</li></ul></li><li>5.1.2 åˆ›å»ºç”¨æˆ·ç™»å½• API æ¥å£ï¼š<ul><li>è¯¦ç»†è¯´æ˜ç™»å½•æ¥å£çš„è¯·æ±‚å‚æ•°å’Œè¿”å›ç»“æœã€‚</li><li>å±•ç¤ºå¦‚ä½•ä½¿ç”¨ WebApi æ§åˆ¶å™¨å¤„ç†ç™»å½•è¯·æ±‚ã€‚</li><li>è¯´æ˜å¦‚ä½•ä½¿ç”¨ JWT æˆ–å…¶ä»–æ–¹å¼ç”Ÿæˆèº«ä»½éªŒè¯ä»¤ç‰Œã€‚</li></ul></li><li>5.1.3 èº«ä»½éªŒè¯ä»¤ç‰Œçš„å­˜å‚¨ï¼š<ul><li>ä»‹ç»å¦‚ä½•å°†èº«ä»½éªŒè¯ä»¤ç‰Œå­˜å‚¨åœ¨å®¢æˆ·ç«¯ï¼ˆä¾‹å¦‚ï¼šCookieã€LocalStorageï¼‰ã€‚</li><li>è¯´æ˜å¦‚ä½•ä½¿ç”¨èº«ä»½éªŒè¯ä»¤ç‰Œè¿›è¡Œåç»­çš„ API è¯·æ±‚ã€‚</li></ul></li></ul></li><li>5.2 æƒé™éªŒè¯ï¼š<ul><li>5.2.1 å®ç°æƒé™éªŒè¯ä¸­é—´ä»¶æˆ–è¿‡æ»¤å™¨ï¼š<ul><li>è¯¦ç»†è¯´æ˜å¦‚ä½•åˆ›å»ºè‡ªå®šä¹‰çš„æƒé™éªŒè¯ä¸­é—´ä»¶æˆ–è¿‡æ»¤å™¨ã€‚</li><li>å±•ç¤ºå¦‚ä½•æ‹¦æˆª API è¯·æ±‚ï¼Œè¿›è¡Œæƒé™éªŒè¯ã€‚</li><li>è¯´æ˜å¦‚ä½•ä»èº«ä»½éªŒè¯ä»¤ç‰Œä¸­è·å–ç”¨æˆ·ä¿¡æ¯ã€‚</li></ul></li><li>5.2.2 åŸºäºè§’è‰²çš„æƒé™åˆ¤æ–­ï¼š<ul><li>è¯´æ˜å¦‚ä½•æ ¹æ®ç”¨æˆ·çš„è§’è‰²å’Œæƒé™ï¼Œåˆ¤æ–­å…¶æ˜¯å¦æœ‰æƒè®¿é—®æŸä¸ªèµ„æºã€‚</li><li>å±•ç¤ºå¦‚ä½•ä»æ•°æ®åº“ä¸­è·å–ç”¨æˆ·çš„è§’è‰²å’Œæƒé™ä¿¡æ¯ã€‚</li><li>è§£é‡Šå¦‚ä½•ä½¿ç”¨ä»£ç å®ç°æƒé™åˆ¤æ–­é€»è¾‘ã€‚</li></ul></li><li>5.2.3 æƒé™éªŒè¯çš„å¼‚å¸¸å¤„ç†ï¼š<ul><li>è¯´æ˜å¦‚ä½•å¤„ç†æƒé™éªŒè¯å¤±è´¥çš„æƒ…å†µï¼Œä¾‹å¦‚ï¼šè¿”å› 401 Unauthorized æˆ– 403 Forbidden é”™è¯¯ã€‚</li><li>å±•ç¤ºå¦‚ä½•è‡ªå®šä¹‰é”™è¯¯ä¿¡æ¯ï¼Œæä¾›æ›´å¥½çš„ç”¨æˆ·ä½“éªŒã€‚</li></ul></li></ul></li><li>5.3 æ•°æ®åº“æ“ä½œï¼š<ul><li>5.3.1 ä½¿ç”¨ SqlSugar è¿›è¡Œ CRUD æ“ä½œï¼š<ul><li>å±•ç¤ºå¦‚ä½•ä½¿ç”¨ SqlSugar çš„ API è¿›è¡Œæ•°æ®åº“çš„å¢åˆ æ”¹æŸ¥æ“ä½œã€‚</li><li>è¯´æ˜å¦‚ä½•ä½¿ç”¨ LINQ æˆ–è¡¨è¾¾å¼è¿›è¡Œæ•°æ®æŸ¥è¯¢ã€‚</li></ul></li><li>5.3.2 ç”¨æˆ·ã€è§’è‰²å’Œæƒé™çš„ CRUD æ“ä½œï¼š<ul><li>å±•ç¤ºå¦‚ä½•ç¼–å†™ç”¨æˆ·ã€è§’è‰²å’Œæƒé™çš„ CRUD æ“ä½œçš„ API æ¥å£ã€‚</li><li>è¯´æ˜å¦‚ä½•ä½¿ç”¨ SqlSugar è¿›è¡Œæ•°æ®åº“æ“ä½œã€‚</li></ul></li><li>5.3.3 äº‹åŠ¡å¤„ç†ï¼š<ul><li>ä»‹ç»å¦‚ä½•ä½¿ç”¨ SqlSugar è¿›è¡Œäº‹åŠ¡å¤„ç†ï¼Œä¿è¯æ•°æ®çš„ä¸€è‡´æ€§ã€‚</li></ul></li></ul></li><li>5.4 ä»£ç ç¤ºä¾‹ï¼š<ul><li>5.4.1 å±•ç¤ºå…³é”®ä»£ç ç‰‡æ®µï¼Œå¹¶è¿›è¡Œè¯¦ç»†çš„è§£é‡Šè¯´æ˜ã€‚</li><li>5.4.2 æä¾›å®Œæ•´çš„ç”¨æˆ·æ³¨å†Œã€ç™»å½•å’Œæƒé™éªŒè¯çš„ä»£ç ç¤ºä¾‹ã€‚</li><li>5.4.3 æä¾›æ•°æ®åº“æ“ä½œçš„ä»£ç ç¤ºä¾‹ï¼ŒåŒ…æ‹¬ CRUD æ“ä½œå’Œäº‹åŠ¡å¤„ç†ã€‚</li></ul></li></ul><p><strong>VI. æ€»ç»“ä¸å±•æœ›</strong></p><ul><li>6.1 æœ¬ç« å›é¡¾ï¼š<ul><li>6.1.1 æ€»ç»“æœ¬ç« çš„ä¸»è¦å†…å®¹ï¼Œä¾‹å¦‚æƒé™ç®¡ç†æ¦‚å¿µã€æŠ€æœ¯é€‰å‹ã€æ•°æ®åº“è®¾è®¡å’Œåˆæ­¥å®ç°ã€‚</li><li>6.1.2 å¼ºè°ƒæœ¬ç« æ‰€å®ç°çš„åŠŸèƒ½ï¼Œä¾‹å¦‚ç”¨æˆ·æ³¨å†Œã€ç™»å½•å’Œæƒé™éªŒè¯ã€‚</li></ul></li><li>6.2 ä¸‹ä¸€ç« é¢„å‘Šï¼š<ul><li>6.2.1 é¢„å‘Šä¸‹ä¸€ç¯‡æ–‡ç« çš„å†…å®¹ï¼Œä¾‹å¦‚æ›´å®Œå–„çš„æƒé™ç®¡ç†åŠŸèƒ½ã€èœå•ç®¡ç†å’Œæ•°æ®æƒé™ç­‰ã€‚</li><li>6.2.2 è¯´æ˜ä¸‹ä¸€ç« å°†å¦‚ä½•æ‰©å±•æœ¬ç« çš„åŠŸèƒ½ï¼Œå¹¶å®ç°æ›´å¤æ‚çš„ä¸šåŠ¡é€»è¾‘ã€‚</li><li>6.2.3 é¼“åŠ±è¯»è€…ç»§ç»­é˜…è¯»ä¸‹ä¸€ç¯‡æ–‡ç« ã€‚</li></ul></li></ul><p><strong>å¤‡æ³¨ï¼š</strong></p><ul><li>æœ¬å¤§çº²ä¸º â€œä»é›¶å¼€å§‹æ„å»ºé€šç”¨ç®¡ç†æƒé™ç³»ç»Ÿ (ä¸€)â€ çš„å†…å®¹ï¼Œåç»­æ–‡ç« ä¼šé€æ­¥æ·±å…¥ã€‚</li><li>å¤§çº²ä¸­åŒ…å«ä¸€äº›å…³é”®æ¦‚å¿µï¼Œéœ€è¦åœ¨æ­£æ–‡ä¸­è¿›è¡Œè¯¦ç»†è§£é‡Šã€‚</li><li>å¯æ ¹æ®å®é™…æƒ…å†µå¯¹å¤§çº²è¿›è¡Œè°ƒæ•´ã€‚</li></ul>]]></content>
      
      
      <categories>
          
          <category> Net8 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Net8 </tag>
            
            <tag> WebApi </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Net8 + Redisç¼“å­˜å°è£…</title>
      <link href="/2024/12/14/Redis%E7%BC%93%E5%AD%98%E5%B0%81%E8%A3%85/"/>
      <url>/2024/12/14/Redis%E7%BC%93%E5%AD%98%E5%B0%81%E8%A3%85/</url>
      
        <content type="html"><![CDATA[<div class='wow animate__heartBeat' data-wow-duration='' data-wow-delay='5s' data-wow-offset=''  data-wow-iteration='10' ><div class="note red icon-padding modern"><i class="note-icon fas fa-bullhorn"></i><p>é¡»å®‰è£…NugetåŒ…:<code>Microsoft.Extensions.Caching.StackExchangeRedis</code></p></div></div><blockquote><h2 id="ç¼“å­˜æœåŠ¡æ¥å£"><a href="#ç¼“å­˜æœåŠ¡æ¥å£" class="headerlink" title="ç¼“å­˜æœåŠ¡æ¥å£"></a>ç¼“å­˜æœåŠ¡æ¥å£</h2></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> ç¼“å­˜æœåŠ¡æ¥å£</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title">ICacheService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> è®¾ç½®ç¼“å­˜ </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Set</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span>;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function">Task <span class="title">SetAsync</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Set</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function">Task <span class="title">SetAsync</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expireType&quot;&gt;</span>è¿‡æœŸç±»å‹<span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Set</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout, ExpireType expireType</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expireType&quot;&gt;</span>è¿‡æœŸç±»å‹<span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="function">Task <span class="title">SetAsync</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout, ExpireType expireType</span>)</span>;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="built_in">string</span> <span class="title">Get</span>(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function">Task&lt;<span class="built_in">string</span>&gt; <span class="title">GetAsync</span>(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function">T <span class="title">Get</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="title">Task</span>&lt;<span class="title">T</span>&gt; <span class="title">GetAsync</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> åˆ é™¤ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Remove</span>(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function">Task <span class="title">RemoveAsync</span>(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> åˆ·æ–°ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ·æ–°ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">Refresh</span>(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ·æ–°ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function">Task <span class="title">RefreshAsync</span>(<span class="params"><span class="built_in">string</span> key</span>)</span>;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><h2 id="ç¼“å­˜æœåŠ¡å®ç°"><a href="#ç¼“å­˜æœåŠ¡å®ç°" class="headerlink" title="ç¼“å­˜æœåŠ¡å®ç°"></a>ç¼“å­˜æœåŠ¡å®ç°</h2></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> ç¼“å­˜æœåŠ¡</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CacheService</span> : <span class="title">ICacheService</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> å¾®è½¯ç¼“å­˜æ¥å£</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">readonly</span> IDistributedCache _cache;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ„é€ å‡½æ•°æ³¨å…¥</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;cache&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CacheService</span>(<span class="params">IDistributedCache cache</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _cache = cache;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ„é€ ç¼“å­˜é”®</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="built_in">string</span> <span class="title">BuildKey</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">$&quot;Cache_<span class="subst">&#123;GetType().FullName&#125;</span>_<span class="subst">&#123;key&#125;</span>&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> è®¾ç½®ç¼“å­˜ </span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Set</span>(<span class="params"><span class="built_in">string</span> key,<span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _cache.SetString(BuildKey(key), JsonExt.SerializeObject(<span class="keyword">value</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">SetAsync</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span></span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">await</span> _cache.SetStringAsync(BuildKey(key), JsonExt.SerializeObject(<span class="keyword">value</span>));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Set</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _cache.SetString(BuildKey(key), JsonExt.SerializeObject(<span class="keyword">value</span>), <span class="keyword">new</span> DistributedCacheEntryOptions</span><br><span class="line">        &#123;</span><br><span class="line">            AbsoluteExpiration = <span class="keyword">new</span> DateTimeOffset(DateTime.Now + timeout)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">SetAsync</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">await</span> _cache.SetStringAsync(BuildKey(key), JsonExt.SerializeObject(<span class="keyword">value</span>), <span class="keyword">new</span> DistributedCacheEntryOptions</span><br><span class="line">        &#123;</span><br><span class="line">            AbsoluteExpiration = <span class="keyword">new</span> DateTimeOffset(DateTime.Now + timeout)</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expireType&quot;&gt;</span>è¿‡æœŸç±»å‹<span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Set</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout, ExpireType expireType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> cacheKey = BuildKey(key);</span><br><span class="line">        <span class="keyword">if</span> (expireType == ExpireType.Absolute)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è¿™é‡Œæ²¡è½¬æ¢æ ‡å‡†æ—¶é—´ï¼ŒLinuxæ—¶åŒºä¼šæœ‰é—®é¢˜</span></span><br><span class="line">            _cache.SetString(cacheKey, JsonExt.SerializeObject(<span class="keyword">value</span>), <span class="keyword">new</span> DistributedCacheEntryOptions</span><br><span class="line">            &#123;</span><br><span class="line">                AbsoluteExpiration = <span class="keyword">new</span> DateTimeOffset(DateTime.Now + timeout)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            _cache.SetString(cacheKey, JsonExt.SerializeObject(<span class="keyword">value</span>), <span class="keyword">new</span> DistributedCacheEntryOptions</span><br><span class="line">            &#123;</span><br><span class="line">                AbsoluteExpirationRelativeToNow = timeout</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è®¾ç½®ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ³¨ï¼šé»˜è®¤è¿‡æœŸç±»å‹ä¸ºç»å¯¹è¿‡æœŸ</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;value&quot;&gt;</span>å€¼<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;timeout&quot;&gt;</span>è¿‡æœŸæ—¶é—´é—´éš”<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expireType&quot;&gt;</span>è¿‡æœŸç±»å‹<span class="doctag">&lt;/param&gt;</span>  </span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">SetAsync</span>(<span class="params"><span class="built_in">string</span> key, <span class="built_in">object</span> <span class="keyword">value</span>, TimeSpan timeout, ExpireType expireType</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="built_in">string</span> cacheKey = BuildKey(key);</span><br><span class="line">        <span class="keyword">if</span> (expireType == ExpireType.Absolute)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//è¿™é‡Œæ²¡è½¬æ¢æ ‡å‡†æ—¶é—´ï¼ŒLinuxæ—¶åŒºä¼šæœ‰é—®é¢˜</span></span><br><span class="line">            <span class="keyword">await</span> _cache.SetStringAsync(cacheKey, JsonExt.SerializeObject(<span class="keyword">value</span>), <span class="keyword">new</span> DistributedCacheEntryOptions</span><br><span class="line">            &#123;</span><br><span class="line">                AbsoluteExpiration = <span class="keyword">new</span> DateTimeOffset(DateTime.Now + timeout)</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">await</span> _cache.SetStringAsync(cacheKey, JsonExt.SerializeObject(<span class="keyword">value</span>), <span class="keyword">new</span> DistributedCacheEntryOptions</span><br><span class="line">            &#123;</span><br><span class="line">                AbsoluteExpirationRelativeToNow = timeout</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="built_in">string</span> <span class="title">Get</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(key))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> _cache.GetString(BuildKey(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task&lt;<span class="built_in">string</span>&gt; <span class="title">GetAsync</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(key))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">await</span> _cache.GetStringAsync(BuildKey(key));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> T <span class="title">Get</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> cache = Get(key);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(cache))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> JsonExt.DeserializeObject&lt;T&gt;(cache);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> è·å–ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> <span class="title">Task</span>&lt;<span class="title">T</span>&gt; <span class="title">GetAsync</span>&lt;<span class="title">T</span>&gt;(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">var</span> cache = <span class="keyword">await</span> GetAsync(key);</span><br><span class="line">        <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(cache))</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> JsonExt.DeserializeObject&lt;T&gt;(cache);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">default</span>(T);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> åˆ é™¤ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Remove</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _cache.Remove(BuildKey(key));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ¸…é™¤ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">RemoveAsync</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">await</span> _cache.RemoveAsync(BuildKey(key));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">    <span class="meta">#<span class="keyword">region</span> åˆ·æ–°ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ·æ–°ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">Refresh</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        _cache.Refresh(BuildKey(key));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> åˆ·æ–°ç¼“å­˜</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;key&quot;&gt;</span>ç¼“å­˜Key<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">async</span> Task <span class="title">RefreshAsync</span>(<span class="params"><span class="built_in">string</span> key</span>)</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">await</span> _cache.RefreshAsync(BuildKey(key));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><h2 id="ç¼“å­˜é…ç½®é¡¹"><a href="#ç¼“å­˜é…ç½®é¡¹" class="headerlink" title="ç¼“å­˜é…ç½®é¡¹"></a>ç¼“å­˜é…ç½®é¡¹</h2></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> ç¼“å­˜æœåŠ¡é…ç½®</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">CacheServiceOption</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> CacheType CacheType &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> RedisCache Redis &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> redisç¼“å­˜é…ç½®ç±»</span></span><br><span class="line"><span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RedisCache</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> redisè¿æ¥å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> RedisConnString &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> rediså®ä¾‹åç§°</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="built_in">string</span> InstanceName &#123; <span class="keyword">get</span>; <span class="keyword">set</span>; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ç¼“å­˜æ–¹å¼ program.cs</span></span><br><span class="line"><span class="keyword">var</span> cacheOption = App.Configuration.GetSection(<span class="string">&quot;CacheService&quot;</span>).Get&lt;CacheServiceOption&gt;();</span><br><span class="line"><span class="keyword">switch</span> (cacheOption.CacheType)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">case</span> CacheType.Memory:<span class="comment">// å†…å­˜ç¼“å­˜</span></span><br><span class="line">        builder.Services.AddDistributedMemoryCache();</span><br><span class="line">        <span class="keyword">break</span>; </span><br><span class="line">    <span class="keyword">case</span> CacheType.Redis:<span class="comment">// åˆ†å¸ƒå¼ç¼“å­˜</span></span><br><span class="line">        builder.Services.AddStackExchangeRedisCache(options =&gt;</span><br><span class="line">        &#123;</span><br><span class="line">            options.Configuration = cacheOption.Redis.RedisConnString;</span><br><span class="line">            options.InstanceName = cacheOption.Redis.InstanceName;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="literal">default</span>:</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><h2 id="appsetting-json"><a href="#appsetting-json" class="headerlink" title="appsetting.json"></a>appsetting.json</h2></blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¼“å­˜é…ç½®ä¿¡æ¯</span></span><br><span class="line"><span class="attr">&quot;CacheService&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;CacheType&quot;</span><span class="punctuation">:</span> <span class="string">&quot;Redis&quot;</span><span class="punctuation">,</span> <span class="comment">// ç¼“å­˜ç±»å‹ Memory:å†…å­˜ç¼“å­˜ Redis:åˆ†å¸ƒå¼ç¼“å­˜</span></span><br><span class="line">  <span class="attr">&quot;Redis&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;RedisConnString&quot;</span><span class="punctuation">:</span> <span class="string">&quot;127.0.0.1:6379,password=123456&quot;</span><span class="punctuation">,</span> <span class="comment">// redisè¿æ¥å­—ç¬¦ä¸²</span></span><br><span class="line">    <span class="attr">&quot;InstanceName&quot;</span><span class="punctuation">:</span> <span class="string">&quot;RedisInstance&quot;</span> <span class="comment">// rediså®ä¾‹åç§°</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç¼“å­˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>æ•°æ®åº“å¸¸ç”¨æ—¥æœŸæ ¼å¼åŒ–</title>
      <link href="/2024/12/14/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E7%94%A8%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96/"/>
      <url>/2024/12/14/%E6%95%B0%E6%8D%AE%E5%BA%93%E5%B8%B8%E7%94%A8%E6%97%A5%E6%9C%9F%E6%A0%BC%E5%BC%8F%E5%8C%96/</url>
      
        <content type="html"><![CDATA[<blockquote><h2 id="SqlServer-æ•°æ®åº“"><a href="#SqlServer-æ•°æ®åº“" class="headerlink" title="SqlServer æ•°æ®åº“"></a>SqlServer æ•°æ®åº“</h2></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--è·å–å½“å¤©æ—¶é—´</span></span><br><span class="line"><span class="keyword">SELECT</span> GETDATE()</span><br><span class="line"><span class="comment">--æ—¶é—´æ ¼å¼åŒ–</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">varchar</span>, GETDATE(), <span class="number">120</span>) <span class="comment">--2024-09-18 16:42:56</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">varchar</span>(<span class="number">100</span>), GETDATE(), <span class="number">23</span>) <span class="comment">--2024-09-18</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">varchar</span>, GETDATE(), <span class="number">111</span>) <span class="comment">--2024/09/18</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">varchar</span>, GETDATE(), <span class="number">112</span>) <span class="comment">--20240918</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">varchar</span>, GETDATE(), <span class="number">8</span>) <span class="comment">--16:45:27</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--DATENAME([DD/MM/YY...], [æ—¶é—´])</span></span><br><span class="line"><span class="keyword">SELECT</span> DATENAME(DD, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>) <span class="comment">--2</span></span><br><span class="line"><span class="keyword">SELECT</span> DATENAME(MM, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>) <span class="comment">--09</span></span><br><span class="line"><span class="keyword">SELECT</span> DATENAME(YY, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>) <span class="comment">--2024</span></span><br><span class="line"><span class="keyword">SELECT</span> DATENAME(DW, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>)<span class="comment">--æ˜ŸæœŸä¸€</span></span><br><span class="line"><span class="keyword">SELECT</span> DATENAME(Y, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>) <span class="comment">--246 ï¼ˆä»Šå¹´çš„ç¬¬å‡ å¤©ï¼‰</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--DATEPART([DD/MM/YY...], [æ—¶é—´/å­—ç¬¦ç±»å‹])</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEPART(DD, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>) <span class="comment">--2</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEPART(MM, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>) <span class="comment">--9</span></span><br><span class="line"><span class="keyword">SELECT</span> DATENAME(YY, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>) <span class="comment">--2024</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEPART(DW, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>)<span class="comment">--2 ï¼ˆæ˜ŸæœŸæ—¥ç®—ç¬¬ä¸€å¤©ï¼‰</span></span><br><span class="line"><span class="comment">--FORMAT([æ—¶é—´ç±»å‹], [d/dd....])</span></span><br><span class="line"><span class="keyword">SELECT</span> FORMAT(<span class="keyword">CONVERT</span>(DateTime, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>), <span class="string">&#x27;yyyy&#x27;</span>)<span class="comment">--2024</span></span><br><span class="line"><span class="keyword">SELECT</span> FORMAT(<span class="keyword">CONVERT</span>(DateTime, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>), <span class="string">&#x27;MM&#x27;</span>)<span class="comment">--09</span></span><br><span class="line"><span class="keyword">SELECT</span> FORMAT(<span class="keyword">CONVERT</span>(DateTime, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>), <span class="string">&#x27;dd&#x27;</span>)<span class="comment">--02</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">--å¸¸è§çš„éœ€æ±‚æ€»ç»“ï¼š</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">varchar</span>, GETDATE(), <span class="number">120</span>) <span class="comment">--2024-09-18 16:42:56</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">varchar</span>(<span class="number">100</span>), GETDATE(), <span class="number">23</span>) <span class="comment">--2024-09-18</span></span><br><span class="line"><span class="keyword">SELECT</span> FORMAT(<span class="keyword">CONVERT</span>(DateTime, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>), <span class="string">&#x27;D&#x27;</span>) <span class="comment">--2024å¹´9æœˆ2æ—¥</span></span><br><span class="line"><span class="keyword">SELECT</span> FORMAT(<span class="keyword">CONVERT</span>(DateTime, <span class="string">&#x27;2024-09-02 00:00:00&#x27;</span>), <span class="string">&#x27;m&#x27;</span>) <span class="comment">--9æœˆ2æ—¥</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">VARCHAR</span>, </span><br><span class="line">    <span class="keyword">CASE</span> </span><br><span class="line">        <span class="keyword">WHEN</span> DATEPART(DW, GETDATE()) <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span> DATEADD(dd, <span class="number">-6</span>, GETDATE())</span><br><span class="line">        <span class="keyword">ELSE</span> DATEADD(DD, <span class="operator">-</span> (DATEPART(dw, GETDATE()) <span class="operator">-</span> <span class="number">2</span>), GETDATE())</span><br><span class="line">    <span class="keyword">END</span>, <span class="number">23</span>);<span class="comment">--è·å–æœ¬å‘¨å‘¨ä¸€æ—¥æœŸ</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONVERT</span>(<span class="type">VARCHAR</span>,</span><br><span class="line">    <span class="keyword">CASE</span> </span><br><span class="line">        <span class="keyword">WHEN</span> DATEPART(DW, GETDATE()) <span class="operator">=</span> <span class="number">1</span> <span class="keyword">THEN</span> GETDATE()</span><br><span class="line">        <span class="keyword">ELSE</span> DATEADD(DD, <span class="number">8</span> <span class="operator">-</span> DATEPART(DW, GETDATE()), GETDATE()) </span><br><span class="line">    <span class="keyword">END</span>, <span class="number">23</span>);<span class="comment">--è·å–æœ¬å‘¨æ—¥æ—¥æœŸ</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEADD(MM, DATEDIFF(MM, <span class="number">0</span>, GETDATE()), <span class="number">0</span>) <span class="comment">--è·å–æœ¬æœˆç¬¬ä¸€å¤©æ—¥æœŸ</span></span><br><span class="line"><span class="keyword">SELECT</span> DATEADD(MM, DATEDIFF(MM, <span class="number">0</span>, GETDATE()) <span class="operator">+</span> <span class="number">1</span>, <span class="number">-1</span>)<span class="comment">--è·å–æœ¬æœˆæœ€åä¸€å¤©æ—¥æœŸ</span></span><br></pre></td></tr></table></figure><blockquote><h2 id="MySql-æ•°æ®åº“"><a href="#MySql-æ•°æ®åº“" class="headerlink" title="MySql æ•°æ®åº“"></a>MySql æ•°æ®åº“</h2><p>åœ¨MySQLä¸­ï¼Œä½ å¯ä»¥ä½¿ç”¨DATE_FORMAT()å‡½æ•°æ¥æ ¼å¼åŒ–æ—¥æœŸã€‚DATE_FORMAT() å‡½æ•°é€šå¸¸ç”¨äºæ ¼å¼åŒ– DATETIME æˆ– TIMESTAMPç±»å‹çš„å­—æ®µ</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span>å¹´<span class="operator">-</span>æœˆ<span class="operator">-</span>æ—¥</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%Y-%m-%d&#x27;</span>); </span><br><span class="line"></span><br><span class="line"><span class="number">2.</span>æœˆ<span class="operator">/</span>æ—¥<span class="operator">/</span>å¹´</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%m/%d/%Y&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">3.</span>å®Œæ•´çš„æ—¥æœŸå’Œæ—¶é—´</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%Y-%m-%d %H:%i:%s&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">4.</span>å°æ—¶å’Œåˆ†é’Ÿ</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%H:%i&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">5.</span>æ˜ŸæœŸå‡ </span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%W&#x27;</span>); <span class="comment">-- æ˜ŸæœŸå‡ ï¼ˆSunday=0, ..., Saturday=6ï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="number">6.</span>æœˆä»½çš„åç§°</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%M&#x27;</span>); <span class="comment">-- æœˆä»½çš„åç§°ï¼ˆJanuary, ..., Decemberï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="number">7.</span>æœˆä»½çš„ç¼©å†™</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%b&#x27;</span>); <span class="comment">-- æœˆä»½çš„ç¼©å†™ï¼ˆJan, ..., Decï¼‰</span></span><br><span class="line"></span><br><span class="line"><span class="number">8.</span>å¹´ä»½çš„æœ€åä¸¤ä½æ•°å­—</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%y&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">9.</span>AMæˆ–PM</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%p&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="number">10.</span>ç§’</span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(NOW(), <span class="string">&#x27;%s&#x27;</span>);</span><br><span class="line"></span><br><span class="line">å¦‚æœä½ æœ‰ä¸€ä¸ªéæ—¥æœŸæ—¶é—´ç±»å‹çš„å­—æ®µï¼Œä½†ä½ çŸ¥é“å®ƒåŒ…å«çš„æ˜¯æ—¥æœŸæˆ–æ—¶é—´ä¿¡æ¯ï¼Œ</span><br><span class="line">ä½ å¯èƒ½éœ€è¦å…ˆå°†å…¶è½¬æ¢ä¸º DATETIME ç±»å‹ï¼Œç„¶åå†ä½¿ç”¨ DATE_FORMAT() å‡½æ•°ã€‚</span><br><span class="line">ä¾‹å¦‚ï¼Œå¦‚æœä¸€ä¸ª <span class="type">VARCHAR</span> å­—æ®µåŒ…å«æ—¥æœŸæ—¶é—´å­—ç¬¦ä¸²ï¼Œä½ å¯ä»¥ä½¿ç”¨ STR_TO_DATE() å‡½æ•°å°†å…¶è½¬æ¢</span><br><span class="line"></span><br><span class="line"><span class="comment">--STR_TO_DATE() å‡½æ•°å°†å­—ç¬¦ä¸²è½¬æ¢ä¸º DATETIME ç±»å‹ï¼Œç„¶å DATE_FORMAT() å‡½æ•°å°†å…¶æ ¼å¼åŒ–ä¸ºæ‰€éœ€çš„æ ¼å¼</span></span><br><span class="line"><span class="keyword">SELECT</span> DATE_FORMAT(STR_TO_DATE(your_column, <span class="string">&#x27;%Y-%m-%d %H:%i:%s&#x27;</span>), <span class="string">&#x27;%Y-%m-%d %H:%i:%s&#x27;</span>);</span><br></pre></td></tr></table></figure>]]></content>
      
      
      <categories>
          
          <category> éšç¬” </category>
          
      </categories>
      
      
        <tags>
            
            <tag> æ•°æ®åº“ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SqlSugar DbContext</title>
      <link href="/2023/02/16/SqlSugar/"/>
      <url>/2023/02/16/SqlSugar/</url>
      
        <content type="html"><![CDATA[<h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a><strong>å‰è¨€</strong></h1><div class="note blue no-icon flat"><p><strong>ä»€ä¹ˆæ˜¯SqlSugar?</strong><br>SqlSugar æ˜¯ .NET&#x2F;C# å¹³å°éå¸¸ä¼˜ç§€çš„ ORM æ¡†æ¶ï¼Œç›®å‰ Nuget æ€»ä¸‹è½½çªç ´ 1000Kï¼ŒGithub å…³æ³¨é‡ä¹Ÿé«˜è¾¾ 3.7K<br>SqlSugar æ‹¥æœ‰é«˜æ€§èƒ½ï¼Œå…·æœ‰ç™¾ä¸‡çº§æ’å…¥ã€æ›´æ–°å¤§æ•°æ®åˆ†è¡¨ç­‰ç‰¹è‰²åŠŸèƒ½,æ˜¯ç›®å‰å½“ä¹‹æ— æ„§çš„å›½äº§ä¼˜ç§€ ORM æ¡†æ¶ä¹‹ä¸€ã€‚</p><ol><li>æ”¯æŒ <code>MySql</code>ã€<code>SqlServer</code>ã€<code>Sqlite</code>ã€<code>Oracle</code>ã€<code>postgresql</code>ã€<code>è¾¾æ¢¦</code>ã€<code>äººå¤§é‡‘ä»“</code> ç­‰å¤šç§æ•°æ®åº“</li><li>æ”¯æŒ <code>å…¨è‡ªåŠ¨åˆ†è¡¨</code></li><li>æ”¯æŒ <code>å¤šåº“äº‹åŠ¡</code></li><li>æ”¯æŒ <code>CodeFirst</code> &#x2F; <code>DbFirst</code></li><li>æ”¯æŒ <code>è”è¡¨æŸ¥è¯¢</code>ã€<code>åµŒå¥—æŸ¥è¯¢</code>ã€<code>å¯¼èˆªæŸ¥è¯¢</code>ã€<code>å­æŸ¥è¯¢</code>ã€<code>åŠ¨æ€JSONæŸ¥è¯¢</code>ç­‰æŸ¥è¯¢æ“ä½œ</li><li>æ”¯æŒ SqlServerã€MySqlã€PgSqlã€Oracle <code>ç™¾ä¸‡çº§æ’å…¥å’Œæ›´æ–°</code></li></ol><p><strong>ä¸ªäººæ„Ÿå—</strong><br>å…¶å®è¯´èµ·æ¥æ¥è§¦<code>SqlSugar</code>çš„æ—¶é—´å¹¶ä¸æ˜¯å¾ˆé•¿,ä½†æ˜¯ç”¨è¿‡ä¹‹å,åªæœ‰ä¸€ä¸ªæ„Ÿè§‰:å¤ªä¸æ»‘äº†!<br>æ–‡æ¡£é½å…¨,æ–°æ‰‹ä¸Šè·¯è´¼å®¹æ˜“,çœŸçš„<span class='p red'>å¼ºçƒˆæ¨è</span>!!!<br>ç›®å‰æœ¬äººæ‰‹é‡Œçš„é¡¹ç›®,åªè¦ä¸æ•°æ®åº“äº¤äº’çš„,å·²ç»ç»Ÿç»Ÿåˆ‡æ¢æˆäº†<code>SqlSugar</code></p><p><strong>å®˜æ–¹æ–‡æ¡£</strong></p><div class="hide-block"><button type="button" class="hide-button" style="background-color:  orange;">ç‚¹æˆ‘æŸ¥çœ‹    </button><div class="hide-content"><div class="tag link"><a class="link-card" title="SqlSugaræ–‡æ¡£æ•™ç¨‹è´´" href="https://www.donet5.com/Home/Doc"><div class="left"><img src="https://www.donet5.com/HtmlTemplate2/com_files/logo.png"/></div><div class="right"><p class="text">SqlSugaræ–‡æ¡£æ•™ç¨‹è´´</p><p class="url">https://www.donet5.com/Home/Doc</p></div></a></div></div></div></div><h1 id="Net-Frameworkéƒ¨åˆ†"><a href="#Net-Frameworkéƒ¨åˆ†" class="headerlink" title=".Net Frameworkéƒ¨åˆ†"></a><strong>.Net Frameworkéƒ¨åˆ†</strong></h1><details class="folding-tag" cyan><summary> ä»£ç  & ä½¿ç”¨ </summary>              <div class='content'>              <blockquote><p><strong>å®Œæ•´ä»£ç </strong></p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">using</span> System;</span><br><span class="line"><span class="keyword">using</span> System.Collections.Generic;</span><br><span class="line"><span class="keyword">using</span> System.Configuration;</span><br><span class="line"><span class="keyword">using</span> System.Data;</span><br><span class="line"><span class="keyword">using</span> System.Linq.Expressions;</span><br><span class="line"><span class="keyword">using</span> SqlSugar;</span><br><span class="line"><span class="keyword">using</span> DbType = SqlSugar.DbType;</span><br><span class="line"></span><br><span class="line"><span class="keyword">namespace</span> <span class="title">CodeProject.Database</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> æ•°æ®åº“ä¸Šä¸‹æ–‡</span></span><br><span class="line">    <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">SqlSugarDbContext</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ•°æ®åº“è¿æ¥å­—ç¬¦ä¸²(ç§æœ‰å­—æ®µ)</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> DbConnString = ConfigurationManager.ConnectionStrings[<span class="string">&quot;sqlConStr&quot;</span>].ConnectionString;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ•°æ®åº“ç±»å‹(ç§æœ‰å­—æ®µ)</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">static</span> <span class="built_in">string</span> _databaseType = ConfigurationManager.ConnectionStrings[<span class="string">&quot;sqlConStr&quot;</span>].ProviderName;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> ç”¨æ¥å¤„ç†äº‹åŠ¡å¤šè¡¨æŸ¥è¯¢å’Œå¤æ‚çš„æ“ä½œ</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ³¨æ„ï¼šä¸èƒ½å†™æˆé™æ€çš„</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="keyword">public</span> SqlSugarClient Db;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">SqlSugarDbContext</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            DbType dbType;</span><br><span class="line">            <span class="keyword">switch</span> (_databaseType)</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;System.Data.SqlClient&quot;</span>:</span><br><span class="line">                    dbType = DbType.SqlServer;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;System.Data.SqliteClient&quot;</span>:</span><br><span class="line">                    dbType = DbType.Sqlite;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;MySql.Data.MySqlClient&quot;</span>:</span><br><span class="line">                    dbType = DbType.MySql;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="string">&quot;Oracle.ManagedDataAccess.Client&quot;</span>:</span><br><span class="line">                    dbType = DbType.Oracle;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="literal">default</span>:</span><br><span class="line">                    dbType = DbType.SqlServer;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            Db = <span class="keyword">new</span> SqlSugarClient(<span class="keyword">new</span> ConnectionConfig()</span><br><span class="line">            &#123;</span><br><span class="line">                ConnectionString = DbConnString,<span class="comment">//æ•°æ®åº“è¿æ¥ä¸²</span></span><br><span class="line">                DbType = dbType,<span class="comment">//æ•°æ®åº“ç±»å‹</span></span><br><span class="line">                InitKeyType = InitKeyType.SystemTable,<span class="comment">//ä»æ•°æ®åº“ä¸­è¯»å–ä¸»é”®å’Œè‡ªå¢åˆ—ä¿¡æ¯         //InitKeyType.Attribute,//ä»ç‰¹æ€§è¯»å–ä¸»é”®å’Œè‡ªå¢åˆ—ä¿¡æ¯</span></span><br><span class="line">                IsAutoCloseConnection = <span class="literal">true</span>,<span class="comment">//å¼€å¯è‡ªåŠ¨é‡Šæ”¾æ¨¡å¼å’ŒEFåŸç†ä¸€æ ·æˆ‘å°±ä¸å¤šè§£é‡Šäº†</span></span><br><span class="line"></span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">//è°ƒå¼ä»£ç  ç”¨æ¥æ‰“å°SQL </span></span><br><span class="line">            Db.Aop.OnLogExecuting = (sql, pars) =&gt;</span><br><span class="line">            &#123;</span><br><span class="line">                Console.WriteLine(sql + <span class="string">&quot;\r\n&quot;</span> +</span><br><span class="line">                    Db.Utilities.SerializeObject(pars.ToDictionary(it =&gt; it.ParameterName, it =&gt; it.Value)));</span><br><span class="line">                Console.WriteLine();</span><br><span class="line">            &#125;;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> åº“è¡¨æ“ä½œ</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å¤‡ä»½è¡¨</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;oldname&quot;&gt;</span>æ—§è¡¨åç§°<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;newname&quot;&gt;</span>æ–°è¡¨åç§°<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> <span class="title">BackupTable</span>(<span class="params"><span class="built_in">string</span> oldname, <span class="built_in">string</span> newname</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span> (!Db.DbMaintenance.IsAnyTable(newname, <span class="literal">false</span>))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="keyword">return</span> Db.DbMaintenance.BackupTable(oldname, newname, <span class="number">0</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åˆ é™¤è¡¨</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;tablename&quot;&gt;</span>è¡¨åç§°<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> <span class="title">DropTable</span>(<span class="params"><span class="built_in">string</span> tablename</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.DbMaintenance.DropTable(tablename);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ¸…ç©ºè¡¨</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;tablename&quot;&gt;</span>è¡¨åç§°<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> <span class="title">TruncateTable</span>(<span class="params"><span class="built_in">string</span> tablename</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.DbMaintenance.TruncateTable(tablename);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> CodeFirst ç±»--&gt;è¡¨</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åˆ›å»ºå•ä¸€è¡¨ </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;entityType&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CreateTable</span>(<span class="params">Type entityType</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Db.CodeFirst.SetStringDefaultLength(<span class="number">200</span>).BackupTable().InitTables(entityType);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ‰¹é‡åˆ›å»ºè¡¨</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;entityTypes&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">CreateTables</span>(<span class="params">Type[] entityTypes</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            Db.CodeFirst.SetStringDefaultLength(<span class="number">200</span>).BackupTable().InitTables(entityTypes);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> DbFirst è¡¨--&gt;ç±»</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ ¹æ®æ•°æ®åº“è¡¨ ç”Ÿæˆå®ä½“ç±»æ–‡ä»¶</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ•°æ®åº“è¡¨åç»Ÿä¸€æ ¼å¼:XX_XXX  å¦‚:Sys_UserInfo</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;filePath&quot;&gt;</span>ç±»æ–‡ä»¶åœ°å€<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;nameSpace&quot;&gt;</span>å‘½åç©ºé—´<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;tableName&quot;&gt;</span>è¡¨åç§°<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">CreateClassFiles</span>(<span class="params"><span class="built_in">string</span> filePath, <span class="built_in">string</span> nameSpace, <span class="built_in">string</span> tableName</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="meta">#<span class="keyword">region</span> æ ¼å¼åŒ– å®ä½“ç±»æ–‡ä»¶åç§°</span></span><br><span class="line">            <span class="comment">//å¾ªç¯éå† æ•°æ®åº“é‡Œçš„æ‰€æœ‰è¡¨  </span></span><br><span class="line">            <span class="keyword">foreach</span> (<span class="keyword">var</span> item <span class="keyword">in</span> Db.DbMaintenance.GetTableInfoList())</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="built_in">string</span> entityName = <span class="built_in">string</span>.Empty;</span><br><span class="line">                <span class="keyword">if</span> (item.Name.Contains(<span class="string">&quot;_&quot;</span>))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="keyword">var</span> tbName = item.Name.Split(<span class="string">&#x27;_&#x27;</span>);</span><br><span class="line">                    entityName = tbName[<span class="number">1</span>] + <span class="string">&quot;Entity&quot;</span>;</span><br><span class="line">                    Db.MappingTables.Add(entityName, item.Name);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span></span><br><span class="line">                &#123;</span><br><span class="line">                    entityName = item.Name + <span class="string">&quot;Entity&quot;</span>;</span><br><span class="line">                    Db.MappingTables.Add(entityName, item.Name);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//å¾ªç¯éå†  å½“å‰è¡¨çš„æ‰€æœ‰åˆ—</span></span><br><span class="line">                <span class="keyword">foreach</span> (<span class="keyword">var</span> col <span class="keyword">in</span> Db.DbMaintenance.GetColumnInfosByTableName(item.Name))</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="comment">//æ‰€æœ‰åˆ—å…¨éƒ¨è½¬å¤§å†™</span></span><br><span class="line">                    Db.MappingColumns.Add(col.DbColumnName.ToUpper(), col.DbColumnName, entityName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">            <span class="comment">//ç”ŸæˆæŒ‡å®šè¡¨åçš„å®ä½“ç±»æ–‡ä»¶</span></span><br><span class="line">            <span class="keyword">if</span> (!<span class="built_in">string</span>.IsNullOrEmpty(tableName))</span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//ç”Ÿæˆå¸¦æœ‰SqlSugarç‰¹æ€§çš„å®ä½“ç±»æ–‡ä»¶</span></span><br><span class="line">                Db.DbFirst.Where(tableName).IsCreateAttribute(<span class="literal">true</span>).CreateClassFile(filePath, nameSpace);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//ç”Ÿæˆæ‰€æœ‰è¡¨çš„å®ä½“ç±»æ–‡ä»¶</span></span><br><span class="line">            <span class="keyword">else</span></span><br><span class="line">            &#123;</span><br><span class="line">                <span class="comment">//ç”Ÿæˆå¸¦æœ‰SqlSugarç‰¹æ€§çš„å®ä½“ç±»æ–‡ä»¶</span></span><br><span class="line">                Db.DbFirst.IsCreateAttribute(<span class="literal">true</span>).CreateClassFile(filePath, nameSpace);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> äº‹åŠ¡æ“ä½œ</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å¼€å¯äº‹åŠ¡</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">BeginTran</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Db.Ado.BeginTran();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æäº¤äº‹åŠ¡ </span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">CommitTran</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Db.Ado.CommitTran();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> å›æ»šäº‹åŠ¡</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="keyword">void</span> <span class="title">RollbackTran</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            Db.Ado.RollbackTran();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> åŸç”ŸSql</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> é’ˆå¯¹äº å¢åˆ æ”¹</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sql&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">ExecuteCommand</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> SugarParameter[] pars</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Ado.ExecuteCommand(sql, pars);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è¿”å›é›†åˆ</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sql&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è¿”å›DataTable<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> DataTable <span class="title">GetDataTable</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> SugarParameter[] pars</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Ado.GetDataTable(sql, pars);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è¿”å›å¤šä¸ªé›†åˆ</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sql&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;pars&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> DataSet <span class="title">GetDataSet</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> SugarParameter[] pars</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Ado.GetDataSetAll(sql, pars);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ è¿”å›Outputå‚æ•°</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sql&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;pars&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è¿”å›int<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">ExecProcToInt</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> SugarParameter[] pars</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="built_in">int</span> proc_count = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                BeginTran();</span><br><span class="line">                proc_count = Db.Ado.UseStoredProcedure().GetInt(sql, pars);</span><br><span class="line">                CommitTran();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                RollbackTran();</span><br><span class="line">                <span class="keyword">throw</span> ex;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> proc_count;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sql&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;pars&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è¿”å›DataTable<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> DataTable <span class="title">ExecProcToDT</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> SugarParameter[] pars</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            DataTable dt = <span class="keyword">new</span> DataTable();</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                BeginTran();</span><br><span class="line">                dt = Db.Ado.UseStoredProcedure().GetDataTable(sql, pars);</span><br><span class="line">                CommitTran();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                RollbackTran();</span><br><span class="line">                <span class="keyword">throw</span> ex;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> dt;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è°ƒç”¨å­˜å‚¨è¿‡ç¨‹</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;sql&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;pars&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>è¿”å›DataSet<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> DataSet <span class="title">ExecProcToDS</span>(<span class="params"><span class="built_in">string</span> sql, <span class="keyword">params</span> SugarParameter[] pars</span>)</span></span><br><span class="line">        &#123;</span><br><span class="line">            DataSet ds = <span class="keyword">new</span> DataSet();</span><br><span class="line">            <span class="keyword">try</span></span><br><span class="line">            &#123;</span><br><span class="line">                BeginTran();</span><br><span class="line">                ds = Db.Ado.UseStoredProcedure().GetDataSetAll(sql, pars);</span><br><span class="line">                CommitTran();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">catch</span> (Exception ex)</span><br><span class="line">            &#123;</span><br><span class="line">                RollbackTran();</span><br><span class="line">                <span class="keyword">throw</span> ex;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> ds;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line">        <span class="meta">#<span class="keyword">region</span> æ³›å‹CURD</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ ¡éªŒæ•°æ®æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expression&quot;&gt;</span>Lambdaè¡¨è¾¾å¼ï¼ˆæŸ¥è¯¢æ¡ä»¶ï¼‰<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">bool</span> <span class="title">Any</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; expression</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Queryable&lt;TEntity&gt;().Any(expression);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ£€æŸ¥ä¿¡æ¯æ€»æ¡æ•°</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expression&quot;&gt;</span>Lambdaè¡¨è¾¾å¼ï¼ˆæŸ¥è¯¢æ¡ä»¶ï¼‰<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">Count</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; expression</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Queryable&lt;TEntity&gt;().Count(expression);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æŸ¥è¯¢å®ä½“</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;keyValue&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span>å•æ¡è®°å½•<span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> TEntity <span class="title">FindEntity</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params"><span class="built_in">object</span> keyValue</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Queryable&lt;TEntity&gt;().InSingle(keyValue);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æŸ¥è¯¢å®ä½“é›†åˆ</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="title">ISugarQueryable</span>&lt;<span class="title">TEntity</span>&gt; <span class="title">Queryable</span>&lt;<span class="title">TEntity</span>&gt;() <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Queryable&lt;TEntity&gt;();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è‡ªå®šä¹‰æ¡ä»¶æŸ¥è¯¢</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expression&quot;&gt;</span>Lambdaè¡¨è¾¾å¼ï¼ˆæŸ¥è¯¢æ¡ä»¶ï¼‰<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="title">ISugarQueryable</span>&lt;<span class="title">TEntity</span>&gt; <span class="title">Queryable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; expression</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Queryable&lt;TEntity&gt;().Where(expression);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> é€šè¿‡SQLè¯­å¥æŸ¥è¯¢</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;strSql&quot;&gt;</span>SQLè¯­å¥<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="title">ISugarQueryable</span>&lt;<span class="title">TEntity</span>&gt; <span class="title">Queryable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params"><span class="built_in">string</span> strSql</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.SqlQueryable&lt;TEntity&gt;(strSql);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ–°å¢</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;entity&quot;&gt;</span>å®ä½“ä¿¡æ¯<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">Insertable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">TEntity entity</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Insertable(entity).ExecuteCommand();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> æ‰¹é‡æ–°å¢</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;entities&quot;&gt;</span>å®ä½“ä¿¡æ¯é›†åˆ<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">Insertable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">List&lt;TEntity&gt; entities</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Insertable(entities).ExecuteCommand();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> ç¼–è¾‘</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;entity&quot;&gt;</span>å®ä½“ä¿¡æ¯<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">Updateable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">TEntity entity</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Updateable(entity).IgnoreColumns(ignoreAllNullColumns: <span class="literal">true</span>).ExecuteCommand();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è‡ªå®šä¹‰æ¡ä»¶ç¼–è¾‘</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;content&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;predicate&quot;&gt;</span><span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">Updateable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">Expression&lt;Func&lt;TEntity, TEntity&gt;&gt; content, Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; predicate</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Updateable(content).Where(predicate).ExecuteCommand();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> åˆ é™¤</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;entity&quot;&gt;</span>å®ä½“ä¿¡æ¯<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">Deleteable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">TEntity entity</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Deleteable(entity).ExecuteCommand();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> è‡ªå®šä¹‰æ¡ä»¶åˆ é™¤</span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;/summary&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;param name=&quot;expression&quot;&gt;</span>Lambdaè¡¨è¾¾å¼ï¼ˆæŸ¥è¯¢æ¡ä»¶ï¼‰<span class="doctag">&lt;/param&gt;</span></span></span><br><span class="line">        <span class="comment"><span class="doctag">///</span> <span class="doctag">&lt;returns&gt;</span><span class="doctag">&lt;/returns&gt;</span></span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">virtual</span> <span class="built_in">int</span> <span class="title">Deleteable</span>&lt;<span class="title">TEntity</span>&gt;(<span class="params">Expression&lt;Func&lt;TEntity, <span class="built_in">bool</span>&gt;&gt; expression</span>) <span class="keyword">where</span> TEntity : <span class="keyword">class</span>, <span class="keyword">new</span>()</span></span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">return</span> Db.Deleteable(expression).ExecuteCommand();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p><strong>ä½¿ç”¨ç¤ºä¾‹</strong></p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°æ®åº“ä¸Šä¸‹æ–‡ åˆå§‹åŒ–</span></span><br><span class="line">SqlSugarDbContext db = <span class="keyword">new</span> SqlSugarDbContext();</span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">region</span> åŸç”ŸSql</span></span><br><span class="line"><span class="keyword">var</span> dt = db.GetDataTable(strSql,pars);<span class="comment">//è¿”å›DataTable</span></span><br><span class="line"><span class="keyword">var</span> ds = db.GetDataSet(strSql,pars);<span class="comment">//è¿”å›DataSet</span></span><br><span class="line"><span class="keyword">var</span> count = db.ExcuteCommand(strSql,pars);<span class="comment">//é’ˆå¯¹äºå¢åˆ æ”¹,è¿”å›å—å½±å“è¡Œæ•°</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">region</span> æ³›å‹CURD</span></span><br><span class="line"><span class="keyword">var</span> list = db.Queryable&lt;TEntity&gt;().ToList();<span class="comment">//è¿”å›é›†åˆ</span></span><br><span class="line"><span class="keyword">var</span> list = db.Queryable&lt;TEntity&gt;(expression).ToList();<span class="comment">//è¿”å›é›†åˆ</span></span><br><span class="line">...</span><br><span class="line"><span class="meta">#<span class="keyword">endregion</span></span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>              </div>            </details><h1 id="Net-Coreéƒ¨åˆ†"><a href="#Net-Coreéƒ¨åˆ†" class="headerlink" title=".Net Coreéƒ¨åˆ†"></a><strong>.Net Coreéƒ¨åˆ†</strong></h1><details class="folding-tag" cyan><summary> ä»£ç  & ä½¿ç”¨ </summary>              <div class='content'>              <blockquote><p><strong>å®Œæ•´ä»£ç </strong></p></blockquote><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>              </div>            </details>]]></content>
      
      
      <categories>
          
          <category> æ•°æ®åº“ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ORM </tag>
            
            <tag> SqlSugar </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>WebFormç¨‹åºä¸­é›†æˆMvc4çš„æ–¹æ³•</title>
      <link href="/2023/02/16/WebForm%E7%A8%8B%E5%BA%8F%E4%B8%AD%E9%9B%86%E6%88%90Mvc4%E7%9A%84%E6%96%B9%E6%B3%95/"/>
      <url>/2023/02/16/WebForm%E7%A8%8B%E5%BA%8F%E4%B8%AD%E9%9B%86%E6%88%90Mvc4%E7%9A%84%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<div class="note blue no-icon flat"><p>æœ¬æ–‡ä¸ºå¤§å®¶åˆ†äº«äº†asp.net 4.0+ webformç¨‹åºä¸­é›†æˆmvc4çš„æ–¹æ³•ï¼Œä¾›å¤§å®¶å‚è€ƒï¼Œå…·ä½“å†…å®¹å¦‚ä¸‹</p></div><h1 id="æ–°å»ºpackages-configæ–‡ä»¶ï¼Œé‡Œé¢åŠ ä¸Šå¿…è¦çš„ç¨‹åºé›†"><a href="#æ–°å»ºpackages-configæ–‡ä»¶ï¼Œé‡Œé¢åŠ ä¸Šå¿…è¦çš„ç¨‹åºé›†" class="headerlink" title="æ–°å»ºpackages.configæ–‡ä»¶ï¼Œé‡Œé¢åŠ ä¸Šå¿…è¦çš„ç¨‹åºé›†"></a><strong>æ–°å»ºpackages.configæ–‡ä»¶ï¼Œé‡Œé¢åŠ ä¸Šå¿…è¦çš„ç¨‹åºé›†</strong></h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line">&lt;packages&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.Mvc&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.Mvc.FixedDisplayModes&quot;</span> version=<span class="string">&quot;1.0.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.Mvc.zh-Hans&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.Razor&quot;</span> version=<span class="string">&quot;2.0.20715.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.Razor.zh-Hans&quot;</span> version=<span class="string">&quot;2.0.20715.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.Web.Optimization&quot;</span> version=<span class="string">&quot;1.0.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.Web.Optimization.zh-Hans&quot;</span> version=<span class="string">&quot;1.0.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebApi&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebApi.Client&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebApi.Client.zh-Hans&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebApi.Core&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebApi.Core.zh-Hans&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebApi.WebHost&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebApi.WebHost.zh-Hans&quot;</span> version=<span class="string">&quot;4.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebPages&quot;</span> version=<span class="string">&quot;2.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.AspNet.WebPages.zh-Hans&quot;</span> version=<span class="string">&quot;2.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.Net.Http&quot;</span> version=<span class="string">&quot;2.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.Net.Http.zh-Hans&quot;</span> version=<span class="string">&quot;2.0.20710.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Microsoft.Web.Infrastructure&quot;</span> version=<span class="string">&quot;1.0.0.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;Newtonsoft.Json&quot;</span> version=<span class="string">&quot;4.5.11&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line"> &lt;package id=<span class="string">&quot;WebGrease&quot;</span> version=<span class="string">&quot;1.1.0&quot;</span> targetFramework=<span class="string">&quot;net40&quot;</span> /&gt;</span><br><span class="line">&lt;/packages&gt;</span><br></pre></td></tr></table></figure><h1 id="åœ¨å¯¹åº”webé¡¹ç›®ä¸­è¿˜åŸåŒ…"><a href="#åœ¨å¯¹åº”webé¡¹ç›®ä¸­è¿˜åŸåŒ…" class="headerlink" title="åœ¨å¯¹åº”webé¡¹ç›®ä¸­è¿˜åŸåŒ…"></a><strong>åœ¨å¯¹åº”webé¡¹ç›®ä¸­è¿˜åŸåŒ…</strong></h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">update-package -projectname <span class="string">&#x27;YourProject&#x27;</span> -reinstall </span><br></pre></td></tr></table></figure><h1 id="æ–°å»ºApp-Startç›®å½•ï¼Œåœ¨é‡Œé¢åŠ ä¸Šmvcå¯¹åº”é…ç½®ä»£ç "><a href="#æ–°å»ºApp-Startç›®å½•ï¼Œåœ¨é‡Œé¢åŠ ä¸Šmvcå¯¹åº”é…ç½®ä»£ç " class="headerlink" title="æ–°å»ºApp_Startç›®å½•ï¼Œåœ¨é‡Œé¢åŠ ä¸Šmvcå¯¹åº”é…ç½®ä»£ç "></a><strong>æ–°å»ºApp_Startç›®å½•ï¼Œåœ¨é‡Œé¢åŠ ä¸Šmvcå¯¹åº”é…ç½®ä»£ç </strong></h1><h3 id="BundleConfig-csä¸ºé™æ€æ–‡ä»¶å‹ç¼©çš„é…ç½®ä»£ç ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹"><a href="#BundleConfig-csä¸ºé™æ€æ–‡ä»¶å‹ç¼©çš„é…ç½®ä»£ç ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹" class="headerlink" title="BundleConfig.csä¸ºé™æ€æ–‡ä»¶å‹ç¼©çš„é…ç½®ä»£ç ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹"></a><strong>BundleConfig.csä¸ºé™æ€æ–‡ä»¶å‹ç¼©çš„é…ç½®ä»£ç ï¼Œå‚è€ƒä»£ç å¦‚ä¸‹</strong></h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">BundleConfig</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="comment">// æœ‰å…³ Bundling çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—® http://go.microsoft.com/fwlink/?LinkId=254725</span></span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RegisterBundles</span>(<span class="params">BundleCollection bundles</span>)</span></span><br><span class="line"> &#123;</span><br><span class="line">  bundles.Add(<span class="keyword">new</span> ScriptBundle(<span class="string">&quot;~/bundles/jquery&quot;</span>).Include(</span><br><span class="line">     <span class="string">&quot;~/Scripts/jquery-&#123;version&#125;.js&quot;</span>));</span><br><span class="line">  bundles.Add(<span class="keyword">new</span> ScriptBundle(<span class="string">&quot;~/bundles/common&quot;</span>).Include(<span class="string">&quot;~/js/common*&quot;</span>));</span><br><span class="line">  bundles.Add(<span class="keyword">new</span> ScriptBundle(<span class="string">&quot;~/bundles/echarts&quot;</span>).Include(<span class="string">&quot;~/js/echarts.common*&quot;</span>));</span><br><span class="line">  bundles.Add(<span class="keyword">new</span> ScriptBundle(<span class="string">&quot;~/bundles/mustache&quot;</span>).Include(<span class="string">&quot;~/js/mustache*&quot;</span>));</span><br><span class="line">  bundles.Add(<span class="keyword">new</span> ScriptBundle(<span class="string">&quot;~/bundles/blockUI&quot;</span>).Include(<span class="string">&quot;~/js/jquery.blockUI*&quot;</span>));</span><br><span class="line">  bundles.Add(<span class="keyword">new</span> StyleBundle(<span class="string">&quot;~/Content/oa/css&quot;</span>).Include(<span class="string">&quot;~/css/oa/style.css&quot;</span>));</span><br><span class="line">  <span class="comment">//BundleTable.EnableOptimizations = true;</span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="RouteConfig-csä¸ºè·¯ç”±é…ç½®ä»£ç ï¼Œweb-formç›¸å…³èµ„æºè¦åœ¨æ­¤å¤„å¿½ç•¥è·¯ç”±è¿‡æ»¤"><a href="#RouteConfig-csä¸ºè·¯ç”±é…ç½®ä»£ç ï¼Œweb-formç›¸å…³èµ„æºè¦åœ¨æ­¤å¤„å¿½ç•¥è·¯ç”±è¿‡æ»¤" class="headerlink" title="RouteConfig.csä¸ºè·¯ç”±é…ç½®ä»£ç ï¼Œweb formç›¸å…³èµ„æºè¦åœ¨æ­¤å¤„å¿½ç•¥è·¯ç”±è¿‡æ»¤"></a><strong>RouteConfig.csä¸ºè·¯ç”±é…ç½®ä»£ç ï¼Œweb formç›¸å…³èµ„æºè¦åœ¨æ­¤å¤„å¿½ç•¥è·¯ç”±è¿‡æ»¤</strong></h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title">RouteConfig</span></span><br><span class="line">&#123;</span><br><span class="line"> <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">RegisterRoutes</span>(<span class="params">RouteCollection routes</span>)</span></span><br><span class="line"> &#123;</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;&#123;resource&#125;.axd/&#123;*pathInfo&#125;&quot;</span>);</span><br><span class="line">  <span class="comment">//routes.IgnoreRoute(&quot;&#123;resource&#125;.aspx/&#123;*pathInfo&#125;&quot;);</span></span><br><span class="line">  <span class="comment">//routes.IgnoreRoute(&quot;&#123;resource&#125;.ashx/&#123;*pathInfo&#125;&quot;);</span></span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;&#123;resource&#125;.aspx/&#123;*pathInfo&#125;&quot;</span>);</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;&#123;handler&#125;.ashx/&#123;*pathInfo&#125;&quot;</span>);</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;Handlers/&#123;handler&#125;.aspx/&#123;*pathInfo&#125;&quot;</span>);</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;ajaxpro/prototype.ashx&quot;</span>);</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;ajaxpro/core.ashx&quot;</span>);</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;ajaxpro/converter.ashx&quot;</span>);</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;ajaxpro/&#123;resource&#125;.ashx&quot;</span>);</span><br><span class="line">  routes.IgnoreRoute(<span class="string">&quot;&#123;resource&#125;.asmx/&#123;*pathInfo&#125;&quot;</span>);</span><br><span class="line">  routes.MapRoute(</span><br><span class="line">   name: <span class="string">&quot;Default&quot;</span>,</span><br><span class="line">   url: <span class="string">&quot;&#123;controller&#125;/&#123;action&#125;/&#123;id&#125;&quot;</span>,</span><br><span class="line">   defaults: <span class="keyword">new</span> &#123; controller = <span class="string">&quot;Home&quot;</span>, action = <span class="string">&quot;Index&quot;</span>, id = UrlParameter.Optional &#125;</span><br><span class="line">  );</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="WebApiConfig-csä¸ºWebApiçš„è·¯ç”±é…ç½®ï¼Œå‚è€ƒä»£ç ï¼š"><a href="#WebApiConfig-csä¸ºWebApiçš„è·¯ç”±é…ç½®ï¼Œå‚è€ƒä»£ç ï¼š" class="headerlink" title="WebApiConfig.csä¸ºWebApiçš„è·¯ç”±é…ç½®ï¼Œå‚è€ƒä»£ç ï¼š"></a><strong>WebApiConfig.csä¸ºWebApiçš„è·¯ç”±é…ç½®ï¼Œå‚è€ƒä»£ç ï¼š</strong></h3><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title">WebApiConfig</span></span><br><span class="line"> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">Register</span>(<span class="params">HttpConfiguration config</span>)</span></span><br><span class="line">  &#123;</span><br><span class="line">   config.Routes.MapHttpRoute(</span><br><span class="line">    name: <span class="string">&quot;DefaultApi&quot;</span>,</span><br><span class="line">    routeTemplate: <span class="string">&quot;api/&#123;controller&#125;/&#123;id&#125;&quot;</span>,</span><br><span class="line">    defaults: <span class="keyword">new</span> &#123; id = RouteParameter.Optional &#125;</span><br><span class="line">   );</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure><h1 id="Globalæ–‡ä»¶ä¸­Application-Startäº‹ä»¶ä¸­åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼Œä½¿ç¨‹åºå¯åŠ¨MVCé…ç½®ç”Ÿæ•ˆ"><a href="#Globalæ–‡ä»¶ä¸­Application-Startäº‹ä»¶ä¸­åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼Œä½¿ç¨‹åºå¯åŠ¨MVCé…ç½®ç”Ÿæ•ˆ" class="headerlink" title="Globalæ–‡ä»¶ä¸­Application_Startäº‹ä»¶ä¸­åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼Œä½¿ç¨‹åºå¯åŠ¨MVCé…ç½®ç”Ÿæ•ˆ"></a><strong>Globalæ–‡ä»¶ä¸­Application_Startäº‹ä»¶ä¸­åŠ ä¸Šå¦‚ä¸‹ä»£ç ï¼Œä½¿ç¨‹åºå¯åŠ¨MVCé…ç½®ç”Ÿæ•ˆ</strong></h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">AreaRegistration.RegisterAllAreas();</span><br><span class="line">GlobalConfiguration.Configuration.Formatters.JsonFormatter.MediaTypeMappings.Add(<span class="keyword">new</span> QueryStringMapping(<span class="string">&quot;json&quot;</span>, <span class="string">&quot;true&quot;</span>, <span class="string">&quot;application/json&quot;</span>));</span><br><span class="line">WebApiConfig.Register(GlobalConfiguration.Configuration);</span><br><span class="line">FilterConfig.RegisterGlobalFilters(GlobalFilters.Filters);</span><br><span class="line">RouteConfig.RegisterRoutes(RouteTable.Routes);</span><br><span class="line">BundleConfig.RegisterBundles(BundleTable.Bundles);</span><br><span class="line">GlobalConfiguration.Configuration.Formatters.XmlFormatter.SupportedMediaTypes.Clear(); </span><br></pre></td></tr></table></figure><h1 id="æ–°å»ºControllersæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢åŠ ä¸Šæ§åˆ¶å™¨ç±»"><a href="#æ–°å»ºControllersæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢åŠ ä¸Šæ§åˆ¶å™¨ç±»" class="headerlink" title="æ–°å»ºControllersæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢åŠ ä¸Šæ§åˆ¶å™¨ç±»"></a><strong>æ–°å»ºControllersæ–‡ä»¶å¤¹ï¼Œåœ¨é‡Œé¢åŠ ä¸Šæ§åˆ¶å™¨ç±»</strong></h1><figure class="highlight c#"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">public</span> <span class="keyword">class</span> <span class="title">DocRecController</span> : <span class="title">Controller</span></span><br><span class="line"> &#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> ActionResult <span class="title">Index</span>()</span></span><br><span class="line">  &#123;</span><br><span class="line">   ViewBag.UserName = <span class="string">&quot;wilson.fu&quot;</span>;<span class="keyword">return</span> View();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ–°å»ºViewsæ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŠ ä¸Šå¯¹åº”è§†å›¾æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æ¨¡æ¿ï¼Œè¿˜éœ€å¢åŠ -ViewStart-cshtml-æ–‡ä»¶ï¼Œä¾‹å¦‚DocRec-x2F-Index-cshtmlï¼Œæ–‡ä»¶å¦‚ä¸‹"><a href="#æ–°å»ºViewsæ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŠ ä¸Šå¯¹åº”è§†å›¾æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æ¨¡æ¿ï¼Œè¿˜éœ€å¢åŠ -ViewStart-cshtml-æ–‡ä»¶ï¼Œä¾‹å¦‚DocRec-x2F-Index-cshtmlï¼Œæ–‡ä»¶å¦‚ä¸‹" class="headerlink" title="æ–°å»ºViewsæ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŠ ä¸Šå¯¹åº”è§†å›¾æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æ¨¡æ¿ï¼Œè¿˜éœ€å¢åŠ _ViewStart.cshtml æ–‡ä»¶ï¼Œä¾‹å¦‚DocRec&#x2F;Index.cshtmlï¼Œæ–‡ä»¶å¦‚ä¸‹"></a><strong>æ–°å»ºViewsæ–‡ä»¶å¤¹ï¼Œé‡Œé¢åŠ ä¸Šå¯¹åº”è§†å›¾æ–‡ä»¶ï¼Œå¦‚æœéœ€è¦ä½¿ç”¨æ¨¡æ¿ï¼Œè¿˜éœ€å¢åŠ _ViewStart.cshtml æ–‡ä»¶ï¼Œä¾‹å¦‚DocRec&#x2F;Index.cshtmlï¼Œæ–‡ä»¶å¦‚ä¸‹</strong></h1><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@&#123;</span><br><span class="line"> <span class="title class_">Layout</span> = <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  @ViewBag.UserName</span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"> <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="Viewsæ–‡ä»¶å¤¹ä¸‹è¿˜éœ€è¦åŠ ä¸ŠWeb-configæ–‡ä»¶è¿›è¡Œè¯·æ±‚è¿‡æ»¤"><a href="#Viewsæ–‡ä»¶å¤¹ä¸‹è¿˜éœ€è¦åŠ ä¸ŠWeb-configæ–‡ä»¶è¿›è¡Œè¯·æ±‚è¿‡æ»¤" class="headerlink" title="Viewsæ–‡ä»¶å¤¹ä¸‹è¿˜éœ€è¦åŠ ä¸ŠWeb.configæ–‡ä»¶è¿›è¡Œè¯·æ±‚è¿‡æ»¤"></a><strong>Viewsæ–‡ä»¶å¤¹ä¸‹è¿˜éœ€è¦åŠ ä¸ŠWeb.configæ–‡ä»¶è¿›è¡Œè¯·æ±‚è¿‡æ»¤</strong></h3><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">configuration</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">configSections</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">sectionGroup</span> <span class="attr">name</span>=<span class="string">&quot;system.web.webPages.razor&quot;</span> <span class="attr">type</span>=<span class="string">&quot;System.Web.WebPages.Razor.Configuration.RazorWebSectionGroup, System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">name</span>=<span class="string">&quot;host&quot;</span> <span class="attr">type</span>=<span class="string">&quot;System.Web.WebPages.Razor.Configuration.HostSection, System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span> <span class="attr">requirePermission</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">section</span> <span class="attr">name</span>=<span class="string">&quot;pages&quot;</span> <span class="attr">type</span>=<span class="string">&quot;System.Web.WebPages.Razor.Configuration.RazorPagesSection, System.Web.WebPages.Razor, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span> <span class="attr">requirePermission</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">sectionGroup</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">configSections</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">system.web.webPages.razor</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">host</span> <span class="attr">factoryType</span>=<span class="string">&quot;System.Web.Mvc.MvcWebRazorHostFactory, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">pages</span> <span class="attr">pageBaseType</span>=<span class="string">&quot;System.Web.Mvc.WebViewPage&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">namespaces</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">namespace</span>=<span class="string">&quot;System.Web.Mvc&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">namespace</span>=<span class="string">&quot;System.Web.Mvc.Ajax&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">namespace</span>=<span class="string">&quot;System.Web.Mvc.Html&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">namespace</span>=<span class="string">&quot;System.Web.Routing&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">namespaces</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">pages</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">system.web.webPages.razor</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">appSettings</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">add</span> <span class="attr">key</span>=<span class="string">&quot;webpages:Enabled&quot;</span> <span class="attr">value</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">appSettings</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">system.web</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">httpHandlers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">path</span>=<span class="string">&quot;*&quot;</span> <span class="attr">verb</span>=<span class="string">&quot;*&quot;</span> <span class="attr">type</span>=<span class="string">&quot;System.Web.HttpNotFoundHandler&quot;</span>/&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">httpHandlers</span>&gt;</span></span><br><span class="line"> <span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">  åœ¨è§†å›¾é¡µé¢ä¸­å¯ç”¨è¯·æ±‚éªŒè¯å°†å¯¼è‡´éªŒè¯åœ¨</span></span><br><span class="line"><span class="comment">  æ§åˆ¶å™¨å·²å¯¹è¾“å…¥è¿›è¡Œå¤„ç†åå‘ç”Ÿã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ</span></span><br><span class="line"><span class="comment">  MVC åœ¨æ§åˆ¶å™¨å¤„ç†è¾“å…¥å‰æ‰§è¡Œè¯·æ±‚éªŒè¯ã€‚</span></span><br><span class="line"><span class="comment">  è‹¥è¦æ›´æ”¹æ­¤è¡Œä¸ºï¼Œè¯·å¯¹æ§åˆ¶å™¨æˆ–æ“ä½œ</span></span><br><span class="line"><span class="comment">  åº”ç”¨ ValidateInputAttributeã€‚</span></span><br><span class="line"><span class="comment"> --&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">pages</span></span></span><br><span class="line"><span class="tag">  <span class="attr">validateRequest</span>=<span class="string">&quot;false&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">pageParserFilterType</span>=<span class="string">&quot;System.Web.Mvc.ViewTypeParserFilter, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">pageBaseType</span>=<span class="string">&quot;System.Web.Mvc.ViewPage, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span></span></span><br><span class="line"><span class="tag">  <span class="attr">userControlBaseType</span>=<span class="string">&quot;System.Web.Mvc.ViewUserControl, System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">controls</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">assembly</span>=<span class="string">&quot;System.Web.Mvc, Version=4.0.0.0, Culture=neutral, PublicKeyToken=31BF3856AD364E35&quot;</span> <span class="attr">namespace</span>=<span class="string">&quot;System.Web.Mvc&quot;</span> <span class="attr">tagPrefix</span>=<span class="string">&quot;mvc&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">controls</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">pages</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">system.web</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">validation</span> <span class="attr">validateIntegratedModeConfiguration</span>=<span class="string">&quot;false&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;<span class="name">handlers</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">remove</span> <span class="attr">name</span>=<span class="string">&quot;BlockViewHandler&quot;</span>/&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">add</span> <span class="attr">name</span>=<span class="string">&quot;BlockViewHandler&quot;</span> <span class="attr">path</span>=<span class="string">&quot;*&quot;</span> <span class="attr">verb</span>=<span class="string">&quot;*&quot;</span> <span class="attr">preCondition</span>=<span class="string">&quot;integratedMode&quot;</span> <span class="attr">type</span>=<span class="string">&quot;System.Web.HttpNotFoundHandler&quot;</span> /&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">handlers</span>&gt;</span></span><br><span class="line"> <span class="tag">&lt;/<span class="name">system.webServer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">configuration</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="note info simple"><p>æœ¬ç¯‡æ–‡ç« è½¬è½½äº<a href="https://bbs.mymyjd.cn/article_7223.html">https://bbs.mymyjd.cn/article_7223.html</a></p></div>]]></content>
      
      
      <categories>
          
          <category> ASP.NET </category>
          
      </categories>
      
      
        <tags>
            
            <tag> WebForm </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
